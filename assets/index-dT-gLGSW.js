var RL=Object.defineProperty;var PL=(t,e,n)=>e in t?RL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var M0=(t,e,n)=>PL(t,typeof e!="symbol"?e+"":e,n);function NL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ms(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j0={exports:{}},Yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function DL(){if(d2)return Yf;d2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Yf.Fragment=e,Yf.jsx=n,Yf.jsxs=n,Yf}var h2;function kL(){return h2||(h2=1,j0.exports=DL()),j0.exports}var A=kL(),L0={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function ML(){if(m2)return We;m2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function x(H,oe,ue){this.props=H,this.context=oe,this.refs=w,this.updater=ue||_}x.prototype.isReactComponent={},x.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},x.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=x.prototype;function R(H,oe,ue){this.props=H,this.context=oe,this.refs=w,this.updater=ue||_}var k=R.prototype=new C;k.constructor=R,E(k,x.prototype),k.isPureReactComponent=!0;var q=Array.isArray,M={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function P(H,oe,ue,ye,we,Me){return ue=Me.ref,{$$typeof:t,type:H,key:oe,ref:ue!==void 0?ue:null,props:Me}}function N(H,oe){return P(H.type,oe,void 0,void 0,void 0,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ue){return oe[ue]})}var z=/\/+/g;function F(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):oe.toString(36)}function B(){}function _e(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(B,B):(H.status="pending",H.then(function(oe){H.status==="pending"&&(H.status="fulfilled",H.value=oe)},function(oe){H.status==="pending"&&(H.status="rejected",H.reason=oe)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function me(H,oe,ue,ye,we){var Me=typeof H;(Me==="undefined"||Me==="boolean")&&(H=null);var ze=!1;if(H===null)ze=!0;else switch(Me){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(H.$$typeof){case t:case e:ze=!0;break;case m:return ze=H._init,me(ze(H._payload),oe,ue,ye,we)}}if(ze)return we=we(H),ze=ye===""?"."+F(H,0):ye,q(we)?(ue="",ze!=null&&(ue=ze.replace(z,"$&/")+"/"),me(we,oe,ue,"",function(ge){return ge})):we!=null&&(D(we)&&(we=N(we,ue+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(z,"$&/")+"/")+ze)),oe.push(we)),1;ze=0;var Nt=ye===""?".":ye+":";if(q(H))for(var Je=0;Je<H.length;Je++)ye=H[Je],Me=Nt+F(ye,Je),ze+=me(ye,oe,ue,Me,we);else if(Je=v(H),typeof Je=="function")for(H=Je.call(H),Je=0;!(ye=H.next()).done;)ye=ye.value,Me=Nt+F(ye,Je++),ze+=me(ye,oe,ue,Me,we);else if(Me==="object"){if(typeof H.then=="function")return me(_e(H),oe,ue,ye,we);throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return ze}function te(H,oe,ue){if(H==null)return H;var ye=[],we=0;return me(H,ye,"","",function(Me){return oe.call(ue,Me,we++)}),ye}function he(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(ue){(H._status===0||H._status===-1)&&(H._status=1,H._result=ue)},function(ue){(H._status===0||H._status===-1)&&(H._status=2,H._result=ue)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var ve=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return We.Children={map:te,forEach:function(H,oe,ue){te(H,function(){oe.apply(this,arguments)},ue)},count:function(H){var oe=0;return te(H,function(){oe++}),oe},toArray:function(H){return te(H,function(oe){return oe})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},We.Component=x,We.Fragment=n,We.Profiler=i,We.PureComponent=R,We.StrictMode=r,We.Suspense=f,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,We.act=function(){throw Error("act(...) is not supported in production builds of React.")},We.cache=function(H){return function(){return H.apply(null,arguments)}},We.cloneElement=function(H,oe,ue){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ye=E({},H.props),we=H.key,Me=void 0;if(oe!=null)for(ze in oe.ref!==void 0&&(Me=void 0),oe.key!==void 0&&(we=""+oe.key),oe)!U.call(oe,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&oe.ref===void 0||(ye[ze]=oe[ze]);var ze=arguments.length-2;if(ze===1)ye.children=ue;else if(1<ze){for(var Nt=Array(ze),Je=0;Je<ze;Je++)Nt[Je]=arguments[Je+2];ye.children=Nt}return P(H.type,we,void 0,void 0,Me,ye)},We.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},We.createElement=function(H,oe,ue){var ye,we={},Me=null;if(oe!=null)for(ye in oe.key!==void 0&&(Me=""+oe.key),oe)U.call(oe,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(we[ye]=oe[ye]);var ze=arguments.length-2;if(ze===1)we.children=ue;else if(1<ze){for(var Nt=Array(ze),Je=0;Je<ze;Je++)Nt[Je]=arguments[Je+2];we.children=Nt}if(H&&H.defaultProps)for(ye in ze=H.defaultProps,ze)we[ye]===void 0&&(we[ye]=ze[ye]);return P(H,Me,void 0,void 0,null,we)},We.createRef=function(){return{current:null}},We.forwardRef=function(H){return{$$typeof:c,render:H}},We.isValidElement=D,We.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:he}},We.memo=function(H,oe){return{$$typeof:d,type:H,compare:oe===void 0?null:oe}},We.startTransition=function(H){var oe=M.T,ue={};M.T=ue;try{var ye=H(),we=M.S;we!==null&&we(ue,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(xe,ve)}catch(Me){ve(Me)}finally{M.T=oe}},We.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},We.use=function(H){return M.H.use(H)},We.useActionState=function(H,oe,ue){return M.H.useActionState(H,oe,ue)},We.useCallback=function(H,oe){return M.H.useCallback(H,oe)},We.useContext=function(H){return M.H.useContext(H)},We.useDebugValue=function(){},We.useDeferredValue=function(H,oe){return M.H.useDeferredValue(H,oe)},We.useEffect=function(H,oe){return M.H.useEffect(H,oe)},We.useId=function(){return M.H.useId()},We.useImperativeHandle=function(H,oe,ue){return M.H.useImperativeHandle(H,oe,ue)},We.useInsertionEffect=function(H,oe){return M.H.useInsertionEffect(H,oe)},We.useLayoutEffect=function(H,oe){return M.H.useLayoutEffect(H,oe)},We.useMemo=function(H,oe){return M.H.useMemo(H,oe)},We.useOptimistic=function(H,oe){return M.H.useOptimistic(H,oe)},We.useReducer=function(H,oe,ue){return M.H.useReducer(H,oe,ue)},We.useRef=function(H){return M.H.useRef(H)},We.useState=function(H){return M.H.useState(H)},We.useSyncExternalStore=function(H,oe,ue){return M.H.useSyncExternalStore(H,oe,ue)},We.useTransition=function(){return M.H.useTransition()},We.version="19.0.0",We}var p2;function Tc(){return p2||(p2=1,L0.exports=ML()),L0.exports}var S=Tc();const De=ms(S),jL=NL({__proto__:null,default:De},[S]);var V0={exports:{}},Wf={},U0={exports:{}},B0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function LL(){return g2||(g2=1,function(t){function e(te,he){var ve=te.length;te.push(he);e:for(;0<ve;){var xe=ve-1>>>1,H=te[xe];if(0<i(H,he))te[xe]=he,te[ve]=H,ve=xe;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],ve=te.pop();if(ve!==he){te[0]=ve;e:for(var xe=0,H=te.length,oe=H>>>1;xe<oe;){var ue=2*(xe+1)-1,ye=te[ue],we=ue+1,Me=te[we];if(0>i(ye,ve))we<H&&0>i(Me,ye)?(te[xe]=Me,te[we]=ve,xe=we):(te[xe]=ye,te[ue]=ve,xe=ue);else if(we<H&&0>i(Me,ve))te[xe]=Me,te[we]=ve,xe=we;else break e}}return he}function i(te,he){var ve=te.sortIndex-he.sortIndex;return ve!==0?ve:te.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],m=1,g=null,v=3,_=!1,E=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function k(te){for(var he=n(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=te)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(d)}}function q(te){if(w=!1,k(te),!E)if(n(f)!==null)E=!0,_e();else{var he=n(d);he!==null&&me(q,he.startTime-te)}}var M=!1,U=-1,P=5,N=-1;function D(){return!(t.unstable_now()-N<P)}function L(){if(M){var te=t.unstable_now();N=te;var he=!0;try{e:{E=!1,w&&(w=!1,C(U),U=-1),_=!0;var ve=v;try{t:{for(k(te),g=n(f);g!==null&&!(g.expirationTime>te&&D());){var xe=g.callback;if(typeof xe=="function"){g.callback=null,v=g.priorityLevel;var H=xe(g.expirationTime<=te);if(te=t.unstable_now(),typeof H=="function"){g.callback=H,k(te),he=!0;break t}g===n(f)&&r(f),k(te)}else r(f);g=n(f)}if(g!==null)he=!0;else{var oe=n(d);oe!==null&&me(q,oe.startTime-te),he=!1}}break e}finally{g=null,v=ve,_=!1}he=void 0}}finally{he?z():M=!1}}}var z;if(typeof R=="function")z=function(){R(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=L,z=function(){B.postMessage(null)}}else z=function(){x(L,0)};function _e(){M||(M=!0,z())}function me(te,he){U=x(function(){te(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,_e())},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(te){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var ve=v;v=he;try{return te()}finally{v=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=v;v=te;try{return he()}finally{v=ve}},t.unstable_scheduleCallback=function(te,he,ve){var xe=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?xe+ve:xe):ve=xe,te){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ve+H,te={id:m++,callback:he,priorityLevel:te,startTime:ve,expirationTime:H,sortIndex:-1},ve>xe?(te.sortIndex=ve,e(d,te),n(f)===null&&te===n(d)&&(w?(C(U),U=-1):w=!0,me(q,ve-xe))):(te.sortIndex=H,e(f,te),E||_||(E=!0,_e())),te},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(te){var he=v;return function(){var ve=v;v=he;try{return te.apply(this,arguments)}finally{v=ve}}}}(B0)),B0}var y2;function VL(){return y2||(y2=1,U0.exports=LL()),U0.exports}var z0={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function UL(){if(v2)return Yn;v2=1;var t=Tc();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,m)},Yn.flushSync=function(f){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=m,r.d.f()}},Yn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Yn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Yn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Yn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Yn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Yn.requestFormReset=function(f){r.d.r(f)},Yn.unstable_batchedUpdates=function(f,d){return f(d)},Yn.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},Yn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Yn.version="19.0.0",Yn}var b2;function fN(){if(b2)return z0.exports;b2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),z0.exports=UL(),z0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function BL(){if(_2)return Wf;_2=1;var t=VL(),e=Tc(),n=fN();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),q=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var P=Symbol.for("react.client.reference");function N(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===P?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f:return"Fragment";case c:return"Portal";case m:return"Profiler";case d:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _:return(a.displayName||"Context")+".Provider";case v:return(a._context.displayName||"Context")+".Consumer";case E:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return o=a.displayName||null,o!==null?o:N(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return N(a(o))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,z,F;function B(a){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||"",F=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+a+F}var _e=!1;function me(a,o){if(!a||_e)return"";_e=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var J=re}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(re){J=re}a.call(fe.prototype)}}else{try{throw Error()}catch(re){J=re}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),I=b[0],j=b[1];if(I&&j){var $=I.split(`
`),Y=j.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===Y.length)for(h=$.length-1,y=Y.length-1;1<=h&&0<=y&&$[h]!==Y[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==Y[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==Y[y]){var ae=`
`+$[h].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=h&&0<=y);break}}}finally{_e=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?B(u):""}function te(a){switch(a.tag){case 26:case 27:case 5:return B(a.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function he(a){try{var o="";do o+=te(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ve(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function xe(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function H(a){if(ve(a)!==a)throw Error(r(188))}function oe(a){var o=a.alternate;if(!o){if(o=ve(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return H(y),a;if(b===h)return H(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=b;else{for(var I=!1,j=y.child;j;){if(j===u){I=!0,u=y,h=b;break}if(j===h){I=!0,h=y,u=b;break}j=j.sibling}if(!I){for(j=b.child;j;){if(j===u){I=!0,u=b,h=y;break}if(j===h){I=!0,h=b,u=y;break}j=j.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function ue(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=ue(a),o!==null)return o;a=a.sibling}return null}var ye=Array.isArray,we=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},ze=[],Nt=-1;function Je(a){return{current:a}}function ge(a){0>Nt||(a.current=ze[Nt],ze[Nt]=null,Nt--)}function Ie(a,o){Nt++,ze[Nt]=a.current,a.current=o}var Ue=Je(null),de=Je(null),yt=Je(null),et=Je(null);function Ut(a,o){switch(Ie(yt,o),Ie(de,a),Ie(Ue,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?zS(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=zS(a),o=FS(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ge(Ue),Ie(Ue,o)}function Mt(){ge(Ue),ge(de),ge(yt)}function hr(a){a.memoizedState!==null&&Ie(et,a);var o=Ue.current,u=FS(o,a.type);o!==u&&(Ie(de,a),Ie(Ue,u))}function K(a){de.current===a&&(ge(Ue),ge(de)),et.current===a&&(ge(et),qf._currentValue=Me)}var Z=Object.prototype.hasOwnProperty,ne=t.unstable_scheduleCallback,Te=t.unstable_cancelCallback,Ee=t.unstable_shouldYield,pe=t.unstable_requestPaint,Re=t.unstable_now,Ye=t.unstable_getCurrentPriorityLevel,tt=t.unstable_ImmediatePriority,rt=t.unstable_UserBlockingPriority,xn=t.unstable_NormalPriority,ou=t.unstable_LowPriority,ba=t.unstable_IdlePriority,$o=t.log,_a=t.unstable_setDisableYieldValue,wi=null,Tn=null;function Es(a){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(wi,a,void 0,(a.current.flags&128)===128)}catch{}}function Ui(a){if(typeof $o=="function"&&_a(a),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(wi,a)}catch{}}var tr=Math.clz32?Math.clz32:Th,Kc=Math.log,xh=Math.LN2;function Th(a){return a>>>=0,a===0?32:31-(Kc(a)/xh|0)|0}var Bi=128,xs=4194304;function Ei(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function $r(a,o){var u=a.pendingLanes;if(u===0)return 0;var h=0,y=a.suspendedLanes,b=a.pingedLanes,I=a.warmLanes;a=a.finishedLanes!==0;var j=u&134217727;return j!==0?(u=j&~y,u!==0?h=Ei(u):(b&=j,b!==0?h=Ei(b):a||(I=j&~I,I!==0&&(h=Ei(I))))):(j=u&~y,j!==0?h=Ei(j):b!==0?h=Ei(b):a||(I=u&~I,I!==0&&(h=Ei(I)))),h===0?0:o!==0&&o!==h&&(o&y)===0&&(y=h&-h,I=o&-o,y>=I||y===32&&(I&4194176)!==0)?o:h}function Ts(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function lu(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var a=Bi;return Bi<<=1,(Bi&4194176)===0&&(Bi=128),a}function As(){var a=xs;return xs<<=1,(xs&62914560)===0&&(xs=4194304),a}function uu(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Qt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ah(a,o,u,h,y,b){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var j=a.entanglements,$=a.expirationTimes,Y=a.hiddenUpdates;for(u=I&~u;0<u;){var ae=31-tr(u),fe=1<<ae;j[ae]=0,$[ae]=-1;var J=Y[ae];if(J!==null)for(Y[ae]=null,ae=0;ae<J.length;ae++){var re=J[ae];re!==null&&(re.lane&=-536870913)}u&=~fe}h!==0&&Ss(a,h,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(I&~o))}function Ss(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-tr(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&4194218}function Cs(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-tr(u),y=1<<h;y&o|a[h]&o&&(a[h]|=o),u&=~y}}function Sh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ch(){var a=we.p;return a!==0?a:(a=window.event,a===void 0?32:s2(a.type))}function Os(a,o){var u=we.p;try{return we.p=a,o()}finally{we.p=u}}var zi=Math.random().toString(36).slice(2),An="__reactFiber$"+zi,hn="__reactProps$"+zi,wa="__reactContainer$"+zi,Ho="__reactEvents$"+zi,cu="__reactListeners$"+zi,Fi="__reactHandles$"+zi,Yc="__reactResources$"+zi,Is="__reactMarker$"+zi;function Ko(a){delete a[An],delete a[hn],delete a[Ho],delete a[cu],delete a[Fi]}function xi(a){var o=a[An];if(o)return o;for(var u=a.parentNode;u;){if(o=u[wa]||u[An]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=HS(a);a!==null;){if(u=a[An])return u;a=HS(a)}return o}a=u,u=a.parentNode}return null}function Ea(a){if(a=a[An]||a[wa]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Rs(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ps(a){var o=a[Yc];return o||(o=a[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Bt(a){a[Is]=!0}var Wc=new Set,fu={};function Tr(a,o){mr(a,o),mr(a+"Capture",o)}function mr(a,o){for(fu[a]=o,a=0;a<o.length;a++)Wc.add(o[a])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},Qc={};function Oh(a){return Z.call(Qc,a)?!0:Z.call(Xc,a)?!1:Uy.test(a)?Qc[a]=!0:(Xc[a]=!0,!1)}function Ns(a,o,u){if(Oh(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Ds(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Hr(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function nr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ih(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function By(a){var o=Ih(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),h=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){h=""+I,b.call(this,I)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Go(a){a._valueTracker||(a._valueTracker=By(a))}function Zc(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=Ih(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function du(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var xa=/[\n"\\]/g;function $t(a){return a.replace(xa,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ks(a,o,u,h,y,b,I,j){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+nr(o)):a.value!==""+nr(o)&&(a.value=""+nr(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?hu(a,I,nr(o)):u!=null?hu(a,I,nr(u)):h!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+nr(j):a.removeAttribute("name")}function Yo(a,o,u,h,y,b,I,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+nr(u):"",o=o!=null?""+nr(o):u,j||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=j?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I)}function hu(a,o,u){o==="number"&&du(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function dt(a,o,u,h){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&h&&(a[u].defaultSelected=!0)}else{for(u=""+nr(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Wo(a,o,u){if(o!=null&&(o=""+nr(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+nr(u):""}function Ms(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(ye(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=nr(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h)}function Kr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var zy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jc(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||zy.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Rh(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&Jc(a,y,h)}else for(var b in o)o.hasOwnProperty(b)&&Jc(a,b,o[b])}function ef(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(a){return qy.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Gr=null;function mu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ta=null,Aa=null;function Sa(a){var o=Ea(a);if(o&&(a=o.stateNode)){var u=a[hn]||null;e:switch(a=o.stateNode,o.type){case"input":if(ks(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+$t(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var y=h[hn]||null;if(!y)throw Error(r(90));ks(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Zc(h)}break e;case"textarea":Wo(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&dt(a,!!u.multiple,o,!1)}}}var tf=!1;function Ph(a,o,u){if(tf)return a(o,u);tf=!0;try{var h=a(o);return h}finally{if(tf=!1,(Ta!==null||Aa!==null)&&(Em(),Ta&&(o=Ta,a=Aa,Aa=Ta=null,Sa(o),a)))for(o=0;o<a.length;o++)Sa(a[o])}}function Xo(a,o){var u=a.stateNode;if(u===null)return null;var h=u[hn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Yr=!1;if(Ar)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Yr=!1}var $i=null,js=null,Ca=null;function nf(){if(Ca)return Ca;var a,o=js,u=o.length,h,y="value"in $i?$i.value:$i.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var I=u-a;for(h=1;h<=I&&o[u-h]===y[b-h];h++);return Ca=y.slice(a,1<h?1-h:void 0)}function Hi(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ki(){return!0}function rf(){return!1}function Sn(a){function o(u,h,y,b,I){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(u=a[j],this[j]=u?u(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ki:rf,this.isPropagationStopped=rf,this}return L(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),o}var vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=Sn(vt),Zo=L({},vt,{view:0,detail:0}),Nh=Sn(Zo),gu,yu,Gi,Jo=L({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Gi&&(Gi&&a.type==="mousemove"?(gu=a.screenX-Gi.screenX,yu=a.screenY-Gi.screenY):yu=gu=0,Gi=a),gu)},movementY:function(a){return"movementY"in a?a.movementY:yu}}),Wr=Sn(Jo),Dh=L({},Jo,{dataTransfer:0}),$y=Sn(Dh),el=L({},Zo,{relatedTarget:0}),vu=Sn(el),af=L({},vt,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Sn(af),kh=L({},vt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),_u=Sn(kh),Hy=L({},vt,{data:0}),sf=Sn(Hy),tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function of(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=jh[a])?!!o[a]:!1}function nl(){return of}var Lh=L({},Zo,{key:function(a){if(a.key){var o=tl[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Hi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Mh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(a){return a.type==="keypress"?Hi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Hi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),wu=Sn(Lh),Vh=L({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=Sn(Vh),Oa=L({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),Uh=Sn(Oa),Bh=L({},vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zh=Sn(Bh),Fh=L({},Jo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Eu=Sn(Fh),rr=L({},vt,{newState:0,oldState:0}),qh=Sn(rr),$h=[9,13,27,32],Yi=Ar&&"CompositionEvent"in window,p=null;Ar&&"documentMode"in document&&(p=document.documentMode);var T=Ar&&"TextEvent"in window&&!p,O=Ar&&(!Yi||p&&8<p&&11>=p),V=" ",X=!1;function ee(a,o){switch(a){case"keyup":return $h.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var lt=!1;function mn(a,o){switch(a){case"compositionend":return be(o);case"keypress":return o.which!==32?null:(X=!0,V);case"textInput":return a=o.data,a===V&&X?null:a;default:return null}}function ut(a,o){if(lt)return a==="compositionend"||!Yi&&ee(a,o)?(a=nf(),Ca=js=$i=null,lt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return O&&o.locale!=="ko"?null:o.data;default:return null}}var Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Cn[a.type]:o==="textarea"}function Ia(a,o,u,h){Ta?Aa?Aa.push(h):Aa=[h]:Ta=h,o=Cm(o,"onChange"),0<o.length&&(u=new pu("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Mn=null,Wi=null;function uf(a){jS(a,0)}function Hh(a){var o=Rs(a);if(Zc(o))return a}function fT(a,o){if(a==="change")return o}var dT=!1;if(Ar){var Ky;if(Ar){var Gy="oninput"in document;if(!Gy){var hT=document.createElement("div");hT.setAttribute("oninput","return;"),Gy=typeof hT.oninput=="function"}Ky=Gy}else Ky=!1;dT=Ky&&(!document.documentMode||9<document.documentMode)}function mT(){Mn&&(Mn.detachEvent("onpropertychange",pT),Wi=Mn=null)}function pT(a){if(a.propertyName==="value"&&Hh(Wi)){var o=[];Ia(o,Wi,a,mu(a)),Ph(uf,o)}}function s5(a,o,u){a==="focusin"?(mT(),Mn=o,Wi=u,Mn.attachEvent("onpropertychange",pT)):a==="focusout"&&mT()}function o5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hh(Wi)}function l5(a,o){if(a==="click")return Hh(o)}function u5(a,o){if(a==="input"||a==="change")return Hh(o)}function c5(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Sr=typeof Object.is=="function"?Object.is:c5;function cf(a,o){if(Sr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!Z.call(o,y)||!Sr(a[y],o[y]))return!1}return!0}function gT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function yT(a,o){var u=gT(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gT(u)}}function vT(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?vT(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function bT(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=du(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=du(a.document)}return o}function Yy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function f5(a,o){var u=bT(o);o=a.focusedElem;var h=a.selectionRange;if(u!==o&&o&&o.ownerDocument&&vT(o.ownerDocument.documentElement,o)){if(h!==null&&Yy(o)){if(a=h.start,u=h.end,u===void 0&&(u=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(u,o.value.length);else if(u=(a=o.ownerDocument||document)&&a.defaultView||window,u.getSelection){u=u.getSelection();var y=o.textContent.length,b=Math.min(h.start,y);h=h.end===void 0?b:Math.min(h.end,y),!u.extend&&b>h&&(y=h,h=b,b=y),y=yT(o,b);var I=yT(o,h);y&&I&&(u.rangeCount!==1||u.anchorNode!==y.node||u.anchorOffset!==y.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),u.removeAllRanges(),b>h?(u.addRange(a),u.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),u.addRange(a)))}}for(a=[],u=o;u=u.parentNode;)u.nodeType===1&&a.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)u=a[o],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var d5=Ar&&"documentMode"in document&&11>=document.documentMode,xu=null,Wy=null,ff=null,Xy=!1;function _T(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xy||xu==null||xu!==du(h)||(h=xu,"selectionStart"in h&&Yy(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ff&&cf(ff,h)||(ff=h,h=Cm(Wy,"onSelect"),0<h.length&&(o=new pu("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=xu)))}function rl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Tu={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionrun:rl("Transition","TransitionRun"),transitionstart:rl("Transition","TransitionStart"),transitioncancel:rl("Transition","TransitionCancel"),transitionend:rl("Transition","TransitionEnd")},Qy={},wT={};Ar&&(wT=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function il(a){if(Qy[a])return Qy[a];if(!Tu[a])return a;var o=Tu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in wT)return Qy[a]=o[u];return a}var ET=il("animationend"),xT=il("animationiteration"),TT=il("animationstart"),h5=il("transitionrun"),m5=il("transitionstart"),p5=il("transitioncancel"),AT=il("transitionend"),ST=new Map,CT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ti(a,o){ST.set(a,o),Tr(o,[a])}var Xr=[],Au=0,Zy=0;function Kh(){for(var a=Au,o=Zy=Au=0;o<a;){var u=Xr[o];Xr[o++]=null;var h=Xr[o];Xr[o++]=null;var y=Xr[o];Xr[o++]=null;var b=Xr[o];if(Xr[o++]=null,h!==null&&y!==null){var I=h.pending;I===null?y.next=y:(y.next=I.next,I.next=y),h.pending=y}b!==0&&OT(u,y,b)}}function Gh(a,o,u,h){Xr[Au++]=a,Xr[Au++]=o,Xr[Au++]=u,Xr[Au++]=h,Zy|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Jy(a,o,u,h){return Gh(a,o,u,h),Yh(a)}function Ls(a,o){return Gh(a,null,null,o),Yh(a)}function OT(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;y&&o!==null&&a.tag===3&&(b=a.stateNode,y=31-tr(u),b=b.hiddenUpdates,a=b[y],a===null?b[y]=[o]:a.push(o),o.lane=u|536870912)}function Yh(a){if(50<jf)throw jf=0,a0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Su={},IT=new WeakMap;function Qr(a,o){if(typeof a=="object"&&a!==null){var u=IT.get(a);return u!==void 0?u:(o={value:a,source:o,stack:he(o)},IT.set(a,o),o)}return{value:a,source:o,stack:he(o)}}var Cu=[],Ou=0,Wh=null,Xh=0,Zr=[],Jr=0,al=null,Ra=1,Pa="";function sl(a,o){Cu[Ou++]=Xh,Cu[Ou++]=Wh,Wh=a,Xh=o}function RT(a,o,u){Zr[Jr++]=Ra,Zr[Jr++]=Pa,Zr[Jr++]=al,al=a;var h=Ra;a=Pa;var y=32-tr(h)-1;h&=~(1<<y),u+=1;var b=32-tr(o)+y;if(30<b){var I=y-y%5;b=(h&(1<<I)-1).toString(32),h>>=I,y-=I,Ra=1<<32-tr(o)+y|u<<y|h,Pa=b+a}else Ra=1<<b|u<<y|h,Pa=a}function ev(a){a.return!==null&&(sl(a,1),RT(a,1,0))}function tv(a){for(;a===Wh;)Wh=Cu[--Ou],Cu[Ou]=null,Xh=Cu[--Ou],Cu[Ou]=null;for(;a===al;)al=Zr[--Jr],Zr[Jr]=null,Pa=Zr[--Jr],Zr[Jr]=null,Ra=Zr[--Jr],Zr[Jr]=null}var ir=null,jn=null,ht=!1,Ai=null,Xi=!1,nv=Error(r(519));function ol(a){var o=Error(r(418,""));throw mf(Qr(o,a)),nv}function PT(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[An]=a,o[hn]=h,u){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(u=0;u<Vf.length;u++)ot(Vf[u],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":ot("invalid",o),Yo(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Go(o);break;case"select":ot("invalid",o);break;case"textarea":ot("invalid",o),Ms(o,h.value,h.defaultValue,h.children),Go(o)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||BS(o.textContent,u)?(h.popover!=null&&(ot("beforetoggle",o),ot("toggle",o)),h.onScroll!=null&&ot("scroll",o),h.onScrollEnd!=null&&ot("scrollend",o),h.onClick!=null&&(o.onclick=Om),o=!0):o=!1,o||ol(a)}function NT(a){for(ir=a.return;ir;)switch(ir.tag){case 3:case 27:Xi=!0;return;case 5:case 13:Xi=!1;return;default:ir=ir.return}}function df(a){if(a!==ir)return!1;if(!ht)return NT(a),ht=!0,!1;var o=!1,u;if((u=a.tag!==3&&a.tag!==27)&&((u=a.tag===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||E0(a.type,a.memoizedProps)),u=!u),u&&(o=!0),o&&jn&&ol(a),NT(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){jn=Ci(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}jn=null}}else jn=ir?Ci(a.stateNode.nextSibling):null;return!0}function hf(){jn=ir=null,ht=!1}function mf(a){Ai===null?Ai=[a]:Ai.push(a)}var pf=Error(r(460)),DT=Error(r(474)),rv={then:function(){}};function kT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Qh(){}function MT(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Qh,Qh),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===pf?Error(r(483)):a;default:if(typeof o.status=="string")o.then(Qh,Qh);else{if(a=It,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===pf?Error(r(483)):a}throw gf=o,pf}}var gf=null;function jT(){if(gf===null)throw Error(r(459));var a=gf;return gf=null,a}var Iu=null,yf=0;function Zh(a){var o=yf;return yf+=1,Iu===null&&(Iu=[]),MT(Iu,a,o)}function vf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Jh(a,o){throw o.$$typeof===s?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function LT(a){var o=a._init;return o(a._payload)}function VT(a){function o(W,G){if(a){var Q=W.deletions;Q===null?(W.deletions=[G],W.flags|=16):Q.push(G)}}function u(W,G){if(!a)return null;for(;G!==null;)o(W,G),G=G.sibling;return null}function h(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function y(W,G){return W=Ws(W,G),W.index=0,W.sibling=null,W}function b(W,G,Q){return W.index=Q,a?(Q=W.alternate,Q!==null?(Q=Q.index,Q<G?(W.flags|=33554434,G):Q):(W.flags|=33554434,G)):(W.flags|=1048576,G)}function I(W){return a&&W.alternate===null&&(W.flags|=33554434),W}function j(W,G,Q,le){return G===null||G.tag!==6?(G=Qv(Q,W.mode,le),G.return=W,G):(G=y(G,Q),G.return=W,G)}function $(W,G,Q,le){var Ne=Q.type;return Ne===f?ae(W,G,Q.props.children,le,Q.key):G!==null&&(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&LT(Ne)===G.type)?(G=y(G,Q.props),vf(G,Q),G.return=W,G):(G=ym(Q.type,Q.key,Q.props,null,W.mode,le),vf(G,Q),G.return=W,G)}function Y(W,G,Q,le){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Zv(Q,W.mode,le),G.return=W,G):(G=y(G,Q.children||[]),G.return=W,G)}function ae(W,G,Q,le,Ne){return G===null||G.tag!==7?(G=yl(Q,W.mode,le,Ne),G.return=W,G):(G=y(G,Q),G.return=W,G)}function fe(W,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Qv(""+G,W.mode,Q),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return Q=ym(G.type,G.key,G.props,null,W.mode,Q),vf(Q,G),Q.return=W,Q;case c:return G=Zv(G,W.mode,Q),G.return=W,G;case R:var le=G._init;return G=le(G._payload),fe(W,G,Q)}if(ye(G)||U(G))return G=yl(G,W.mode,Q,null),G.return=W,G;if(typeof G.then=="function")return fe(W,Zh(G),Q);if(G.$$typeof===_)return fe(W,mm(W,G),Q);Jh(W,G)}return null}function J(W,G,Q,le){var Ne=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:j(W,G,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return Q.key===Ne?$(W,G,Q,le):null;case c:return Q.key===Ne?Y(W,G,Q,le):null;case R:return Ne=Q._init,Q=Ne(Q._payload),J(W,G,Q,le)}if(ye(Q)||U(Q))return Ne!==null?null:ae(W,G,Q,le,null);if(typeof Q.then=="function")return J(W,G,Zh(Q),le);if(Q.$$typeof===_)return J(W,G,mm(W,Q),le);Jh(W,Q)}return null}function re(W,G,Q,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return W=W.get(Q)||null,j(G,W,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return W=W.get(le.key===null?Q:le.key)||null,$(G,W,le,Ne);case c:return W=W.get(le.key===null?Q:le.key)||null,Y(G,W,le,Ne);case R:var nt=le._init;return le=nt(le._payload),re(W,G,Q,le,Ne)}if(ye(le)||U(le))return W=W.get(Q)||null,ae(G,W,le,Ne,null);if(typeof le.then=="function")return re(W,G,Q,Zh(le),Ne);if(le.$$typeof===_)return re(W,G,Q,mm(G,le),Ne);Jh(G,le)}return null}function ke(W,G,Q,le){for(var Ne=null,nt=null,Le=G,Fe=G=0,Rn=null;Le!==null&&Fe<Q.length;Fe++){Le.index>Fe?(Rn=Le,Le=null):Rn=Le.sibling;var mt=J(W,Le,Q[Fe],le);if(mt===null){Le===null&&(Le=Rn);break}a&&Le&&mt.alternate===null&&o(W,Le),G=b(mt,G,Fe),nt===null?Ne=mt:nt.sibling=mt,nt=mt,Le=Rn}if(Fe===Q.length)return u(W,Le),ht&&sl(W,Fe),Ne;if(Le===null){for(;Fe<Q.length;Fe++)Le=fe(W,Q[Fe],le),Le!==null&&(G=b(Le,G,Fe),nt===null?Ne=Le:nt.sibling=Le,nt=Le);return ht&&sl(W,Fe),Ne}for(Le=h(Le);Fe<Q.length;Fe++)Rn=re(Le,W,Fe,Q[Fe],le),Rn!==null&&(a&&Rn.alternate!==null&&Le.delete(Rn.key===null?Fe:Rn.key),G=b(Rn,G,Fe),nt===null?Ne=Rn:nt.sibling=Rn,nt=Rn);return a&&Le.forEach(function(no){return o(W,no)}),ht&&sl(W,Fe),Ne}function Ke(W,G,Q,le){if(Q==null)throw Error(r(151));for(var Ne=null,nt=null,Le=G,Fe=G=0,Rn=null,mt=Q.next();Le!==null&&!mt.done;Fe++,mt=Q.next()){Le.index>Fe?(Rn=Le,Le=null):Rn=Le.sibling;var no=J(W,Le,mt.value,le);if(no===null){Le===null&&(Le=Rn);break}a&&Le&&no.alternate===null&&o(W,Le),G=b(no,G,Fe),nt===null?Ne=no:nt.sibling=no,nt=no,Le=Rn}if(mt.done)return u(W,Le),ht&&sl(W,Fe),Ne;if(Le===null){for(;!mt.done;Fe++,mt=Q.next())mt=fe(W,mt.value,le),mt!==null&&(G=b(mt,G,Fe),nt===null?Ne=mt:nt.sibling=mt,nt=mt);return ht&&sl(W,Fe),Ne}for(Le=h(Le);!mt.done;Fe++,mt=Q.next())mt=re(Le,W,Fe,mt.value,le),mt!==null&&(a&&mt.alternate!==null&&Le.delete(mt.key===null?Fe:mt.key),G=b(mt,G,Fe),nt===null?Ne=mt:nt.sibling=mt,nt=mt);return a&&Le.forEach(function(IL){return o(W,IL)}),ht&&sl(W,Fe),Ne}function Gt(W,G,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===f&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:e:{for(var Ne=Q.key;G!==null;){if(G.key===Ne){if(Ne=Q.type,Ne===f){if(G.tag===7){u(W,G.sibling),le=y(G,Q.props.children),le.return=W,W=le;break e}}else if(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&LT(Ne)===G.type){u(W,G.sibling),le=y(G,Q.props),vf(le,Q),le.return=W,W=le;break e}u(W,G);break}else o(W,G);G=G.sibling}Q.type===f?(le=yl(Q.props.children,W.mode,le,Q.key),le.return=W,W=le):(le=ym(Q.type,Q.key,Q.props,null,W.mode,le),vf(le,Q),le.return=W,W=le)}return I(W);case c:e:{for(Ne=Q.key;G!==null;){if(G.key===Ne)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){u(W,G.sibling),le=y(G,Q.children||[]),le.return=W,W=le;break e}else{u(W,G);break}else o(W,G);G=G.sibling}le=Zv(Q,W.mode,le),le.return=W,W=le}return I(W);case R:return Ne=Q._init,Q=Ne(Q._payload),Gt(W,G,Q,le)}if(ye(Q))return ke(W,G,Q,le);if(U(Q)){if(Ne=U(Q),typeof Ne!="function")throw Error(r(150));return Q=Ne.call(Q),Ke(W,G,Q,le)}if(typeof Q.then=="function")return Gt(W,G,Zh(Q),le);if(Q.$$typeof===_)return Gt(W,G,mm(W,Q),le);Jh(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(u(W,G.sibling),le=y(G,Q),le.return=W,W=le):(u(W,G),le=Qv(Q,W.mode,le),le.return=W,W=le),I(W)):u(W,G)}return function(W,G,Q,le){try{yf=0;var Ne=Gt(W,G,Q,le);return Iu=null,Ne}catch(Le){if(Le===pf)throw Le;var nt=ri(29,Le,null,W.mode);return nt.lanes=le,nt.return=W,nt}finally{}}}var ll=VT(!0),UT=VT(!1),Ru=Je(null),em=Je(0);function BT(a,o){a=Fa,Ie(em,a),Ie(Ru,o),Fa=a|o.baseLanes}function iv(){Ie(em,Fa),Ie(Ru,Ru.current)}function av(){Fa=em.current,ge(Ru),ge(em)}var ei=Je(null),Qi=null;function Vs(a){var o=a.alternate;Ie(gn,gn.current&1),Ie(ei,a),Qi===null&&(o===null||Ru.current!==null||o.memoizedState!==null)&&(Qi=a)}function zT(a){if(a.tag===22){if(Ie(gn,gn.current),Ie(ei,a),Qi===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Qi=a)}}else Us()}function Us(){Ie(gn,gn.current),Ie(ei,ei.current)}function Na(a){ge(ei),Qi===a&&(Qi=null),ge(gn)}var gn=Je(0);function tm(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var g5=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},y5=t.unstable_scheduleCallback,v5=t.unstable_NormalPriority,yn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sv(){return{controller:new g5,data:new Map,refCount:0}}function bf(a){a.refCount--,a.refCount===0&&y5(v5,function(){a.controller.abort()})}var _f=null,ov=0,Pu=0,Nu=null;function b5(a,o){if(_f===null){var u=_f=[];ov=0,Pu=h0(),Nu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return ov++,o.then(FT,FT),o}function FT(){if(--ov===0&&_f!==null){Nu!==null&&(Nu.status="fulfilled");var a=_f;_f=null,Pu=0,Nu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function _5(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var qT=D.S;D.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&b5(a,o),qT!==null&&qT(a,o)};var ul=Je(null);function lv(){var a=ul.current;return a!==null?a:It.pooledCache}function nm(a,o){o===null?Ie(ul,ul.current):Ie(ul,o.pool)}function $T(){var a=lv();return a===null?null:{parent:yn._currentValue,pool:a}}var Bs=0,Qe=null,Et=null,nn=null,rm=!1,Du=!1,cl=!1,im=0,wf=0,ku=null,w5=0;function Zt(){throw Error(r(321))}function uv(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Sr(a[u],o[u]))return!1;return!0}function cv(a,o,u,h,y,b){return Bs=b,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=a===null||a.memoizedState===null?fl:zs,cl=!1,b=u(h,y),cl=!1,Du&&(b=KT(o,u,h,y)),HT(a),b}function HT(a){D.H=Zi;var o=Et!==null&&Et.next!==null;if(Bs=0,nn=Et=Qe=null,rm=!1,wf=0,ku=null,o)throw Error(r(300));a===null||On||(a=a.dependencies,a!==null&&hm(a)&&(On=!0))}function KT(a,o,u,h){Qe=a;var y=0;do{if(Du&&(ku=null),wf=0,Du=!1,25<=y)throw Error(r(301));if(y+=1,nn=Et=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}D.H=dl,b=o(u,h)}while(Du);return b}function E5(){var a=D.H,o=a.useState()[0];return o=typeof o.then=="function"?Ef(o):o,a=a.useState()[0],(Et!==null?Et.memoizedState:null)!==a&&(Qe.flags|=1024),o}function fv(){var a=im!==0;return im=0,a}function dv(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function hv(a){if(rm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}rm=!1}Bs=0,nn=Et=Qe=null,Du=!1,wf=im=0,ku=null}function pr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Qe.memoizedState=nn=a:nn=nn.next=a,nn}function rn(){if(Et===null){var a=Qe.alternate;a=a!==null?a.memoizedState:null}else a=Et.next;var o=nn===null?Qe.memoizedState:nn.next;if(o!==null)nn=o,Et=a;else{if(a===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Et=a,a={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},nn===null?Qe.memoizedState=nn=a:nn=nn.next=a}return nn}var am;am=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ef(a){var o=wf;return wf+=1,ku===null&&(ku=[]),a=MT(ku,a,o),o=Qe,(nn===null?o.memoizedState:nn.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?fl:zs),a}function sm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ef(a);if(a.$$typeof===_)return Gn(a)}throw Error(r(438,String(a)))}function mv(a){var o=null,u=Qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Qe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=am(),Qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=q;return o.index++,u}function Da(a,o){return typeof o=="function"?o(a):o}function om(a){var o=rn();return pv(o,Et,a)}function pv(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=a.baseQueue,b=h.pending;if(b!==null){if(y!==null){var I=y.next;y.next=b.next,b.next=I}o.baseQueue=y=b,h.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var j=I=null,$=null,Y=o,ae=!1;do{var fe=Y.lane&-536870913;if(fe!==Y.lane?(ct&fe)===fe:(Bs&fe)===fe){var J=Y.revertLane;if(J===0)$!==null&&($=$.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),fe===Pu&&(ae=!0);else if((Bs&J)===J){Y=Y.next,J===Pu&&(ae=!0);continue}else fe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},$===null?(j=$=fe,I=b):$=$.next=fe,Qe.lanes|=J,Xs|=J;fe=Y.action,cl&&u(b,fe),b=Y.hasEagerState?Y.eagerState:u(b,fe)}else J={lane:fe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},$===null?(j=$=J,I=b):$=$.next=J,Qe.lanes|=fe,Xs|=fe;Y=Y.next}while(Y!==null&&Y!==o);if($===null?I=b:$.next=j,!Sr(b,a.memoizedState)&&(On=!0,ae&&(u=Nu,u!==null)))throw u;a.memoizedState=b,a.baseState=I,a.baseQueue=$,h.lastRenderedState=b}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function gv(a){var o=rn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var I=y=y.next;do b=a(b,I.action),I=I.next;while(I!==y);Sr(b,o.memoizedState)||(On=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,h]}function GT(a,o,u){var h=Qe,y=rn(),b=ht;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Sr((Et||y).memoizedState,u);if(I&&(y.memoizedState=u,On=!0),y=y.queue,bv(XT.bind(null,h,y,a),[a]),y.getSnapshot!==o||I||nn!==null&&nn.memoizedState.tag&1){if(h.flags|=2048,Mu(9,WT.bind(null,h,y,u,o),{destroy:void 0},null),It===null)throw Error(r(349));b||(Bs&60)!==0||YT(h,o,u)}return u}function YT(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Qe.updateQueue,o===null?(o=am(),Qe.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function WT(a,o,u,h){o.value=u,o.getSnapshot=h,QT(o)&&ZT(a)}function XT(a,o,u){return u(function(){QT(o)&&ZT(a)})}function QT(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Sr(a,u)}catch{return!0}}function ZT(a){var o=Ls(a,2);o!==null&&ar(o,a,2)}function yv(a){var o=pr();if(typeof a=="function"){var u=a;if(a=u(),cl){Ui(!0);try{u()}finally{Ui(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:a},o}function JT(a,o,u,h){return a.baseState=u,pv(a,Et,typeof h=="function"?h:Da)}function x5(a,o,u,h,y){if(cm(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};D.T!==null?u(!0):b.isTransition=!1,h(b),u=o.pending,u===null?(b.next=o.pending=b,eA(o,b)):(b.next=u.next,o.pending=u.next=b)}}function eA(a,o){var u=o.action,h=o.payload,y=a.state;if(o.isTransition){var b=D.T,I={};D.T=I;try{var j=u(y,h),$=D.S;$!==null&&$(I,j),tA(a,o,j)}catch(Y){vv(a,o,Y)}finally{D.T=b}}else try{b=u(y,h),tA(a,o,b)}catch(Y){vv(a,o,Y)}}function tA(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){nA(a,o,h)},function(h){return vv(a,o,h)}):nA(a,o,u)}function nA(a,o,u){o.status="fulfilled",o.value=u,rA(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,eA(a,u)))}function vv(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,rA(o),o=o.next;while(o!==h)}a.action=null}function rA(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function iA(a,o){return o}function aA(a,o){if(ht){var u=It.formState;if(u!==null){e:{var h=Qe;if(ht){if(jn){t:{for(var y=jn,b=Xi;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ci(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){jn=Ci(y.nextSibling),h=y.data==="F!";break e}}ol(h)}h=!1}h&&(o=u[0])}}return u=pr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iA,lastRenderedState:o},u.queue=h,u=xA.bind(null,Qe,h),h.dispatch=u,h=yv(!1),b=Tv.bind(null,Qe,!1,h.queue),h=pr(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,u=x5.bind(null,Qe,y,b,u),y.dispatch=u,h.memoizedState=a,[o,u,!1]}function sA(a){var o=rn();return oA(o,Et,a)}function oA(a,o,u){o=pv(a,o,iA)[0],a=om(Da)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Ef(o):o;var h=rn(),y=h.queue,b=y.dispatch;return u!==h.memoizedState&&(Qe.flags|=2048,Mu(9,T5.bind(null,y,u),{destroy:void 0},null)),[o,b,a]}function T5(a,o){a.action=o}function lA(a){var o=rn(),u=Et;if(u!==null)return oA(o,u,a);rn(),o=o.memoizedState,u=rn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function Mu(a,o,u,h){return a={tag:a,create:o,inst:u,deps:h,next:null},o=Qe.updateQueue,o===null&&(o=am(),Qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function uA(){return rn().memoizedState}function lm(a,o,u,h){var y=pr();Qe.flags|=a,y.memoizedState=Mu(1|o,u,{destroy:void 0},h===void 0?null:h)}function um(a,o,u,h){var y=rn();h=h===void 0?null:h;var b=y.memoizedState.inst;Et!==null&&h!==null&&uv(h,Et.memoizedState.deps)?y.memoizedState=Mu(o,u,b,h):(Qe.flags|=a,y.memoizedState=Mu(1|o,u,b,h))}function cA(a,o){lm(8390656,8,a,o)}function bv(a,o){um(2048,8,a,o)}function fA(a,o){return um(4,2,a,o)}function dA(a,o){return um(4,4,a,o)}function hA(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function mA(a,o,u){u=u!=null?u.concat([a]):null,um(4,4,hA.bind(null,o,a),u)}function _v(){}function pA(a,o){var u=rn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&uv(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function gA(a,o){var u=rn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&uv(o,h[1]))return h[0];if(h=a(),cl){Ui(!0);try{a()}finally{Ui(!1)}}return u.memoizedState=[h,o],h}function wv(a,o,u){return u===void 0||(Bs&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=vS(),Qe.lanes|=a,Xs|=a,u)}function yA(a,o,u,h){return Sr(u,o)?u:Ru.current!==null?(a=wv(a,u,h),Sr(a,o)||(On=!0),a):(Bs&42)===0?(On=!0,a.memoizedState=u):(a=vS(),Qe.lanes|=a,Xs|=a,o)}function vA(a,o,u,h,y){var b=we.p;we.p=b!==0&&8>b?b:8;var I=D.T,j={};D.T=j,Tv(a,!1,o,u);try{var $=y(),Y=D.S;if(Y!==null&&Y(j,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ae=_5($,h);xf(a,o,ae,Rr(a))}else xf(a,o,h,Rr(a))}catch(fe){xf(a,o,{then:function(){},status:"rejected",reason:fe},Rr())}finally{we.p=b,D.T=I}}function A5(){}function Ev(a,o,u,h){if(a.tag!==5)throw Error(r(476));var y=bA(a).queue;vA(a,y,o,Me,u===null?A5:function(){return _A(a),u(h)})}function bA(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:Me},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function _A(a){var o=bA(a).next.queue;xf(a,o,{},Rr())}function xv(){return Gn(qf)}function wA(){return rn().memoizedState}function EA(){return rn().memoizedState}function S5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Rr();a=$s(u);var h=Hs(o,a,u);h!==null&&(ar(h,o,u),Sf(h,o,u)),o={cache:sv()},a.payload=o;return}o=o.return}}function C5(a,o,u){var h=Rr();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},cm(a)?TA(o,u):(u=Jy(a,o,u,h),u!==null&&(ar(u,a,h),AA(u,o,h)))}function xA(a,o,u){var h=Rr();xf(a,o,u,h)}function xf(a,o,u,h){var y={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(cm(a))TA(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var I=o.lastRenderedState,j=b(I,u);if(y.hasEagerState=!0,y.eagerState=j,Sr(j,I))return Gh(a,o,y,0),It===null&&Kh(),!1}catch{}finally{}if(u=Jy(a,o,y,h),u!==null)return ar(u,a,h),AA(u,o,h),!0}return!1}function Tv(a,o,u,h){if(h={lane:2,revertLane:h0(),action:h,hasEagerState:!1,eagerState:null,next:null},cm(a)){if(o)throw Error(r(479))}else o=Jy(a,u,h,2),o!==null&&ar(o,a,2)}function cm(a){var o=a.alternate;return a===Qe||o!==null&&o===Qe}function TA(a,o){Du=rm=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function AA(a,o,u){if((u&4194176)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Cs(a,u)}}var Zi={readContext:Gn,use:sm,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt};Zi.useCacheRefresh=Zt,Zi.useMemoCache=Zt,Zi.useHostTransitionStatus=Zt,Zi.useFormState=Zt,Zi.useActionState=Zt,Zi.useOptimistic=Zt;var fl={readContext:Gn,use:sm,useCallback:function(a,o){return pr().memoizedState=[a,o===void 0?null:o],a},useContext:Gn,useEffect:cA,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,lm(4194308,4,hA.bind(null,o,a),u)},useLayoutEffect:function(a,o){return lm(4194308,4,a,o)},useInsertionEffect:function(a,o){lm(4,2,a,o)},useMemo:function(a,o){var u=pr();o=o===void 0?null:o;var h=a();if(cl){Ui(!0);try{a()}finally{Ui(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=pr();if(u!==void 0){var y=u(o);if(cl){Ui(!0);try{u(o)}finally{Ui(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=C5.bind(null,Qe,a),[h.memoizedState,a]},useRef:function(a){var o=pr();return a={current:a},o.memoizedState=a},useState:function(a){a=yv(a);var o=a.queue,u=xA.bind(null,Qe,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:_v,useDeferredValue:function(a,o){var u=pr();return wv(u,a,o)},useTransition:function(){var a=yv(!1);return a=vA.bind(null,Qe,a.queue,!0,!1),pr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=Qe,y=pr();if(ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),It===null)throw Error(r(349));(ct&60)!==0||YT(h,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,cA(XT.bind(null,h,b,a),[a]),h.flags|=2048,Mu(9,WT.bind(null,h,b,u,o),{destroy:void 0},null),u},useId:function(){var a=pr(),o=It.identifierPrefix;if(ht){var u=Pa,h=Ra;u=(h&~(1<<32-tr(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=im++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=w5++,o=":"+o+"r"+u.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return pr().memoizedState=S5.bind(null,Qe)}};fl.useMemoCache=mv,fl.useHostTransitionStatus=xv,fl.useFormState=aA,fl.useActionState=aA,fl.useOptimistic=function(a){var o=pr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Tv.bind(null,Qe,!0,u),u.dispatch=o,[a,o]};var zs={readContext:Gn,use:sm,useCallback:pA,useContext:Gn,useEffect:bv,useImperativeHandle:mA,useInsertionEffect:fA,useLayoutEffect:dA,useMemo:gA,useReducer:om,useRef:uA,useState:function(){return om(Da)},useDebugValue:_v,useDeferredValue:function(a,o){var u=rn();return yA(u,Et.memoizedState,a,o)},useTransition:function(){var a=om(Da)[0],o=rn().memoizedState;return[typeof a=="boolean"?a:Ef(a),o]},useSyncExternalStore:GT,useId:wA};zs.useCacheRefresh=EA,zs.useMemoCache=mv,zs.useHostTransitionStatus=xv,zs.useFormState=sA,zs.useActionState=sA,zs.useOptimistic=function(a,o){var u=rn();return JT(u,Et,a,o)};var dl={readContext:Gn,use:sm,useCallback:pA,useContext:Gn,useEffect:bv,useImperativeHandle:mA,useInsertionEffect:fA,useLayoutEffect:dA,useMemo:gA,useReducer:gv,useRef:uA,useState:function(){return gv(Da)},useDebugValue:_v,useDeferredValue:function(a,o){var u=rn();return Et===null?wv(u,a,o):yA(u,Et.memoizedState,a,o)},useTransition:function(){var a=gv(Da)[0],o=rn().memoizedState;return[typeof a=="boolean"?a:Ef(a),o]},useSyncExternalStore:GT,useId:wA};dl.useCacheRefresh=EA,dl.useMemoCache=mv,dl.useHostTransitionStatus=xv,dl.useFormState=lA,dl.useActionState=lA,dl.useOptimistic=function(a,o){var u=rn();return Et!==null?JT(u,Et,a,o):(u.baseState=a,[a,u.queue.dispatch])};function Av(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:L({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Sv={isMounted:function(a){return(a=a._reactInternals)?ve(a)===a:!1},enqueueSetState:function(a,o,u){a=a._reactInternals;var h=Rr(),y=$s(h);y.payload=o,u!=null&&(y.callback=u),o=Hs(a,y,h),o!==null&&(ar(o,a,h),Sf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=Rr(),y=$s(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Hs(a,y,h),o!==null&&(ar(o,a,h),Sf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Rr(),h=$s(u);h.tag=2,o!=null&&(h.callback=o),o=Hs(a,h,u),o!==null&&(ar(o,a,u),Sf(o,a,u))}};function SA(a,o,u,h,y,b,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,b,I):o.prototype&&o.prototype.isPureReactComponent?!cf(u,h)||!cf(y,b):!0}function CA(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&Sv.enqueueReplaceState(o,o.state,null)}function hl(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=L({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var fm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function OA(a){fm(a)}function IA(a){console.error(a)}function RA(a){fm(a)}function dm(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function PA(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Cv(a,o,u){return u=$s(u),u.tag=3,u.payload={element:null},u.callback=function(){dm(a,o)},u}function NA(a){return a=$s(a),a.tag=3,a}function DA(a,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;a.payload=function(){return y(b)},a.callback=function(){PA(o,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){PA(o,u,h),typeof y!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})})}function O5(a,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&Af(o,u,y,!0),u=ei.current,u!==null){switch(u.tag){case 13:return Qi===null?l0():u.alternate===null&&Kt===0&&(Kt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===rv?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),c0(a,h,y)),!1;case 22:return u.flags|=65536,h===rv?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),c0(a,h,y)),!1}throw Error(r(435,u.tag))}return c0(a,h,y),l0(),!1}if(ht)return o=ei.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==nv&&(a=Error(r(422),{cause:h}),mf(Qr(a,u)))):(h!==nv&&(o=Error(r(423),{cause:h}),mf(Qr(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=Qr(h,u),y=Cv(a.stateNode,h,y),Fv(a,y),Kt!==4&&(Kt=2)),!1;var b=Error(r(520),{cause:h});if(b=Qr(b,u),kf===null?kf=[b]:kf.push(b),Kt!==4&&(Kt=2),o===null)return!0;h=Qr(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Cv(u.stateNode,h,a),Fv(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qs===null||!Qs.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=NA(y),DA(y,a,u,h),Fv(u,y),!1}u=u.return}while(u!==null);return!1}var kA=Error(r(461)),On=!1;function Ln(a,o,u,h){o.child=a===null?UT(o,null,u,h):ll(o,a.child,u,h)}function MA(a,o,u,h,y){u=u.render;var b=o.ref;if("ref"in h){var I={};for(var j in h)j!=="ref"&&(I[j]=h[j])}else I=h;return pl(o),h=cv(a,o,u,I,b,y),j=fv(),a!==null&&!On?(dv(a,o,y),ka(a,o,y)):(ht&&j&&ev(o),o.flags|=1,Ln(a,o,h,y),o.child)}function jA(a,o,u,h,y){if(a===null){var b=u.type;return typeof b=="function"&&!Xv(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,LA(a,o,b,h,y)):(a=ym(u.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!jv(a,y)){var I=b.memoizedProps;if(u=u.compare,u=u!==null?u:cf,u(I,h)&&a.ref===o.ref)return ka(a,o,y)}return o.flags|=1,a=Ws(b,h),a.ref=o.ref,a.return=o,o.child=a}function LA(a,o,u,h,y){if(a!==null){var b=a.memoizedProps;if(cf(b,h)&&a.ref===o.ref)if(On=!1,o.pendingProps=h=b,jv(a,y))(a.flags&131072)!==0&&(On=!0);else return o.lanes=a.lanes,ka(a,o,y)}return Ov(a,o,u,h,y)}function VA(a,o,u){var h=o.pendingProps,y=h.children,b=(o.stateNode._pendingVisibility&2)!==0,I=a!==null?a.memoizedState:null;if(Tf(a,o),h.mode==="hidden"||b){if((o.flags&128)!==0){if(h=I!==null?I.baseLanes|u:u,a!==null){for(y=o.child=a.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~h}else o.childLanes=0,o.child=null;return UA(a,o,h,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&nm(o,I!==null?I.cachePool:null),I!==null?BT(o,I):iv(),zT(o);else return o.lanes=o.childLanes=536870912,UA(a,o,I!==null?I.baseLanes|u:u,u)}else I!==null?(nm(o,I.cachePool),BT(o,I),Us(),o.memoizedState=null):(a!==null&&nm(o,null),iv(),Us());return Ln(a,o,y,u),o.child}function UA(a,o,u,h){var y=lv();return y=y===null?null:{parent:yn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&nm(o,null),iv(),zT(o),a!==null&&Af(a,o,h,!0),null}function Tf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=2097664)}}function Ov(a,o,u,h,y){return pl(o),u=cv(a,o,u,h,void 0,y),h=fv(),a!==null&&!On?(dv(a,o,y),ka(a,o,y)):(ht&&h&&ev(o),o.flags|=1,Ln(a,o,u,y),o.child)}function BA(a,o,u,h,y,b){return pl(o),o.updateQueue=null,u=KT(o,h,u,y),HT(a),h=fv(),a!==null&&!On?(dv(a,o,b),ka(a,o,b)):(ht&&h&&ev(o),o.flags|=1,Ln(a,o,u,b),o.child)}function zA(a,o,u,h,y){if(pl(o),o.stateNode===null){var b=Su,I=u.contextType;typeof I=="object"&&I!==null&&(b=Gn(I)),b=new u(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Sv,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},Bv(o),I=u.contextType,b.context=typeof I=="object"&&I!==null?Gn(I):Su,b.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Av(o,u,I,h),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&Sv.enqueueReplaceState(b,b.state,null),Of(o,h,b,y),Cf(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){b=o.stateNode;var j=o.memoizedProps,$=hl(u,j);b.props=$;var Y=b.context,ae=u.contextType;I=Su,typeof ae=="object"&&ae!==null&&(I=Gn(ae));var fe=u.getDerivedStateFromProps;ae=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=o.pendingProps!==j,ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||Y!==I)&&CA(o,b,h,I),qs=!1;var J=o.memoizedState;b.state=J,Of(o,h,b,y),Cf(),Y=o.memoizedState,j||J!==Y||qs?(typeof fe=="function"&&(Av(o,u,fe,h),Y=o.memoizedState),($=qs||SA(o,u,$,h,J,Y,I))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Y),b.props=h,b.state=Y,b.context=I,h=$):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,zv(a,o),I=o.memoizedProps,ae=hl(u,I),b.props=ae,fe=o.pendingProps,J=b.context,Y=u.contextType,$=Su,typeof Y=="object"&&Y!==null&&($=Gn(Y)),j=u.getDerivedStateFromProps,(Y=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==fe||J!==$)&&CA(o,b,h,$),qs=!1,J=o.memoizedState,b.state=J,Of(o,h,b,y),Cf();var re=o.memoizedState;I!==fe||J!==re||qs||a!==null&&a.dependencies!==null&&hm(a.dependencies)?(typeof j=="function"&&(Av(o,u,j,h),re=o.memoizedState),(ae=qs||SA(o,u,ae,h,J,re,$)||a!==null&&a.dependencies!==null&&hm(a.dependencies))?(Y||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,re,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,re,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=re),b.props=h,b.state=re,b.context=$,h=ae):(typeof b.componentDidUpdate!="function"||I===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),h=!1)}return b=h,Tf(a,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&h?(o.child=ll(o,a.child,null,y),o.child=ll(o,null,u,y)):Ln(a,o,u,y),o.memoizedState=b.state,a=o.child):a=ka(a,o,y),a}function FA(a,o,u,h){return hf(),o.flags|=256,Ln(a,o,u,h),o.child}var Iv={dehydrated:null,treeContext:null,retryLane:0};function Rv(a){return{baseLanes:a,cachePool:$T()}}function Pv(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ii),a}function qA(a,o,u){var h=o.pendingProps,y=!1,b=(o.flags&128)!==0,I;if((I=b)||(I=a!==null&&a.memoizedState===null?!1:(gn.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(ht){if(y?Vs(o):Us(),ht){var j=jn,$;if($=j){e:{for($=j,j=Xi;$.nodeType!==8;){if(!j){j=null;break e}if($=Ci($.nextSibling),$===null){j=null;break e}}j=$}j!==null?(o.memoizedState={dehydrated:j,treeContext:al!==null?{id:Ra,overflow:Pa}:null,retryLane:536870912},$=ri(18,null,null,0),$.stateNode=j,$.return=o,o.child=$,ir=o,jn=null,$=!0):$=!1}$||ol(o)}if(j=o.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return j.data==="$!"?o.lanes=16:o.lanes=536870912,null;Na(o)}return j=h.children,h=h.fallback,y?(Us(),y=o.mode,j=Dv({mode:"hidden",children:j},y),h=yl(h,y,u,null),j.return=o,h.return=o,j.sibling=h,o.child=j,y=o.child,y.memoizedState=Rv(u),y.childLanes=Pv(a,I,u),o.memoizedState=Iv,h):(Vs(o),Nv(o,j))}if($=a.memoizedState,$!==null&&(j=$.dehydrated,j!==null)){if(b)o.flags&256?(Vs(o),o.flags&=-257,o=kv(a,o,u)):o.memoizedState!==null?(Us(),o.child=a.child,o.flags|=128,o=null):(Us(),y=h.fallback,j=o.mode,h=Dv({mode:"visible",children:h.children},j),y=yl(y,j,u,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,ll(o,a.child,null,u),h=o.child,h.memoizedState=Rv(u),h.childLanes=Pv(a,I,u),o.memoizedState=Iv,o=y);else if(Vs(o),j.data==="$!"){if(I=j.nextSibling&&j.nextSibling.dataset,I)var Y=I.dgst;I=Y,h=Error(r(419)),h.stack="",h.digest=I,mf({value:h,source:null,stack:null}),o=kv(a,o,u)}else if(On||Af(a,o,u,!1),I=(u&a.childLanes)!==0,On||I){if(I=It,I!==null){if(h=u&-u,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(I.suspendedLanes|u))!==0?0:h,h!==0&&h!==$.retryLane)throw $.retryLane=h,Ls(a,h),ar(I,a,h),kA}j.data==="$?"||l0(),o=kv(a,o,u)}else j.data==="$?"?(o.flags|=128,o.child=a.child,o=q5.bind(null,a),j._reactRetry=o,o=null):(a=$.treeContext,jn=Ci(j.nextSibling),ir=o,ht=!0,Ai=null,Xi=!1,a!==null&&(Zr[Jr++]=Ra,Zr[Jr++]=Pa,Zr[Jr++]=al,Ra=a.id,Pa=a.overflow,al=o),o=Nv(o,h.children),o.flags|=4096);return o}return y?(Us(),y=h.fallback,j=o.mode,$=a.child,Y=$.sibling,h=Ws($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&31457280,Y!==null?y=Ws(Y,y):(y=yl(y,j,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,j=a.child.memoizedState,j===null?j=Rv(u):($=j.cachePool,$!==null?(Y=yn._currentValue,$=$.parent!==Y?{parent:Y,pool:Y}:$):$=$T(),j={baseLanes:j.baseLanes|u,cachePool:$}),y.memoizedState=j,y.childLanes=Pv(a,I,u),o.memoizedState=Iv,h):(Vs(o),u=a.child,a=u.sibling,u=Ws(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function Nv(a,o){return o=Dv({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Dv(a,o){return pS(a,o,0,null)}function kv(a,o,u){return ll(o,a.child,null,u),a=Nv(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function $A(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Vv(a.return,o,u)}function Mv(a,o,u,h,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=u,b.tailMode=y)}function HA(a,o,u){var h=o.pendingProps,y=h.revealOrder,b=h.tail;if(Ln(a,o,h.children,u),h=gn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$A(a,u,o);else if(a.tag===19)$A(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(Ie(gn,h),y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&tm(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Mv(o,!1,y,u,b);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&tm(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Mv(o,!0,u,null,b);break;case"together":Mv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ka(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Xs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Af(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ws(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ws(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function jv(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&hm(a)))}function I5(a,o,u){switch(o.tag){case 3:Ut(o,o.stateNode.containerInfo),Fs(o,yn,a.memoizedState.cache),hf();break;case 27:case 5:hr(o);break;case 4:Ut(o,o.stateNode.containerInfo);break;case 10:Fs(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Vs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?qA(a,o,u):(Vs(o),a=ka(a,o,u),a!==null?a.sibling:null);Vs(o);break;case 19:var y=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(Af(a,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return HA(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ie(gn,gn.current),h)break;return null;case 22:case 23:return o.lanes=0,VA(a,o,u);case 24:Fs(o,yn,a.memoizedState.cache)}return ka(a,o,u)}function KA(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)On=!0;else{if(!jv(a,u)&&(o.flags&128)===0)return On=!1,I5(a,o,u);On=(a.flags&131072)!==0}else On=!1,ht&&(o.flags&1048576)!==0&&RT(o,Xh,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var h=o.elementType,y=h._init;if(h=y(h._payload),o.type=h,typeof h=="function")Xv(h)?(a=hl(h,a),o.tag=1,o=zA(null,o,h,a,u)):(o.tag=0,o=Ov(null,o,h,a,u));else{if(h!=null){if(y=h.$$typeof,y===E){o.tag=11,o=MA(null,o,h,a,u);break e}else if(y===C){o.tag=14,o=jA(null,o,h,a,u);break e}}throw o=N(h)||h,Error(r(306,o,""))}}return o;case 0:return Ov(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=hl(h,o.pendingProps),zA(a,o,h,y,u);case 3:e:{if(Ut(o,o.stateNode.containerInfo),a===null)throw Error(r(387));var b=o.pendingProps;y=o.memoizedState,h=y.element,zv(a,o),Of(o,b,null,u);var I=o.memoizedState;if(b=I.cache,Fs(o,yn,b),b!==y.cache&&Uv(o,[yn],u,!0),Cf(),b=I.element,y.isDehydrated)if(y={element:b,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=FA(a,o,b,u);break e}else if(b!==h){h=Qr(Error(r(424)),o),mf(h),o=FA(a,o,b,u);break e}else for(jn=Ci(o.stateNode.containerInfo.firstChild),ir=o,ht=!0,Ai=null,Xi=!0,u=UT(o,null,b,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(hf(),b===h){o=ka(a,o,u);break e}Ln(a,o,b,u)}o=o.child}return o;case 26:return Tf(a,o),a===null?(u=WS(o.type,null,o.pendingProps,null))?o.memoizedState=u:ht||(u=o.type,a=o.pendingProps,h=Im(yt.current).createElement(u),h[An]=o,h[hn]=a,Vn(h,u,a),Bt(h),o.stateNode=h):o.memoizedState=WS(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return hr(o),a===null&&ht&&(h=o.stateNode=KS(o.type,o.pendingProps,yt.current),ir=o,Xi=!0,jn=Ci(h.firstChild)),h=o.pendingProps.children,a!==null||ht?Ln(a,o,h,u):o.child=ll(o,null,h,u),Tf(a,o),o.child;case 5:return a===null&&ht&&((y=h=jn)&&(h=aL(h,o.type,o.pendingProps,Xi),h!==null?(o.stateNode=h,ir=o,jn=Ci(h.firstChild),Xi=!1,y=!0):y=!1),y||ol(o)),hr(o),y=o.type,b=o.pendingProps,I=a!==null?a.memoizedProps:null,h=b.children,E0(y,b)?h=null:I!==null&&E0(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=cv(a,o,E5,null,null,u),qf._currentValue=y),Tf(a,o),Ln(a,o,h,u),o.child;case 6:return a===null&&ht&&((a=u=jn)&&(u=sL(u,o.pendingProps,Xi),u!==null?(o.stateNode=u,ir=o,jn=null,a=!0):a=!1),a||ol(o)),null;case 13:return qA(a,o,u);case 4:return Ut(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=ll(o,null,h,u):Ln(a,o,h,u),o.child;case 11:return MA(a,o,o.type,o.pendingProps,u);case 7:return Ln(a,o,o.pendingProps,u),o.child;case 8:return Ln(a,o,o.pendingProps.children,u),o.child;case 12:return Ln(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,Fs(o,o.type,h.value),Ln(a,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,pl(o),y=Gn(y),h=h(y),o.flags|=1,Ln(a,o,h,u),o.child;case 14:return jA(a,o,o.type,o.pendingProps,u);case 15:return LA(a,o,o.type,o.pendingProps,u);case 19:return HA(a,o,u);case 22:return VA(a,o,u);case 24:return pl(o),h=Gn(yn),a===null?(y=lv(),y===null&&(y=It,b=sv(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:h,cache:y},Bv(o),Fs(o,yn,y)):((a.lanes&u)!==0&&(zv(a,o),Of(o,null,null,u),Cf()),y=a.memoizedState,b=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Fs(o,yn,h)):(h=b.cache,Fs(o,yn,h),h!==y.cache&&Uv(o,[yn],u,!0))),Ln(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var Lv=Je(null),ml=null,Ma=null;function Fs(a,o,u){Ie(Lv,o._currentValue),o._currentValue=u}function ja(a){a._currentValue=Lv.current,ge(Lv)}function Vv(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function Uv(a,o,u,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var I=y.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=y;for(var $=0;$<o.length;$++)if(j.context===o[$]){b.lanes|=u,j=b.alternate,j!==null&&(j.lanes|=u),Vv(b.return,u,a),h||(I=null);break e}b=j.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=u,b=I.alternate,b!==null&&(b.lanes|=u),Vv(I,u,a),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===a){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function Af(a,o,u,h){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var j=y.type;Sr(y.pendingProps.value,I.value)||(a!==null?a.push(j):a=[j])}}else if(y===et.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(qf):a=[qf])}y=y.return}a!==null&&Uv(o,a,u,h),o.flags|=262144}function hm(a){for(a=a.firstContext;a!==null;){if(!Sr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function pl(a){ml=a,Ma=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Gn(a){return GA(ml,a)}function mm(a,o){return ml===null&&pl(a),GA(a,o)}function GA(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ma===null){if(a===null)throw Error(r(308));Ma=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ma=Ma.next=o;return u}var qs=!1;function Bv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zv(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function $s(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Hs(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Ft&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Yh(a),OT(a,null,u),o}return Gh(a,h,o,u),Yh(a)}function Sf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194176)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Cs(a,u)}}function Fv(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=I:b=b.next=I,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var qv=!1;function Cf(){if(qv){var a=Nu;if(a!==null)throw a}}function Of(a,o,u,h){qv=!1;var y=a.updateQueue;qs=!1;var b=y.firstBaseUpdate,I=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var $=j,Y=$.next;$.next=null,I===null?b=Y:I.next=Y,I=$;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,j=ae.lastBaseUpdate,j!==I&&(j===null?ae.firstBaseUpdate=Y:j.next=Y,ae.lastBaseUpdate=$))}if(b!==null){var fe=y.baseState;I=0,ae=Y=$=null,j=b;do{var J=j.lane&-536870913,re=J!==j.lane;if(re?(ct&J)===J:(h&J)===J){J!==0&&J===Pu&&(qv=!0),ae!==null&&(ae=ae.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ke=a,Ke=j;J=o;var Gt=u;switch(Ke.tag){case 1:if(ke=Ke.payload,typeof ke=="function"){fe=ke.call(Gt,fe,J);break e}fe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ke.payload,J=typeof ke=="function"?ke.call(Gt,fe,J):ke,J==null)break e;fe=L({},fe,J);break e;case 2:qs=!0}}J=j.callback,J!==null&&(a.flags|=64,re&&(a.flags|=8192),re=y.callbacks,re===null?y.callbacks=[J]:re.push(J))}else re={lane:J,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ae===null?(Y=ae=re,$=fe):ae=ae.next=re,I|=J;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;re=j,j=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);ae===null&&($=fe),y.baseState=$,y.firstBaseUpdate=Y,y.lastBaseUpdate=ae,b===null&&(y.shared.lanes=0),Xs|=I,a.lanes=I,a.memoizedState=fe}}function YA(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function WA(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)YA(u[a],o)}function If(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&a)===a){h=void 0;var b=u.create,I=u.inst;h=b(),I.destroy=h}u=u.next}while(u!==y)}}catch(j){At(o,o.return,j)}}function Ks(a,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&a)===a){var I=h.inst,j=I.destroy;if(j!==void 0){I.destroy=void 0,y=o;var $=u;try{j()}catch(Y){At(y,$,Y)}}}h=h.next}while(h!==b)}}catch(Y){At(o,o.return,Y)}}function XA(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{WA(o,u)}catch(h){At(a,a.return,h)}}}function QA(a,o,u){u.props=hl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){At(a,o,h)}}function gl(a,o){try{var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 26:case 27:case 5:var y=h;break;default:y=h}typeof u=="function"?a.refCleanup=u(y):u.current=y}}catch(b){At(a,o,b)}}function Cr(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){At(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){At(a,o,y)}else u.current=null}function ZA(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){At(a,a.return,y)}}function JA(a,o,u){try{var h=a.stateNode;eL(h,a.type,u,o),h[hn]=o}catch(y){At(a,a.return,y)}}function eS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function $v(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||eS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hv(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(a,o):u.insertBefore(a,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(a,u)):(o=u,o.appendChild(a)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Om));else if(h!==4&&h!==27&&(a=a.child,a!==null))for(Hv(a,o,u),a=a.sibling;a!==null;)Hv(a,o,u),a=a.sibling}function pm(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&h!==27&&(a=a.child,a!==null))for(pm(a,o,u),a=a.sibling;a!==null;)pm(a,o,u),a=a.sibling}var La=!1,Ht=!1,Kv=!1,tS=typeof WeakSet=="function"?WeakSet:Set,In=null,nS=!1;function R5(a,o){if(a=a.containerInfo,_0=Mm,a=bT(a),Yy(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var I=0,j=-1,$=-1,Y=0,ae=0,fe=a,J=null;t:for(;;){for(var re;fe!==u||y!==0&&fe.nodeType!==3||(j=I+y),fe!==b||h!==0&&fe.nodeType!==3||($=I+h),fe.nodeType===3&&(I+=fe.nodeValue.length),(re=fe.firstChild)!==null;)J=fe,fe=re;for(;;){if(fe===a)break t;if(J===u&&++Y===y&&(j=I),J===b&&++ae===h&&($=I),(re=fe.nextSibling)!==null)break;fe=J,J=fe.parentNode}fe=re}u=j===-1||$===-1?null:{start:j,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(w0={focusedElem:a,selectionRange:u},Mm=!1,In=o;In!==null;)if(o=In,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,In=a;else for(;In!==null;){switch(o=In,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var ke=hl(u.type,y,u.elementType===u.type);a=h.getSnapshotBeforeUpdate(ke,b),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){At(u,u.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)A0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":A0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,In=a;break}In=o.return}return ke=nS,nS=!1,ke}function rS(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ua(a,u),h&4&&If(5,u);break;case 1:if(Ua(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(j){At(u,u.return,j)}else{var y=hl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(j){At(u,u.return,j)}}h&64&&XA(u),h&512&&gl(u,u.return);break;case 3:if(Ua(a,u),h&64&&(h=u.updateQueue,h!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{WA(h,a)}catch(j){At(u,u.return,j)}}break;case 26:Ua(a,u),h&512&&gl(u,u.return);break;case 27:case 5:Ua(a,u),o===null&&h&4&&ZA(u),h&512&&gl(u,u.return);break;case 12:Ua(a,u);break;case 13:Ua(a,u),h&4&&sS(a,u);break;case 22:if(y=u.memoizedState!==null||La,!y){o=o!==null&&o.memoizedState!==null||Ht;var b=La,I=Ht;La=y,(Ht=o)&&!I?Gs(a,u,(u.subtreeFlags&8772)!==0):Ua(a,u),La=b,Ht=I}h&512&&(u.memoizedProps.mode==="manual"?gl(u,u.return):Cr(u,u.return));break;default:Ua(a,u)}}function iS(a){var o=a.alternate;o!==null&&(a.alternate=null,iS(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Ko(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var an=null,Or=!1;function Va(a,o,u){for(u=u.child;u!==null;)aS(a,o,u),u=u.sibling}function aS(a,o,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(wi,u)}catch{}switch(u.tag){case 26:Ht||Cr(u,o),Va(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ht||Cr(u,o);var h=an,y=Or;for(an=u.stateNode,Va(a,o,u),u=u.stateNode,o=u.attributes;o.length;)u.removeAttributeNode(o[0]);Ko(u),an=h,Or=y;break;case 5:Ht||Cr(u,o);case 6:y=an;var b=Or;if(an=null,Va(a,o,u),an=y,Or=b,an!==null)if(Or)try{a=an,h=u.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)}catch(I){At(u,o,I)}else try{an.removeChild(u.stateNode)}catch(I){At(u,o,I)}break;case 18:an!==null&&(Or?(o=an,u=u.stateNode,o.nodeType===8?T0(o.parentNode,u):o.nodeType===1&&T0(o,u),Gf(o)):T0(an,u.stateNode));break;case 4:h=an,y=Or,an=u.stateNode.containerInfo,Or=!0,Va(a,o,u),an=h,Or=y;break;case 0:case 11:case 14:case 15:Ht||Ks(2,u,o),Ht||Ks(4,u,o),Va(a,o,u);break;case 1:Ht||(Cr(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&QA(u,o,h)),Va(a,o,u);break;case 21:Va(a,o,u);break;case 22:Ht||Cr(u,o),Ht=(h=Ht)||u.memoizedState!==null,Va(a,o,u),Ht=h;break;default:Va(a,o,u)}}function sS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Gf(a)}catch(u){At(o,o.return,u)}}function P5(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new tS),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new tS),o;default:throw Error(r(435,a.tag))}}function Gv(a,o){var u=P5(a);o.forEach(function(h){var y=$5.bind(null,a,h);u.has(h)||(u.add(h),h.then(y,y))})}function ti(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],b=a,I=o,j=I;e:for(;j!==null;){switch(j.tag){case 27:case 5:an=j.stateNode,Or=!1;break e;case 3:an=j.stateNode.containerInfo,Or=!0;break e;case 4:an=j.stateNode.containerInfo,Or=!0;break e}j=j.return}if(an===null)throw Error(r(160));aS(b,I,y),an=null,Or=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)oS(o,a),o=o.sibling}var Si=null;function oS(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ti(o,a),ni(a),h&4&&(Ks(3,a,a.return),If(3,a),Ks(5,a,a.return));break;case 1:ti(o,a),ni(a),h&512&&(Ht||u===null||Cr(u,u.return)),h&64&&La&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Si;if(ti(o,a),ni(a),h&512&&(Ht||u===null||Cr(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Is]||b[An]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),Vn(b,h,u),b[An]=a,Bt(b),h=b;break e;case"link":var I=ZS("link","href",y).get(h+(u.href||""));if(I){for(var j=0;j<I.length;j++)if(b=I[j],b.getAttribute("href")===(u.href==null?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(j,1);break t}}b=y.createElement(h),Vn(b,h,u),y.head.appendChild(b);break;case"meta":if(I=ZS("meta","content",y).get(h+(u.content||""))){for(j=0;j<I.length;j++)if(b=I[j],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(j,1);break t}}b=y.createElement(h),Vn(b,h,u),y.head.appendChild(b);break;default:throw Error(r(468,h))}b[An]=a,Bt(b),h=b}a.stateNode=h}else JS(y,a.type,a.stateNode);else a.stateNode=QS(y,h,a.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?JS(y,a.type,a.stateNode):QS(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&JA(a,a.memoizedProps,u.memoizedProps)}break;case 27:if(h&4&&a.alternate===null){y=a.stateNode,b=a.memoizedProps;try{for(var $=y.firstChild;$;){var Y=$.nextSibling,ae=$.nodeName;$[Is]||ae==="HEAD"||ae==="BODY"||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&$.rel.toLowerCase()==="stylesheet"||y.removeChild($),$=Y}for(var fe=a.type,J=y.attributes;J.length;)y.removeAttributeNode(J[0]);Vn(y,fe,b),y[An]=a,y[hn]=b}catch(ke){At(a,a.return,ke)}}case 5:if(ti(o,a),ni(a),h&512&&(Ht||u===null||Cr(u,u.return)),a.flags&32){y=a.stateNode;try{Kr(y,"")}catch(ke){At(a,a.return,ke)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,JA(a,y,u!==null?u.memoizedProps:y)),h&1024&&(Kv=!0);break;case 6:if(ti(o,a),ni(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(ke){At(a,a.return,ke)}}break;case 3:if(Nm=null,y=Si,Si=Rm(o.containerInfo),ti(o,a),Si=y,ni(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Gf(o.containerInfo)}catch(ke){At(a,a.return,ke)}Kv&&(Kv=!1,lS(a));break;case 4:h=Si,Si=Rm(a.stateNode.containerInfo),ti(o,a),ni(a),Si=h;break;case 12:ti(o,a),ni(a);break;case 13:ti(o,a),ni(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(n0=Re()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gv(a,h)));break;case 22:if(h&512&&(Ht||u===null||Cr(u,u.return)),$=a.memoizedState!==null,Y=u!==null&&u.memoizedState!==null,ae=La,fe=Ht,La=ae||$,Ht=fe||Y,ti(o,a),Ht=fe,La=ae,ni(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,h&8192&&(o._visibility=$?o._visibility&-2:o._visibility|1,$&&(o=La||Ht,u===null||Y||o||ju(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(u=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(u===null){Y=u=o;try{if(y=Y.stateNode,$)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{I=Y.stateNode,j=Y.memoizedProps.style;var re=j!=null&&j.hasOwnProperty("display")?j.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ke){At(Y,Y.return,ke)}}}else if(o.tag===6){if(u===null){Y=o;try{Y.stateNode.nodeValue=$?"":Y.memoizedProps}catch(ke){At(Y,Y.return,ke)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Gv(a,u))));break;case 19:ti(o,a),ni(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gv(a,h)));break;case 21:break;default:ti(o,a),ni(a)}}function ni(a){var o=a.flags;if(o&2){try{if(a.tag!==27){e:{for(var u=a.return;u!==null;){if(eS(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 27:var y=h.stateNode,b=$v(a);pm(a,b,y);break;case 5:var I=h.stateNode;h.flags&32&&(Kr(I,""),h.flags&=-33);var j=$v(a);pm(a,j,I);break;case 3:case 4:var $=h.stateNode.containerInfo,Y=$v(a);Hv(a,Y,$);break;default:throw Error(r(161))}}}catch(ae){At(a,a.return,ae)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function lS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;lS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ua(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)rS(a,o.alternate,o),o=o.sibling}function ju(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ks(4,o,o.return),ju(o);break;case 1:Cr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&QA(o,o.return,u),ju(o);break;case 26:case 27:case 5:Cr(o,o.return),ju(o);break;case 22:Cr(o,o.return),o.memoizedState===null&&ju(o);break;default:ju(o)}a=a.sibling}}function Gs(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,b=o,I=b.flags;switch(b.tag){case 0:case 11:case 15:Gs(y,b,u),If(4,b);break;case 1:if(Gs(y,b,u),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){At(h,h.return,Y)}if(h=b,y=h.updateQueue,y!==null){var j=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)YA($[y],j)}catch(Y){At(h,h.return,Y)}}u&&I&64&&XA(b),gl(b,b.return);break;case 26:case 27:case 5:Gs(y,b,u),u&&h===null&&I&4&&ZA(b),gl(b,b.return);break;case 12:Gs(y,b,u);break;case 13:Gs(y,b,u),u&&I&4&&sS(y,b);break;case 22:b.memoizedState===null&&Gs(y,b,u),gl(b,b.return);break;default:Gs(y,b,u)}o=o.sibling}}function Yv(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&bf(u))}function Wv(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&bf(a))}function Ys(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)uS(a,o,u,h),o=o.sibling}function uS(a,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ys(a,o,u,h),y&2048&&If(9,o);break;case 3:Ys(a,o,u,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&bf(a)));break;case 12:if(y&2048){Ys(a,o,u,h),a=o.stateNode;try{var b=o.memoizedProps,I=b.id,j=b.onPostCommit;typeof j=="function"&&j(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){At(o,o.return,$)}}else Ys(a,o,u,h);break;case 23:break;case 22:b=o.stateNode,o.memoizedState!==null?b._visibility&4?Ys(a,o,u,h):Rf(a,o):b._visibility&4?Ys(a,o,u,h):(b._visibility|=4,Lu(a,o,u,h,(o.subtreeFlags&10256)!==0)),y&2048&&Yv(o.alternate,o);break;case 24:Ys(a,o,u,h),y&2048&&Wv(o.alternate,o);break;default:Ys(a,o,u,h)}}function Lu(a,o,u,h,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,I=o,j=u,$=h,Y=I.flags;switch(I.tag){case 0:case 11:case 15:Lu(b,I,j,$,y),If(8,I);break;case 23:break;case 22:var ae=I.stateNode;I.memoizedState!==null?ae._visibility&4?Lu(b,I,j,$,y):Rf(b,I):(ae._visibility|=4,Lu(b,I,j,$,y)),y&&Y&2048&&Yv(I.alternate,I);break;case 24:Lu(b,I,j,$,y),y&&Y&2048&&Wv(I.alternate,I);break;default:Lu(b,I,j,$,y)}o=o.sibling}}function Rf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,y=h.flags;switch(h.tag){case 22:Rf(u,h),y&2048&&Yv(h.alternate,h);break;case 24:Rf(u,h),y&2048&&Wv(h.alternate,h);break;default:Rf(u,h)}o=o.sibling}}var Pf=8192;function Vu(a){if(a.subtreeFlags&Pf)for(a=a.child;a!==null;)cS(a),a=a.sibling}function cS(a){switch(a.tag){case 26:Vu(a),a.flags&Pf&&a.memoizedState!==null&&bL(Si,a.memoizedState,a.memoizedProps);break;case 5:Vu(a);break;case 3:case 4:var o=Si;Si=Rm(a.stateNode.containerInfo),Vu(a),Si=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Pf,Pf=16777216,Vu(a),Pf=o):Vu(a));break;default:Vu(a)}}function fS(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Nf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];In=h,hS(h,a)}fS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)dS(a),a=a.sibling}function dS(a){switch(a.tag){case 0:case 11:case 15:Nf(a),a.flags&2048&&Ks(9,a,a.return);break;case 3:Nf(a);break;case 12:Nf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,gm(a)):Nf(a);break;default:Nf(a)}}function gm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];In=h,hS(h,a)}fS(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ks(8,o,o.return),gm(o);break;case 22:u=o.stateNode,u._visibility&4&&(u._visibility&=-5,gm(o));break;default:gm(o)}a=a.sibling}}function hS(a,o){for(;In!==null;){var u=In;switch(u.tag){case 0:case 11:case 15:Ks(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:bf(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,In=h;else e:for(u=a;In!==null;){h=In;var y=h.sibling,b=h.return;if(iS(h),h===u){In=null;break e}if(y!==null){y.return=b,In=y;break e}In=b}}}function N5(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,o,u,h){return new N5(a,o,u,h)}function Xv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ws(a,o){var u=a.alternate;return u===null?(u=ri(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&31457280,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function mS(a,o){a.flags&=31457282;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function ym(a,o,u,h,y,b){var I=0;if(h=a,typeof a=="function")Xv(a)&&(I=1);else if(typeof a=="string")I=yL(a,u,Ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case f:return yl(u.children,y,b,o);case d:I=8,y|=24;break;case m:return a=ri(12,u,o,y|2),a.elementType=m,a.lanes=b,a;case w:return a=ri(13,u,o,y),a.elementType=w,a.lanes=b,a;case x:return a=ri(19,u,o,y),a.elementType=x,a.lanes=b,a;case k:return pS(u,y,b,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case g:case _:I=10;break e;case v:I=9;break e;case E:I=11;break e;case C:I=14;break e;case R:I=16,h=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=ri(I,u,o,y),o.elementType=a,o.type=h,o.lanes=b,o}function yl(a,o,u,h){return a=ri(7,a,h,o),a.lanes=u,a}function pS(a,o,u,h){a=ri(22,a,h,o),a.elementType=k,a.lanes=u;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=y._current;if(b===null)throw Error(r(456));if((y._pendingVisibility&2)===0){var I=Ls(b,2);I!==null&&(y._pendingVisibility|=2,ar(I,b,2))}},attach:function(){var b=y._current;if(b===null)throw Error(r(456));if((y._pendingVisibility&2)!==0){var I=Ls(b,2);I!==null&&(y._pendingVisibility&=-3,ar(I,b,2))}}};return a.stateNode=y,a}function Qv(a,o,u){return a=ri(6,a,null,o),a.lanes=u,a}function Zv(a,o,u){return o=ri(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function Ba(a){a.flags|=4}function gS(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!e2(o)){if(o=ei.current,o!==null&&((ct&4194176)===ct?Qi!==null:(ct&62914560)!==ct&&(ct&536870912)===0||o!==Qi))throw gf=rv,DT;a.flags|=8192}}function vm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?As():536870912,a.lanes|=o,Bu|=o)}function Df(a,o){if(!ht)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function zt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&31457280,h|=y.flags&31457280,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function D5(a,o,u){var h=o.pendingProps;switch(tv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return zt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ja(yn),Mt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(df(o)?Ba(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ai!==null&&(s0(Ai),Ai=null))),zt(o),null;case 26:return u=o.memoizedState,a===null?(Ba(o),u!==null?(zt(o),gS(o,u)):(zt(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Ba(o),zt(o),gS(o,u)):(zt(o),o.flags&=-16777217):(a.memoizedProps!==h&&Ba(o),zt(o),o.flags&=-16777217),null;case 27:K(o),u=yt.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Ba(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}a=Ue.current,df(o)?PT(o):(a=KS(y,h,u),o.stateNode=a,Ba(o))}return zt(o),null;case 5:if(K(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Ba(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(a=Ue.current,df(o))PT(o);else{switch(y=Im(yt.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?y.createElement(u,{is:h.is}):y.createElement(u)}}a[An]=o,a[hn]=h;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;e:switch(Vn(a,u,h),u){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ba(o)}}return zt(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&Ba(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=yt.current,df(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,y=ir,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[An]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||BS(a.nodeValue,u)),a||ol(o)}else a=Im(a).createTextNode(h),a[An]=o,o.stateNode=a}return zt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=df(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[An]=o}else hf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),y=!1}else Ai!==null&&(s0(Ai),Ai=null),y=!0;if(!y)return o.flags&256?(Na(o),o):(Na(o),null)}if(Na(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=h!==null,a=a!==null&&a.memoizedState!==null,u){h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),vm(o,o.updateQueue),zt(o),null;case 4:return Mt(),a===null&&y0(o.stateNode.containerInfo),zt(o),null;case 10:return ja(o.type),zt(o),null;case 19:if(ge(gn),y=o.memoizedState,y===null)return zt(o),null;if(h=(o.flags&128)!==0,b=y.rendering,b===null)if(h)Df(y,!1);else{if(Kt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=tm(a),b!==null){for(o.flags|=128,Df(y,!1),a=b.updateQueue,o.updateQueue=a,vm(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)mS(u,a),u=u.sibling;return Ie(gn,gn.current&1|2),o.child}a=a.sibling}y.tail!==null&&Re()>bm&&(o.flags|=128,h=!0,Df(y,!1),o.lanes=4194304)}else{if(!h)if(a=tm(b),a!==null){if(o.flags|=128,h=!0,a=a.updateQueue,o.updateQueue=a,vm(o,a),Df(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!ht)return zt(o),null}else 2*Re()-y.renderingStartTime>bm&&u!==536870912&&(o.flags|=128,h=!0,Df(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(a=y.last,a!==null?a.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Re(),o.sibling=null,a=gn.current,Ie(gn,h?a&1|2:a&1),o):(zt(o),null);case 22:case 23:return Na(o),av(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),u=o.updateQueue,u!==null&&vm(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&ge(ul),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ja(yn),zt(o),null;case 25:return null}throw Error(r(156,o.tag))}function k5(a,o){switch(tv(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ja(yn),Mt(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return K(o),null;case 13:if(Na(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));hf()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ge(gn),null;case 4:return Mt(),null;case 10:return ja(o.type),null;case 22:case 23:return Na(o),av(),a!==null&&ge(ul),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ja(yn),null;case 25:return null;default:return null}}function yS(a,o){switch(tv(o),o.tag){case 3:ja(yn),Mt();break;case 26:case 27:case 5:K(o);break;case 4:Mt();break;case 13:Na(o);break;case 19:ge(gn);break;case 10:ja(o.type);break;case 22:case 23:Na(o),av(),a!==null&&ge(ul);break;case 24:ja(yn)}}var M5={getCacheForType:function(a){var o=Gn(yn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},j5=typeof WeakMap=="function"?WeakMap:Map,Ft=0,It=null,it=null,ct=0,Rt=0,Ir=null,za=!1,Uu=!1,Jv=!1,Fa=0,Kt=0,Xs=0,vl=0,e0=0,ii=0,Bu=0,kf=null,Ji=null,t0=!1,n0=0,bm=1/0,_m=null,Qs=null,wm=!1,bl=null,Mf=0,r0=0,i0=null,jf=0,a0=null;function Rr(){if((Ft&2)!==0&&ct!==0)return ct&-ct;if(D.T!==null){var a=Pu;return a!==0?a:h0()}return Ch()}function vS(){ii===0&&(ii=(ct&536870912)===0||ht?Gc():536870912);var a=ei.current;return a!==null&&(a.flags|=32),ii}function ar(a,o,u){(a===It&&Rt===2||a.cancelPendingCommit!==null)&&(zu(a,0),qa(a,ct,ii,!1)),Qt(a,u),((Ft&2)===0||a!==It)&&(a===It&&((Ft&2)===0&&(vl|=u),Kt===4&&qa(a,ct,ii,!1)),ea(a))}function bS(a,o,u){if((Ft&6)!==0)throw Error(r(327));var h=!u&&(o&60)===0&&(o&a.expiredLanes)===0||Ts(a,o),y=h?U5(a,o):u0(a,o,!0),b=h;do{if(y===0){Uu&&!h&&qa(a,o,0,!1);break}else if(y===6)qa(a,o,0,!za);else{if(u=a.current.alternate,b&&!L5(u)){y=u0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var j=a;y=kf;var $=j.current.memoizedState.isDehydrated;if($&&(zu(j,I).flags|=256),I=u0(j,I,!1),I!==2){if(Jv&&!$){j.errorRecoveryDisabledLanes|=b,vl|=b,y=4;break e}b=Ji,Ji=y,b!==null&&s0(b)}y=I}if(b=!1,y!==2)continue}}if(y===1){zu(a,0),qa(a,o,0,!0);break}e:{switch(h=a,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){qa(h,o,ii,!za);break e}break;case 2:Ji=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=u,h.finishedLanes=o,(o&62914560)===o&&(b=n0+300-Re(),10<b)){if(qa(h,o,ii,!za),$r(h,0)!==0)break e;h.timeoutHandle=qS(_S.bind(null,h,u,Ji,_m,t0,o,ii,vl,Bu,za,2,-0,0),b);break e}_S(h,u,Ji,_m,t0,o,ii,vl,Bu,za,0,-0,0)}}break}while(!0);ea(a)}function s0(a){Ji===null?Ji=a:Ji.push.apply(Ji,a)}function _S(a,o,u,h,y,b,I,j,$,Y,ae,fe,J){var re=o.subtreeFlags;if((re&8192||(re&16785408)===16785408)&&(Ff={stylesheets:null,count:0,unsuspend:vL},cS(o),o=_L(),o!==null)){a.cancelPendingCommit=o(CS.bind(null,a,u,h,y,I,j,$,1,fe,J)),qa(a,b,I,!Y);return}CS(a,u,h,y,I,j,$,ae,fe,J)}function L5(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],b=y.getSnapshot;y=y.value;try{if(!Sr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qa(a,o,u,h){o&=~e0,o&=~vl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var b=31-tr(y),I=1<<b;h[b]=-1,y&=~I}u!==0&&Ss(a,u,o)}function Em(){return(Ft&6)===0?(Lf(0),!1):!0}function o0(){if(it!==null){if(Rt===0)var a=it.return;else a=it,Ma=ml=null,hv(a),Iu=null,yf=0,a=it;for(;a!==null;)yS(a.alternate,a),a=a.return;it=null}}function zu(a,o){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,nL(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),o0(),It=a,it=u=Ws(a.current,null),ct=o,Rt=0,Ir=null,za=!1,Uu=Ts(a,o),Jv=!1,Bu=ii=e0=vl=Xs=Kt=0,Ji=kf=null,t0=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-tr(h),b=1<<y;o|=a[y],h&=~b}return Fa=o,Kh(),u}function wS(a,o){Qe=null,D.H=Zi,o===pf?(o=jT(),Rt=3):o===DT?(o=jT(),Rt=4):Rt=o===kA?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ir=o,it===null&&(Kt=1,dm(a,Qr(o,a.current)))}function ES(){var a=D.H;return D.H=Zi,a===null?Zi:a}function xS(){var a=D.A;return D.A=M5,a}function l0(){Kt=4,za||(ct&4194176)!==ct&&ei.current!==null||(Uu=!0),(Xs&134217727)===0&&(vl&134217727)===0||It===null||qa(It,ct,ii,!1)}function u0(a,o,u){var h=Ft;Ft|=2;var y=ES(),b=xS();(It!==a||ct!==o)&&(_m=null,zu(a,o)),o=!1;var I=Kt;e:do try{if(Rt!==0&&it!==null){var j=it,$=Ir;switch(Rt){case 8:o0(),I=6;break e;case 3:case 2:case 6:ei.current===null&&(o=!0);var Y=Rt;if(Rt=0,Ir=null,Fu(a,j,$,Y),u&&Uu){I=0;break e}break;default:Y=Rt,Rt=0,Ir=null,Fu(a,j,$,Y)}}V5(),I=Kt;break}catch(ae){wS(a,ae)}while(!0);return o&&a.shellSuspendCounter++,Ma=ml=null,Ft=h,D.H=y,D.A=b,it===null&&(It=null,ct=0,Kh()),I}function V5(){for(;it!==null;)TS(it)}function U5(a,o){var u=Ft;Ft|=2;var h=ES(),y=xS();It!==a||ct!==o?(_m=null,bm=Re()+500,zu(a,o)):Uu=Ts(a,o);e:do try{if(Rt!==0&&it!==null){o=it;var b=Ir;t:switch(Rt){case 1:Rt=0,Ir=null,Fu(a,o,b,1);break;case 2:if(kT(b)){Rt=0,Ir=null,AS(o);break}o=function(){Rt===2&&It===a&&(Rt=7),ea(a)},b.then(o,o);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:kT(b)?(Rt=0,Ir=null,AS(o)):(Rt=0,Ir=null,Fu(a,o,b,7));break;case 5:var I=null;switch(it.tag){case 26:I=it.memoizedState;case 5:case 27:var j=it;if(!I||e2(I)){Rt=0,Ir=null;var $=j.sibling;if($!==null)it=$;else{var Y=j.return;Y!==null?(it=Y,xm(Y)):it=null}break t}}Rt=0,Ir=null,Fu(a,o,b,5);break;case 6:Rt=0,Ir=null,Fu(a,o,b,6);break;case 8:o0(),Kt=6;break e;default:throw Error(r(462))}}B5();break}catch(ae){wS(a,ae)}while(!0);return Ma=ml=null,D.H=h,D.A=y,Ft=u,it!==null?0:(It=null,ct=0,Kh(),Kt)}function B5(){for(;it!==null&&!Ee();)TS(it)}function TS(a){var o=KA(a.alternate,a,Fa);a.memoizedProps=a.pendingProps,o===null?xm(a):it=o}function AS(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=BA(u,o,o.pendingProps,o.type,void 0,ct);break;case 11:o=BA(u,o,o.pendingProps,o.type.render,o.ref,ct);break;case 5:hv(o);default:yS(u,o),o=it=mS(o,Fa),o=KA(u,o,Fa)}a.memoizedProps=a.pendingProps,o===null?xm(a):it=o}function Fu(a,o,u,h){Ma=ml=null,hv(o),Iu=null,yf=0;var y=o.return;try{if(O5(a,y,o,u,ct)){Kt=1,dm(a,Qr(u,a.current)),it=null;return}}catch(b){if(y!==null)throw it=y,b;Kt=1,dm(a,Qr(u,a.current)),it=null;return}o.flags&32768?(ht||h===1?a=!0:Uu||(ct&536870912)!==0?a=!1:(za=a=!0,(h===2||h===3||h===6)&&(h=ei.current,h!==null&&h.tag===13&&(h.flags|=16384))),SS(o,a)):xm(o)}function xm(a){var o=a;do{if((o.flags&32768)!==0){SS(o,za);return}a=o.return;var u=D5(o.alternate,o,Fa);if(u!==null){it=u;return}if(o=o.sibling,o!==null){it=o;return}it=o=a}while(o!==null);Kt===0&&(Kt=5)}function SS(a,o){do{var u=k5(a.alternate,a);if(u!==null){u.flags&=32767,it=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){it=a;return}it=a=u}while(a!==null);Kt=6,it=null}function CS(a,o,u,h,y,b,I,j,$,Y){var ae=D.T,fe=we.p;try{we.p=2,D.T=null,z5(a,o,u,h,fe,y,b,I,j,$,Y)}finally{D.T=ae,we.p=fe}}function z5(a,o,u,h,y,b,I,j){do qu();while(bl!==null);if((Ft&6)!==0)throw Error(r(327));var $=a.finishedWork;if(h=a.finishedLanes,$===null)return null;if(a.finishedWork=null,a.finishedLanes=0,$===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var Y=$.lanes|$.childLanes;if(Y|=Zy,Ah(a,h,Y,b,I,j),a===It&&(it=It=null,ct=0),($.subtreeFlags&10256)===0&&($.flags&10256)===0||wm||(wm=!0,r0=Y,i0=u,H5(xn,function(){return qu(),null})),u=($.flags&15990)!==0,($.subtreeFlags&15990)!==0||u?(u=D.T,D.T=null,b=we.p,we.p=2,I=Ft,Ft|=4,R5(a,$),oS($,a),f5(w0,a.containerInfo),Mm=!!_0,w0=_0=null,a.current=$,rS(a,$.alternate,$),pe(),Ft=I,we.p=b,D.T=u):a.current=$,wm?(wm=!1,bl=a,Mf=h):OS(a,Y),Y=a.pendingLanes,Y===0&&(Qs=null),Es($.stateNode),ea(a),o!==null)for(y=a.onRecoverableError,$=0;$<o.length;$++)Y=o[$],y(Y.value,{componentStack:Y.stack});return(Mf&3)!==0&&qu(),Y=a.pendingLanes,(h&4194218)!==0&&(Y&42)!==0?a===a0?jf++:(jf=0,a0=a):jf=0,Lf(0),null}function OS(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,bf(o)))}function qu(){if(bl!==null){var a=bl,o=r0;r0=0;var u=Sh(Mf),h=D.T,y=we.p;try{if(we.p=32>u?32:u,D.T=null,bl===null)var b=!1;else{u=i0,i0=null;var I=bl,j=Mf;if(bl=null,Mf=0,(Ft&6)!==0)throw Error(r(331));var $=Ft;if(Ft|=4,dS(I.current),uS(I,I.current,j,u),Ft=$,Lf(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(wi,I)}catch{}b=!0}return b}finally{we.p=y,D.T=h,OS(a,o)}}return!1}function IS(a,o,u){o=Qr(u,o),o=Cv(a.stateNode,o,2),a=Hs(a,o,2),a!==null&&(Qt(a,2),ea(a))}function At(a,o,u){if(a.tag===3)IS(a,a,u);else for(;o!==null;){if(o.tag===3){IS(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Qs===null||!Qs.has(h))){a=Qr(u,a),u=NA(2),h=Hs(o,u,2),h!==null&&(DA(u,h,o,a),Qt(h,2),ea(h));break}}o=o.return}}function c0(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new j5;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(Jv=!0,y.add(u),a=F5.bind(null,a,o,u),o.then(a,a))}function F5(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,It===a&&(ct&u)===u&&(Kt===4||Kt===3&&(ct&62914560)===ct&&300>Re()-n0?(Ft&2)===0&&zu(a,0):e0|=u,Bu===ct&&(Bu=0)),ea(a)}function RS(a,o){o===0&&(o=As()),a=Ls(a,o),a!==null&&(Qt(a,o),ea(a))}function q5(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),RS(a,u)}function $5(a,o){var u=0;switch(a.tag){case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),RS(a,u)}function H5(a,o){return ne(a,o)}var Tm=null,$u=null,f0=!1,Am=!1,d0=!1,_l=0;function ea(a){a!==$u&&a.next===null&&($u===null?Tm=$u=a:$u=$u.next=a),Am=!0,f0||(f0=!0,G5(K5))}function Lf(a,o){if(!d0&&Am){d0=!0;do for(var u=!1,h=Tm;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var I=h.suspendedLanes,j=h.pingedLanes;b=(1<<31-tr(42|a)+1)-1,b&=y&~(I&~j),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(u=!0,DS(h,b))}else b=ct,b=$r(h,h===It?b:0),(b&3)===0||Ts(h,b)||(u=!0,DS(h,b));h=h.next}while(u);d0=!1}}function K5(){Am=f0=!1;var a=0;_l!==0&&(tL()&&(a=_l),_l=0);for(var o=Re(),u=null,h=Tm;h!==null;){var y=h.next,b=PS(h,o);b===0?(h.next=null,u===null?Tm=y:u.next=y,y===null&&($u=u)):(u=h,(a!==0||(b&3)!==0)&&(Am=!0)),h=y}Lf(a)}function PS(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var I=31-tr(b),j=1<<I,$=y[I];$===-1?((j&u)===0||(j&h)!==0)&&(y[I]=lu(j,o)):$<=o&&(a.expiredLanes|=j),b&=~j}if(o=It,u=ct,u=$r(a,a===o?u:0),h=a.callbackNode,u===0||a===o&&Rt===2||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Te(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ts(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&Te(h),Sh(u)){case 2:case 8:u=rt;break;case 32:u=xn;break;case 268435456:u=ba;break;default:u=xn}return h=NS.bind(null,a),u=ne(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&Te(h),a.callbackPriority=2,a.callbackNode=null,2}function NS(a,o){var u=a.callbackNode;if(qu()&&a.callbackNode!==u)return null;var h=ct;return h=$r(a,a===It?h:0),h===0?null:(bS(a,h,o),PS(a,Re()),a.callbackNode!=null&&a.callbackNode===u?NS.bind(null,a):null)}function DS(a,o){if(qu())return null;bS(a,o,!0)}function G5(a){rL(function(){(Ft&6)!==0?ne(tt,a):a()})}function h0(){return _l===0&&(_l=Gc()),_l}function kS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:qi(""+a)}function MS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function Y5(a,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var b=kS((y[hn]||null).action),I=h.submitter;I&&(o=(o=I[hn]||null)?kS(o.formAction):I.getAttribute("formAction"),o!==null&&(b=o,I=null));var j=new pu("action","action",null,h,y);a.push({event:j,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(_l!==0){var $=I?MS(y,I):new FormData(y);Ev(u,{pending:!0,data:$,method:y.method,action:b},null,$)}}else typeof b=="function"&&(j.preventDefault(),$=I?MS(y,I):new FormData(y),Ev(u,{pending:!0,data:$,method:y.method,action:b},b,$))},currentTarget:y}]})}}for(var m0=0;m0<CT.length;m0++){var p0=CT[m0],W5=p0.toLowerCase(),X5=p0[0].toUpperCase()+p0.slice(1);Ti(W5,"on"+X5)}Ti(ET,"onAnimationEnd"),Ti(xT,"onAnimationIteration"),Ti(TT,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(h5,"onTransitionRun"),Ti(m5,"onTransitionStart"),Ti(p5,"onTransitionCancel"),Ti(AT,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vf));function jS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],y=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var I=h.length-1;0<=I;I--){var j=h[I],$=j.instance,Y=j.currentTarget;if(j=j.listener,$!==b&&y.isPropagationStopped())break e;b=j,y.currentTarget=Y;try{b(y)}catch(ae){fm(ae)}y.currentTarget=null,b=$}else for(I=0;I<h.length;I++){if(j=h[I],$=j.instance,Y=j.currentTarget,j=j.listener,$!==b&&y.isPropagationStopped())break e;b=j,y.currentTarget=Y;try{b(y)}catch(ae){fm(ae)}y.currentTarget=null,b=$}}}}function ot(a,o){var u=o[Ho];u===void 0&&(u=o[Ho]=new Set);var h=a+"__bubble";u.has(h)||(LS(o,a,2,!1),u.add(h))}function g0(a,o,u){var h=0;o&&(h|=4),LS(u,a,h,o)}var Sm="_reactListening"+Math.random().toString(36).slice(2);function y0(a){if(!a[Sm]){a[Sm]=!0,Wc.forEach(function(u){u!=="selectionchange"&&(Q5.has(u)||g0(u,!1,a),g0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Sm]||(o[Sm]=!0,g0("selectionchange",!1,o))}}function LS(a,o,u,h){switch(s2(o)){case 2:var y=xL;break;case 8:y=TL;break;default:y=R0}u=y.bind(null,o,u,a),y=void 0,!Yr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function v0(a,o,u,h,y){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var j=h.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(I===4)for(I=h.return;I!==null;){var $=I.tag;if(($===3||$===4)&&($=I.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;I=I.return}for(;j!==null;){if(I=xi(j),I===null)return;if($=I.tag,$===5||$===6||$===26||$===27){h=b=I;continue e}j=j.parentNode}}h=h.return}Ph(function(){var Y=b,ae=mu(u),fe=[];e:{var J=ST.get(a);if(J!==void 0){var re=pu,ke=a;switch(a){case"keypress":if(Hi(u)===0)break e;case"keydown":case"keyup":re=wu;break;case"focusin":ke="focus",re=vu;break;case"focusout":ke="blur",re=vu;break;case"beforeblur":case"afterblur":re=vu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Uh;break;case ET:case xT:case TT:re=bu;break;case AT:re=zh;break;case"scroll":case"scrollend":re=Nh;break;case"wheel":re=Eu;break;case"copy":case"cut":case"paste":re=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=lf;break;case"toggle":case"beforetoggle":re=qh}var Ke=(o&4)!==0,Gt=!Ke&&(a==="scroll"||a==="scrollend"),W=Ke?J!==null?J+"Capture":null:J;Ke=[];for(var G=Y,Q;G!==null;){var le=G;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||W===null||(le=Xo(G,W),le!=null&&Ke.push(Uf(G,le,Q))),Gt)break;G=G.return}0<Ke.length&&(J=new re(J,ke,null,u,ae),fe.push({event:J,listeners:Ke}))}}if((o&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",J&&u!==Gr&&(ke=u.relatedTarget||u.fromElement)&&(xi(ke)||ke[wa]))break e;if((re||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,re?(ke=u.relatedTarget||u.toElement,re=Y,ke=ke?xi(ke):null,ke!==null&&(Gt=ve(ke),Ke=ke.tag,ke!==Gt||Ke!==5&&Ke!==27&&Ke!==6)&&(ke=null)):(re=null,ke=Y),re!==ke)){if(Ke=Wr,le="onMouseLeave",W="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=lf,le="onPointerLeave",W="onPointerEnter",G="pointer"),Gt=re==null?J:Rs(re),Q=ke==null?J:Rs(ke),J=new Ke(le,G+"leave",re,u,ae),J.target=Gt,J.relatedTarget=Q,le=null,xi(ae)===Y&&(Ke=new Ke(W,G+"enter",ke,u,ae),Ke.target=Q,Ke.relatedTarget=Gt,le=Ke),Gt=le,re&&ke)t:{for(Ke=re,W=ke,G=0,Q=Ke;Q;Q=Hu(Q))G++;for(Q=0,le=W;le;le=Hu(le))Q++;for(;0<G-Q;)Ke=Hu(Ke),G--;for(;0<Q-G;)W=Hu(W),Q--;for(;G--;){if(Ke===W||W!==null&&Ke===W.alternate)break t;Ke=Hu(Ke),W=Hu(W)}Ke=null}else Ke=null;re!==null&&VS(fe,J,re,Ke,!1),ke!==null&&Gt!==null&&VS(fe,Gt,ke,Ke,!0)}}e:{if(J=Y?Rs(Y):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var Ne=fT;else if(pn(J))if(dT)Ne=u5;else{Ne=o5;var nt=s5}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Y&&ef(Y.elementType)&&(Ne=fT):Ne=l5;if(Ne&&(Ne=Ne(a,Y))){Ia(fe,Ne,u,ae);break e}nt&&nt(a,J,Y),a==="focusout"&&Y&&J.type==="number"&&Y.memoizedProps.value!=null&&hu(J,"number",J.value)}switch(nt=Y?Rs(Y):window,a){case"focusin":(pn(nt)||nt.contentEditable==="true")&&(xu=nt,Wy=Y,ff=null);break;case"focusout":ff=Wy=xu=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,_T(fe,u,ae);break;case"selectionchange":if(d5)break;case"keydown":case"keyup":_T(fe,u,ae)}var Le;if(Yi)e:{switch(a){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else lt?ee(a,u)&&(Fe="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Fe="onCompositionStart");Fe&&(O&&u.locale!=="ko"&&(lt||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&lt&&(Le=nf()):($i=ae,js="value"in $i?$i.value:$i.textContent,lt=!0)),nt=Cm(Y,Fe),0<nt.length&&(Fe=new sf(Fe,a,null,u,ae),fe.push({event:Fe,listeners:nt}),Le?Fe.data=Le:(Le=be(u),Le!==null&&(Fe.data=Le)))),(Le=T?mn(a,u):ut(a,u))&&(Fe=Cm(Y,"onBeforeInput"),0<Fe.length&&(nt=new sf("onBeforeInput","beforeinput",null,u,ae),fe.push({event:nt,listeners:Fe}),nt.data=Le)),Y5(fe,a,Y,u,ae)}jS(fe,o)})}function Uf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Cm(a,o){for(var u=o+"Capture",h=[];a!==null;){var y=a,b=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Xo(a,u),y!=null&&h.unshift(Uf(a,y,b)),y=Xo(a,o),y!=null&&h.push(Uf(a,y,b))),a=a.return}return h}function Hu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function VS(a,o,u,h,y){for(var b=o._reactName,I=[];u!==null&&u!==h;){var j=u,$=j.alternate,Y=j.stateNode;if(j=j.tag,$!==null&&$===h)break;j!==5&&j!==26&&j!==27||Y===null||($=Y,y?(Y=Xo(u,b),Y!=null&&I.unshift(Uf(u,Y,$))):y||(Y=Xo(u,b),Y!=null&&I.push(Uf(u,Y,$)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var Z5=/\r\n?/g,J5=/\u0000|\uFFFD/g;function US(a){return(typeof a=="string"?a:""+a).replace(Z5,`
`).replace(J5,"")}function BS(a,o){return o=US(o),US(a)===o}function Om(){}function xt(a,o,u,h,y,b){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Kr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Kr(a,""+h);break;case"className":Ds(a,"class",h);break;case"tabIndex":Ds(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ds(a,u,h);break;case"style":Rh(a,h,b);break;case"data":if(o!=="object"){Ds(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=qi(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&xt(a,o,"name",y.name,y,null),xt(a,o,"formEncType",y.formEncType,y,null),xt(a,o,"formMethod",y.formMethod,y,null),xt(a,o,"formTarget",y.formTarget,y,null)):(xt(a,o,"encType",y.encType,y,null),xt(a,o,"method",y.method,y,null),xt(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=qi(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Om);break;case"onScroll":h!=null&&ot("scroll",a);break;case"onScrollEnd":h!=null&&ot("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=qi(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":ot("beforetoggle",a),ot("toggle",a),Ns(a,"popover",h);break;case"xlinkActuate":Hr(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Hr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Hr(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Hr(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Hr(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Hr(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Hr(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Hr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Hr(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ns(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fy.get(u)||u,Ns(a,u,h))}}function b0(a,o,u,h,y,b){switch(u){case"style":Rh(a,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Kr(a,h):(typeof h=="number"||typeof h=="bigint")&&Kr(a,""+h);break;case"onScroll":h!=null&&ot("scroll",a);break;case"onScrollEnd":h!=null&&ot("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Om);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fu.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[hn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,y);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Ns(a,u,h)}}}function Vn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",a),ot("load",a);var h=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var I=u[b];if(I!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:xt(a,o,b,I,u,null)}}y&&xt(a,o,"srcSet",u.srcSet,u,null),h&&xt(a,o,"src",u.src,u,null);return;case"input":ot("invalid",a);var j=b=I=y=null,$=null,Y=null;for(h in u)if(u.hasOwnProperty(h)){var ae=u[h];if(ae!=null)switch(h){case"name":y=ae;break;case"type":I=ae;break;case"checked":$=ae;break;case"defaultChecked":Y=ae;break;case"value":b=ae;break;case"defaultValue":j=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:xt(a,o,h,ae,u,null)}}Yo(a,b,j,$,Y,I,y,!1),Go(a);return;case"select":ot("invalid",a),h=I=b=null;for(y in u)if(u.hasOwnProperty(y)&&(j=u[y],j!=null))switch(y){case"value":b=j;break;case"defaultValue":I=j;break;case"multiple":h=j;default:xt(a,o,y,j,u,null)}o=b,u=I,a.multiple=!!h,o!=null?dt(a,!!h,o,!1):u!=null&&dt(a,!!h,u,!0);return;case"textarea":ot("invalid",a),b=y=h=null;for(I in u)if(u.hasOwnProperty(I)&&(j=u[I],j!=null))switch(I){case"value":h=j;break;case"defaultValue":y=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:xt(a,o,I,j,u,null)}Ms(a,h,y,b),Go(a);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(h=u[$],h!=null))switch($){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:xt(a,o,$,h,u,null)}return;case"dialog":ot("cancel",a),ot("close",a);break;case"iframe":case"object":ot("load",a);break;case"video":case"audio":for(h=0;h<Vf.length;h++)ot(Vf[h],a);break;case"image":ot("error",a),ot("load",a);break;case"details":ot("toggle",a);break;case"embed":case"source":case"link":ot("error",a),ot("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in u)if(u.hasOwnProperty(Y)&&(h=u[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:xt(a,o,Y,h,u,null)}return;default:if(ef(o)){for(ae in u)u.hasOwnProperty(ae)&&(h=u[ae],h!==void 0&&b0(a,o,ae,h,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(h=u[j],h!=null&&xt(a,o,j,h,u,null))}function eL(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,I=null,j=null,$=null,Y=null,ae=null;for(re in u){var fe=u[re];if(u.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=fe;default:h.hasOwnProperty(re)||xt(a,o,re,null,h,fe)}}for(var J in h){var re=h[J];if(fe=u[J],h.hasOwnProperty(J)&&(re!=null||fe!=null))switch(J){case"type":b=re;break;case"name":y=re;break;case"checked":Y=re;break;case"defaultChecked":ae=re;break;case"value":I=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:re!==fe&&xt(a,o,J,re,h,fe)}}ks(a,I,j,$,Y,ae,b,y);return;case"select":re=I=j=J=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":re=$;default:h.hasOwnProperty(b)||xt(a,o,b,null,h,$)}for(y in h)if(b=h[y],$=u[y],h.hasOwnProperty(y)&&(b!=null||$!=null))switch(y){case"value":J=b;break;case"defaultValue":j=b;break;case"multiple":I=b;default:b!==$&&xt(a,o,y,b,h,$)}o=j,u=I,h=re,J!=null?dt(a,!!u,J,!1):!!h!=!!u&&(o!=null?dt(a,!!u,o,!0):dt(a,!!u,u?[]:"",!1));return;case"textarea":re=J=null;for(j in u)if(y=u[j],u.hasOwnProperty(j)&&y!=null&&!h.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:xt(a,o,j,null,h,y)}for(I in h)if(y=h[I],b=u[I],h.hasOwnProperty(I)&&(y!=null||b!=null))switch(I){case"value":J=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&xt(a,o,I,y,h,b)}Wo(a,J,re);return;case"option":for(var ke in u)if(J=u[ke],u.hasOwnProperty(ke)&&J!=null&&!h.hasOwnProperty(ke))switch(ke){case"selected":a.selected=!1;break;default:xt(a,o,ke,null,h,J)}for($ in h)if(J=h[$],re=u[$],h.hasOwnProperty($)&&J!==re&&(J!=null||re!=null))switch($){case"selected":a.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:xt(a,o,$,J,h,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)J=u[Ke],u.hasOwnProperty(Ke)&&J!=null&&!h.hasOwnProperty(Ke)&&xt(a,o,Ke,null,h,J);for(Y in h)if(J=h[Y],re=u[Y],h.hasOwnProperty(Y)&&J!==re&&(J!=null||re!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:xt(a,o,Y,J,h,re)}return;default:if(ef(o)){for(var Gt in u)J=u[Gt],u.hasOwnProperty(Gt)&&J!==void 0&&!h.hasOwnProperty(Gt)&&b0(a,o,Gt,void 0,h,J);for(ae in h)J=h[ae],re=u[ae],!h.hasOwnProperty(ae)||J===re||J===void 0&&re===void 0||b0(a,o,ae,J,h,re);return}}for(var W in u)J=u[W],u.hasOwnProperty(W)&&J!=null&&!h.hasOwnProperty(W)&&xt(a,o,W,null,h,J);for(fe in h)J=h[fe],re=u[fe],!h.hasOwnProperty(fe)||J===re||J==null&&re==null||xt(a,o,fe,J,h,re)}var _0=null,w0=null;function Im(a){return a.nodeType===9?a:a.ownerDocument}function zS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FS(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function E0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var x0=null;function tL(){var a=window.event;return a&&a.type==="popstate"?a===x0?!1:(x0=a,!0):(x0=null,!1)}var qS=typeof setTimeout=="function"?setTimeout:void 0,nL=typeof clearTimeout=="function"?clearTimeout:void 0,$S=typeof Promise=="function"?Promise:void 0,rL=typeof queueMicrotask=="function"?queueMicrotask:typeof $S<"u"?function(a){return $S.resolve(null).then(a).catch(iL)}:qS;function iL(a){setTimeout(function(){throw a})}function T0(a,o){var u=o,h=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(h===0){a.removeChild(y),Gf(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=y}while(u);Gf(o)}function A0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":A0(u),Ko(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function aL(a,o,u,h){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Is])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Ci(a.nextSibling),a===null)break}return null}function sL(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ci(a.nextSibling),a===null))return null;return a}function Ci(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function HS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function KS(a,o,u){switch(o=Im(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var ai=new Map,GS=new Set;function Rm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var $a=we.d;we.d={f:oL,r:lL,D:uL,C:cL,L:fL,m:dL,X:mL,S:hL,M:pL};function oL(){var a=$a.f(),o=Em();return a||o}function lL(a){var o=Ea(a);o!==null&&o.tag===5&&o.type==="form"?_A(o):$a.r(a)}var Ku=typeof document>"u"?null:document;function YS(a,o,u){var h=Ku;if(h&&typeof o=="string"&&o){var y=$t(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),GS.has(y)||(GS.add(y),a={rel:a,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Vn(o,"link",a),Bt(o),h.head.appendChild(o)))}}function uL(a){$a.D(a),YS("dns-prefetch",a,null)}function cL(a,o){$a.C(a,o),YS("preconnect",a,o)}function fL(a,o,u){$a.L(a,o,u);var h=Ku;if(h&&a&&o){var y='link[rel="preload"][as="'+$t(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+$t(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+$t(u.imageSizes)+'"]')):y+='[href="'+$t(a)+'"]';var b=y;switch(o){case"style":b=Gu(a);break;case"script":b=Yu(a)}ai.has(b)||(a=L({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ai.set(b,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(Bf(b))||o==="script"&&h.querySelector(zf(b))||(o=h.createElement("link"),Vn(o,"link",a),Bt(o),h.head.appendChild(o)))}}function dL(a,o){$a.m(a,o);var u=Ku;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+$t(h)+'"][href="'+$t(a)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Yu(a)}if(!ai.has(b)&&(a=L({rel:"modulepreload",href:a},o),ai.set(b,a),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zf(b)))return}h=u.createElement("link"),Vn(h,"link",a),Bt(h),u.head.appendChild(h)}}}function hL(a,o,u){$a.S(a,o,u);var h=Ku;if(h&&a){var y=Ps(h).hoistableStyles,b=Gu(a);o=o||"default";var I=y.get(b);if(!I){var j={loading:0,preload:null};if(I=h.querySelector(Bf(b)))j.loading=5;else{a=L({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ai.get(b))&&S0(a,u);var $=I=h.createElement("link");Bt($),Vn($,"link",a),$._p=new Promise(function(Y,ae){$.onload=Y,$.onerror=ae}),$.addEventListener("load",function(){j.loading|=1}),$.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Pm(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:j},y.set(b,I)}}}function mL(a,o){$a.X(a,o);var u=Ku;if(u&&a){var h=Ps(u).hoistableScripts,y=Yu(a),b=h.get(y);b||(b=u.querySelector(zf(y)),b||(a=L({src:a,async:!0},o),(o=ai.get(y))&&C0(a,o),b=u.createElement("script"),Bt(b),Vn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function pL(a,o){$a.M(a,o);var u=Ku;if(u&&a){var h=Ps(u).hoistableScripts,y=Yu(a),b=h.get(y);b||(b=u.querySelector(zf(y)),b||(a=L({src:a,async:!0,type:"module"},o),(o=ai.get(y))&&C0(a,o),b=u.createElement("script"),Bt(b),Vn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function WS(a,o,u,h){var y=(y=yt.current)?Rm(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Gu(u.href),u=Ps(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Gu(u.href);var b=Ps(y).hoistableStyles,I=b.get(a);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,I),(b=y.querySelector(Bf(a)))&&!b._p&&(I.instance=b,I.state.loading=5),ai.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ai.set(a,u),b||gL(y,a,u,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yu(u),u=Ps(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Gu(a){return'href="'+$t(a)+'"'}function Bf(a){return'link[rel="stylesheet"]['+a+"]"}function XS(a){return L({},a,{"data-precedence":a.precedence,precedence:null})}function gL(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Vn(o,"link",u),Bt(o),a.head.appendChild(o))}function Yu(a){return'[src="'+$t(a)+'"]'}function zf(a){return"script[async]"+a}function QS(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+$t(u.href)+'"]');if(h)return o.instance=h,Bt(h),h;var y=L({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Bt(h),Vn(h,"style",y),Pm(h,u.precedence,a),o.instance=h;case"stylesheet":y=Gu(u.href);var b=a.querySelector(Bf(y));if(b)return o.state.loading|=4,o.instance=b,Bt(b),b;h=XS(u),(y=ai.get(y))&&S0(h,y),b=(a.ownerDocument||a).createElement("link"),Bt(b);var I=b;return I._p=new Promise(function(j,$){I.onload=j,I.onerror=$}),Vn(b,"link",h),o.state.loading|=4,Pm(b,u.precedence,a),o.instance=b;case"script":return b=Yu(u.src),(y=a.querySelector(zf(b)))?(o.instance=y,Bt(y),y):(h=u,(y=ai.get(b))&&(h=L({},u),C0(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),Bt(y),Vn(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Pm(h,u.precedence,a));return o.instance}function Pm(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,I=0;I<h.length;I++){var j=h[I];if(j.dataset.precedence===o)b=j;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function S0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function C0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Nm=null;function ZS(a,o,u){if(Nm===null){var h=new Map,y=Nm=new Map;y.set(u,h)}else y=Nm,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[Is]||b[An]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(o)||"";I=a+I;var j=h.get(I);j?j.push(b):h.set(I,[b])}}return h}function JS(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function yL(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function e2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Ff=null;function vL(){}function bL(a,o,u){if(Ff===null)throw Error(r(475));var h=Ff;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Gu(u.href),b=a.querySelector(Bf(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=Dm.bind(h),a.then(h,h)),o.state.loading|=4,o.instance=b,Bt(b);return}b=a.ownerDocument||a,u=XS(u),(y=ai.get(y))&&S0(u,y),b=b.createElement("link"),Bt(b);var I=b;I._p=new Promise(function(j,$){I.onload=j,I.onerror=$}),Vn(b,"link",u),o.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=Dm.bind(h),a.addEventListener("load",o),a.addEventListener("error",o))}}function _L(){if(Ff===null)throw Error(r(475));var a=Ff;return a.stylesheets&&a.count===0&&O0(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&O0(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Dm(){if(this.count--,this.count===0){if(this.stylesheets)O0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var km=null;function O0(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,km=new Map,o.forEach(wL,a),km=null,Dm.call(a))}function wL(a,o){if(!(o.state.loading&4)){var u=km.get(a);if(u)var h=u.get(null);else{u=new Map,km.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var I=y[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}y=o.instance,I=y.getAttribute("data-precedence"),b=u.get(I)||h,b===h&&u.set(null,y),u.set(I,y),this.count++,h=Dm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var qf={$$typeof:_,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function EL(a,o,u,h,y,b,I,j){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.hiddenUpdates=uu(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function t2(a,o,u,h,y,b,I,j,$,Y,ae,fe){return a=new EL(a,o,u,I,j,$,Y,fe),o=1,b===!0&&(o|=24),b=ri(3,null,null,o),a.current=b,b.stateNode=a,o=sv(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:o},Bv(b),a}function n2(a){return a?(a=Su,a):Su}function r2(a,o,u,h,y,b){y=n2(y),h.context===null?h.context=y:h.pendingContext=y,h=$s(o),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=Hs(a,h,o),u!==null&&(ar(u,a,o),Sf(u,a,o))}function i2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function I0(a,o){i2(a,o),(a=a.alternate)&&i2(a,o)}function a2(a){if(a.tag===13){var o=Ls(a,67108864);o!==null&&ar(o,a,67108864),I0(a,67108864)}}var Mm=!0;function xL(a,o,u,h){var y=D.T;D.T=null;var b=we.p;try{we.p=2,R0(a,o,u,h)}finally{we.p=b,D.T=y}}function TL(a,o,u,h){var y=D.T;D.T=null;var b=we.p;try{we.p=8,R0(a,o,u,h)}finally{we.p=b,D.T=y}}function R0(a,o,u,h){if(Mm){var y=P0(h);if(y===null)v0(a,o,h,jm,u),o2(a,h);else if(SL(y,a,o,u,h))h.stopPropagation();else if(o2(a,h),o&4&&-1<AL.indexOf(a)){for(;y!==null;){var b=Ea(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=Ei(b.pendingLanes);if(I!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;I;){var $=1<<31-tr(I);j.entanglements[1]|=$,I&=~$}ea(b),(Ft&6)===0&&(bm=Re()+500,Lf(0))}}break;case 13:j=Ls(b,2),j!==null&&ar(j,b,2),Em(),I0(b,2)}if(b=P0(h),b===null&&v0(a,o,h,jm,u),b===y)break;y=b}y!==null&&h.stopPropagation()}else v0(a,o,h,null,u)}}function P0(a){return a=mu(a),N0(a)}var jm=null;function N0(a){if(jm=null,a=xi(a),a!==null){var o=ve(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=xe(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return jm=a,null}function s2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case tt:return 2;case rt:return 8;case xn:case ou:return 32;case ba:return 268435456;default:return 32}default:return 32}}var D0=!1,Zs=null,Js=null,eo=null,$f=new Map,Hf=new Map,to=[],AL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o2(a,o){switch(a){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":$f.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(o.pointerId)}}function Kf(a,o,u,h,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Ea(o),o!==null&&a2(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function SL(a,o,u,h,y){switch(o){case"focusin":return Zs=Kf(Zs,a,o,u,h,y),!0;case"dragenter":return Js=Kf(Js,a,o,u,h,y),!0;case"mouseover":return eo=Kf(eo,a,o,u,h,y),!0;case"pointerover":var b=y.pointerId;return $f.set(b,Kf($f.get(b)||null,a,o,u,h,y)),!0;case"gotpointercapture":return b=y.pointerId,Hf.set(b,Kf(Hf.get(b)||null,a,o,u,h,y)),!0}return!1}function l2(a){var o=xi(a.target);if(o!==null){var u=ve(o);if(u!==null){if(o=u.tag,o===13){if(o=xe(u),o!==null){a.blockedOn=o,Os(a.priority,function(){if(u.tag===13){var h=Rr(),y=Ls(u,h);y!==null&&ar(y,u,h),I0(u,h)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lm(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=P0(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);Gr=h,u.target.dispatchEvent(h),Gr=null}else return o=Ea(u),o!==null&&a2(o),a.blockedOn=u,!1;o.shift()}return!0}function u2(a,o,u){Lm(a)&&u.delete(o)}function CL(){D0=!1,Zs!==null&&Lm(Zs)&&(Zs=null),Js!==null&&Lm(Js)&&(Js=null),eo!==null&&Lm(eo)&&(eo=null),$f.forEach(u2),Hf.forEach(u2)}function Vm(a,o){a.blockedOn===o&&(a.blockedOn=null,D0||(D0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CL)))}var Um=null;function c2(a){Um!==a&&(Um=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Um===a&&(Um=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(N0(h||u)===null)continue;break}var b=Ea(u);b!==null&&(a.splice(o,3),o-=3,Ev(b,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Gf(a){function o($){return Vm($,a)}Zs!==null&&Vm(Zs,a),Js!==null&&Vm(Js,a),eo!==null&&Vm(eo,a),$f.forEach(o),Hf.forEach(o);for(var u=0;u<to.length;u++){var h=to[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<to.length&&(u=to[0],u.blockedOn===null);)l2(u),u.blockedOn===null&&to.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],b=u[h+1],I=y[hn]||null;if(typeof b=="function")I||c2(u);else if(I){var j=null;if(b&&b.hasAttribute("formAction")){if(y=b,I=b[hn]||null)j=I.formAction;else if(N0(y)!==null)continue}else j=I.action;typeof j=="function"?u[h+1]=j:(u.splice(h,3),h-=3),c2(u)}}}function k0(a){this._internalRoot=a}Bm.prototype.render=k0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=Rr();r2(u,h,a,o,null,null)},Bm.prototype.unmount=k0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&qu(),r2(a.current,2,null,a,null,null),Em(),o[wa]=null}};function Bm(a){this._internalRoot=a}Bm.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ch();a={blockedOn:null,target:a,priority:o};for(var u=0;u<to.length&&o!==0&&o<to[u].priority;u++);to.splice(u,0,a),u===0&&l2(a)}};var f2=e.version;if(f2!=="19.0.0")throw Error(r(527,f2,"19.0.0"));we.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=oe(o),a=a!==null?ue(a):null,a=a===null?null:a.stateNode,a};var OL={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:xi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zm.isDisabled&&zm.supportsFiber)try{wi=zm.inject(OL),Tn=zm}catch{}}return Wf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",y=OA,b=IA,I=RA,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks)),o=t2(a,1,!1,null,null,u,h,y,b,I,j,null),a[wa]=o.current,y0(a.nodeType===8?a.parentNode:a),new k0(o)},Wf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,y="",b=OA,I=IA,j=RA,$=null,Y=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&($=u.unstable_transitionCallbacks),u.formState!==void 0&&(Y=u.formState)),o=t2(a,1,!0,o,u??null,h,y,b,I,j,$,Y),o.context=n2(null),u=o.current,h=Rr(),y=$s(h),y.callback=null,Hs(u,y,h),o.current.lanes=h,Qt(o,h),ea(o),a[wa]=o.current,y0(a),new Bm(o)},Wf.version="19.0.0",Wf}var w2;function zL(){if(w2)return V0.exports;w2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),V0.exports=BL(),V0.exports}var FL=zL();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E2="popstate";function qL(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:f=""}=Zl(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Q_("",{pathname:l,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof s=="string"?s:Ad(s))}function r(i,s){mi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return HL(e,n,r,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $L(){return Math.random().toString(36).substring(2,10)}function x2(t,e){return{usr:t.state,key:t.key,idx:e}}function Q_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zl(e):e,state:n,key:e&&e.key||r||$L()}}function Ad({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HL(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let x=m(),C=x==null?null:x-d;d=x,f&&f({action:c,location:w.location,delta:C})}function v(x,C){c="PUSH";let R=Q_(w.location,x,C);n&&n(R,x),d=m()+1;let k=x2(R,d),q=w.createHref(R);try{l.pushState(k,"",q)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(q)}s&&f&&f({action:c,location:w.location,delta:1})}function _(x,C){c="REPLACE";let R=Q_(w.location,x,C);n&&n(R,x),d=m();let k=x2(R,d),q=w.createHref(R);l.replaceState(k,"",q),s&&f&&f({action:c,location:w.location,delta:0})}function E(x){return KL(x)}let w={get action(){return c},get location(){return t(i,l)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(E2,g),f=x,()=>{i.removeEventListener(E2,g),f=null}},createHref(x){return e(i,x)},createURL:E,encodeLocation(x){let C=E(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(x){return l.go(x)}};return w}function KL(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ad(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dN(t,e,n="/"){return GL(t,e,n,!1)}function GL(t,e,n,r){let i=typeof e=="string"?Zl(e):e,s=ns(i.pathname||"/",n);if(s==null)return null;let l=hN(t);YL(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=aV(s);c=rV(l[f],d,r)}return c}function hN(t,e=[],n=[],r=""){let i=(s,l,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};f.relativePath.startsWith("/")&&(Vt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Za([r,f.relativePath]),m=n.concat(f);s.children&&s.children.length>0&&(Vt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),hN(s.children,e,m,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:tV(d,s.index),routesMeta:m})};return t.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let f of mN(s.path))i(s,l,f)}),e}function mN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=mN(r.join("/")),c=[];return c.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function YL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WL=/^:[\w-]+$/,XL=3,QL=2,ZL=1,JL=10,eV=-2,T2=t=>t==="*";function tV(t,e){let n=t.split("/"),r=n.length;return n.some(T2)&&(r+=eV),e&&(r+=QL),n.filter(i=>!T2(i)).reduce((i,s)=>i+(WL.test(s)?XL:s===""?ZL:JL),r)}function nV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rV(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=xp({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),v=f.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=xp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Za([s,g.pathname]),pathnameBase:uV(Za([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Za([s,g.pathnameBase]))}return l}function xp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:g},v)=>{if(m==="*"){let E=c[v]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=c[v];return g&&!_?d[m]=void 0:d[m]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:l,pattern:t}}function iV(t,e=!1,n=!0){mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zl(t):t;return{pathname:n?n.startsWith("/")?n:oV(n,e):e,search:cV(r),hash:fV(i)}}function oV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function F0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ww(t){let e=lV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ew(t,e,n,r=!1){let i;typeof t=="string"?i=Zl(t):(i={...t},Vt(!i.pathname||!i.pathname.includes("?"),F0("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),F0("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),F0("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?e[g]:"/"}let f=sV(i,c),d=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var Za=t=>t.join("/").replace(/\/\/+/g,"/"),uV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var pN=["POST","PUT","PATCH","DELETE"];new Set(pN);var hV=["GET",...pN];new Set(hV);var Ac=S.createContext(null);Ac.displayName="DataRouter";var Ig=S.createContext(null);Ig.displayName="DataRouterState";S.createContext(!1);var gN=S.createContext({isTransitioning:!1});gN.displayName="ViewTransition";var mV=S.createContext(new Map);mV.displayName="Fetchers";var pV=S.createContext(null);pV.displayName="Await";var Li=S.createContext(null);Li.displayName="Navigation";var Yd=S.createContext(null);Yd.displayName="Location";var vi=S.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var xw=S.createContext(null);xw.displayName="RouteError";function gV(t,{relative:e}={}){Vt(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Li),{hash:i,pathname:s,search:l}=Wd(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Za([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Sc(){return S.useContext(Yd)!=null}function ps(){return Vt(Sc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Yd).location}var yN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vN(t){S.useContext(Li).static||S.useLayoutEffect(t)}function Tw(){let{isDataRoute:t}=S.useContext(vi);return t?PV():yV()}function yV(){Vt(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Ac),{basename:e,navigator:n}=S.useContext(Li),{matches:r}=S.useContext(vi),{pathname:i}=ps(),s=JSON.stringify(ww(r)),l=S.useRef(!1);return vN(()=>{l.current=!0}),S.useCallback((f,d={})=>{if(mi(l.current,yN),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=Ew(f,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Za([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,s,i,t])}var vV=S.createContext(null);function bV(t){let e=S.useContext(vi).outlet;return e&&S.createElement(vV.Provider,{value:t},e)}function bN(){let{matches:t}=S.useContext(vi),e=t[t.length-1];return e?e.params:{}}function Wd(t,{relative:e}={}){let{matches:n}=S.useContext(vi),{pathname:r}=ps(),i=JSON.stringify(ww(n));return S.useMemo(()=>Ew(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _V(t,e){return _N(t,e)}function _N(t,e,n,r){var C;Vt(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Li),{matches:s}=S.useContext(vi),l=s[s.length-1],c=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let R=m&&m.path||"";wN(f,!m||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=ps(),v;if(e){let R=typeof e=="string"?Zl(e):e;Vt(d==="/"||((C=R.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=g;let _=v.pathname||"/",E=_;if(d!=="/"){let R=d.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=dN(t,{pathname:E});mi(m||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),mi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=AV(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:Za([d,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?d:Za([d,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&x?S.createElement(Yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function wV(){let t=RV(),e=dV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,l)}var EV=S.createElement(wV,null),xV=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(vi.Provider,{value:this.props.routeContext},S.createElement(xw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TV({routeContext:t,match:e,children:n}){let r=S.useContext(Ac);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(vi.Provider,{value:t},n)}function AV(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let f=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:m,errors:g}=n,v=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,d,m)=>{let g,v=!1,_=null,E=null;n&&(g=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||EV,l&&(c<0&&m===0?(wN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):c===m&&(v=!0,E=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,m+1)),x=()=>{let C;return g?C=_:v?C=E:d.route.Component?C=S.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=f,S.createElement(TV,{match:d,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?S.createElement(xV,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function Aw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SV(t){let e=S.useContext(Ac);return Vt(e,Aw(t)),e}function CV(t){let e=S.useContext(Ig);return Vt(e,Aw(t)),e}function OV(t){let e=S.useContext(vi);return Vt(e,Aw(t)),e}function Sw(t){let e=OV(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function IV(){return Sw("useRouteId")}function RV(){var r;let t=S.useContext(xw),e=CV("useRouteError"),n=Sw("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function PV(){let{router:t}=SV("useNavigate"),e=Sw("useNavigate"),n=S.useRef(!1);return vN(()=>{n.current=!0}),S.useCallback(async(i,s={})=>{mi(n.current,yN),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var A2={};function wN(t,e,n){!e&&!A2[t]&&(A2[t]=!0,mi(!1,n))}S.memo(NV);function NV({routes:t,future:e,state:n}){return _N(t,void 0,n,e)}function EN({to:t,replace:e,state:n,relative:r}){Vt(Sc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Li);mi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(vi),{pathname:l}=ps(),c=Tw(),f=Ew(t,ww(s),l,r==="path"),d=JSON.stringify(f);return S.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:r})},[c,d,r,e,n]),null}function DV(t){return bV(t.context)}function ta(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kV({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Vt(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=Zl(n));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:v="default"}=n,_=S.useMemo(()=>{let E=ns(f,l);return E==null?null:{location:{pathname:E,search:d,hash:m,state:g,key:v},navigationType:r}},[l,f,d,m,g,v,r]);return mi(_!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(Li.Provider,{value:c},S.createElement(Yd.Provider,{children:e,value:_}))}function MV({children:t,location:e}){return _V(Z_(t),e)}function Z_(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Z_(r.props.children,s));return}Vt(r.type===ta,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Z_(r.props.children,s)),n.push(l)}),n}var up="get",cp="application/x-www-form-urlencoded";function Rg(t){return t!=null&&typeof t.tagName=="string"}function jV(t){return Rg(t)&&t.tagName.toLowerCase()==="button"}function LV(t){return Rg(t)&&t.tagName.toLowerCase()==="form"}function VV(t){return Rg(t)&&t.tagName.toLowerCase()==="input"}function UV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BV(t,e){return t.button===0&&(!e||e==="_self")&&!UV(t)}var Fm=null;function zV(){if(Fm===null)try{new FormData(document.createElement("form"),0),Fm=!1}catch{Fm=!0}return Fm}var FV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q0(t){return t!=null&&!FV.has(t)?(mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cp}"`),null):t}function qV(t,e){let n,r,i,s,l;if(LV(t)){let c=t.getAttribute("action");r=c?ns(c,e):null,n=t.getAttribute("method")||up,i=q0(t.getAttribute("enctype"))||cp,s=new FormData(t)}else if(jV(t)||VV(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?ns(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||up,i=q0(t.getAttribute("formenctype"))||q0(c.getAttribute("enctype"))||cp,s=new FormData(c,t),!zV()){let{name:d,type:m,value:g}=t;if(m==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,g)}}else{if(Rg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=up,r=null,i=cp,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $V(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ns(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function HV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GV(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await HV(s,n);return l.links?l.links():[]}return[]}));return QV(r.flat(1).filter(KV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function S2(t,e,n,r,i,s){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>{var m;return n[d].pathname!==f.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):s==="data"?e.filter((f,d)=>{var g;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YV(t,e,{includeHydrateFallback:n}={}){return WV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function WV(t){return[...new Set(t)]}function XV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function QV(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(XV(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function xN(){let t=S.useContext(Ac);return Cw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZV(){let t=S.useContext(Ig);return Cw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ow=S.createContext(void 0);Ow.displayName="FrameworkContext";function TN(){let t=S.useContext(Ow);return Cw(t,"You must render this element inside a <HydratedRouter> element"),t}function JV(t,e){let n=S.useContext(Ow),[r,i]=S.useState(!1),[s,l]=S.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,v=S.useRef(null);S.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=C=>{C.forEach(R=>{l(R.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[t]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:Xf(c,_),onBlur:Xf(f,E),onMouseEnter:Xf(d,_),onMouseLeave:Xf(m,E),onTouchStart:Xf(g,_)}]:[!1,v,{}]}function Xf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function e8({page:t,...e}){let{router:n}=xN(),r=S.useMemo(()=>dN(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(n8,{page:t,matches:r,...e}):null}function t8(t){let{manifest:e,routeModules:n}=TN(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return GV(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function n8({page:t,matches:e,...n}){let r=ps(),{manifest:i,routeModules:s}=TN(),{basename:l}=xN(),{loaderData:c,matches:f}=ZV(),d=S.useMemo(()=>S2(t,e,f,i,r,"data"),[t,e,f,i,r]),m=S.useMemo(()=>S2(t,e,f,i,r,"assets"),[t,e,f,i,r]),g=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,w=!1;if(e.forEach(C=>{var k;let R=i.routes[C.route.id];!R||!R.hasLoader||(!d.some(q=>q.route.id===C.route.id)&&C.route.id in c&&((k=s[C.route.id])!=null&&k.shouldRevalidate)||R.hasClientLoader?w=!0:E.add(C.route.id))}),E.size===0)return[];let x=$V(t,l,"data");return w&&E.size>0&&x.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[l,c,r,i,d,e,t,s]),v=S.useMemo(()=>YV(m,i),[m,i]),_=t8(m);return S.createElement(S.Fragment,null,g.map(E=>S.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>S.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:w})=>S.createElement("link",{key:E,...w})))}function r8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AN&&(window.__reactRouterVersion="7.7.1")}catch{}function i8({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=qL({window:n,v5Compat:!0}));let i=r.current,[s,l]=S.useState({action:i.action,location:i.location}),c=S.useCallback(f=>{S.startTransition(()=>l(f))},[l]);return S.useLayoutEffect(()=>i.listen(c),[i,c]),S.createElement(kV,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var SN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CN=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:f,to:d,preventScrollReset:m,viewTransition:g,...v},_){let{basename:E}=S.useContext(Li),w=typeof d=="string"&&SN.test(d),x,C=!1;if(typeof d=="string"&&w&&(x=d,AN))try{let D=new URL(window.location.href),L=d.startsWith("//")?new URL(D.protocol+d):new URL(d),z=ns(L.pathname,E);L.origin===D.origin&&z!=null?d=z+L.search+L.hash:C=!0}catch{mi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=gV(d,{relative:i}),[k,q,M]=JV(r,v),U=l8(d,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:g});function P(D){e&&e(D),D.defaultPrevented||U(D)}let N=S.createElement("a",{...v,...M,href:x||R,onClick:C||s?e:P,ref:r8(_,q),target:f,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?S.createElement(S.Fragment,null,N,S.createElement(e8,{page:R})):N});CN.displayName="Link";var a8=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:f,...d},m){let g=Wd(l,{relative:d.relative}),v=ps(),_=S.useContext(Ig),{navigator:E,basename:w}=S.useContext(Li),x=_!=null&&h8(g)&&c===!0,C=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,R=v.pathname,k=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(R=R.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&w&&(k=ns(k,w)||k);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=R===C||!i&&R.startsWith(C)&&R.charAt(q)==="/",U=k!=null&&(k===C||!i&&k.startsWith(C)&&k.charAt(C.length)==="/"),P={isActive:M,isPending:U,isTransitioning:x},N=M?e:void 0,D;typeof r=="function"?D=r(P):D=[r,M?"active":null,U?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(P):s;return S.createElement(CN,{...d,"aria-current":N,className:D,ref:m,style:L,to:l,viewTransition:c},typeof f=="function"?f(P):f)});a8.displayName="NavLink";var s8=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=up,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:g,...v},_)=>{let E=f8(),w=d8(c,{relative:d}),x=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&SN.test(c),R=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let q=k.nativeEvent.submitter,M=(q==null?void 0:q.getAttribute("formmethod"))||l;E(q||k.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:d,preventScrollReset:m,viewTransition:g})};return S.createElement("form",{ref:_,method:x,action:w,onSubmit:r?f:R,...v,"data-discover":!C&&t==="render"?"true":void 0})});s8.displayName="Form";function o8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ON(t){let e=S.useContext(Ac);return Vt(e,o8(t)),e}function l8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let c=Tw(),f=ps(),d=Wd(t,{relative:s});return S.useCallback(m=>{if(BV(m,e)){m.preventDefault();let g=n!==void 0?n:Ad(f)===Ad(d);c(t,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[f,c,d,n,r,e,t,i,s,l])}var u8=0,c8=()=>`__${String(++u8)}__`;function f8(){let{router:t}=ON("useSubmit"),{basename:e}=S.useContext(Li),n=IV();return S.useCallback(async(r,i={})=>{let{action:s,method:l,encType:c,formData:f,body:d}=qV(r,e);if(i.navigate===!1){let m=i.fetcherKey||c8();await t.fetch(m,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function d8(t,{relative:e}={}){let{basename:n}=S.useContext(Li),r=S.useContext(vi);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Wd(t||".",{relative:e})},l=ps();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Za([n,s.pathname])),Ad(s)}function h8(t,{relative:e}={}){let n=S.useContext(gN);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ON("useViewTransitionState"),i=Wd(t,{relative:e});if(!n.isTransitioning)return!1;let s=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xp(i.pathname,l)!=null||xp(i.pathname,s)!=null}var m8=fN();function IN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IN(t))&&(r&&(r+=" "),r+=e);return r}function p8(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}p8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Xd=t=>typeof t=="number"&&!isNaN(t),Bl=t=>typeof t=="string",rs=t=>typeof t=="function",g8=t=>Bl(t)||Xd(t),J_=t=>Bl(t)||rs(t)?t:null,y8=(t,e)=>t===!1||Xd(t)&&t>0?t:e,e1=t=>S.isValidElement(t)||Bl(t)||rs(t)||Xd(t);function v8(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function b8({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:l,preventExitTransition:c,done:f,nodeRef:d,isIn:m,playToast:g}){let v=n?`${t}--${l}`:t,_=n?`${e}--${l}`:e,E=S.useRef(0);return S.useLayoutEffect(()=>{let w=d.current,x=v.split(" "),C=R=>{R.target===d.current&&(g(),w.removeEventListener("animationend",C),w.removeEventListener("animationcancel",C),E.current===0&&R.type!=="animationcancel"&&w.classList.remove(...x))};w.classList.add(...x),w.addEventListener("animationend",C),w.addEventListener("animationcancel",C)},[]),S.useEffect(()=>{let w=d.current,x=()=>{w.removeEventListener("animationend",x),r?v8(w,f,i):f()};m||(c?x():(E.current=1,w.className+=` ${_}`,w.addEventListener("animationend",x)))},[m]),De.createElement(De.Fragment,null,s)}}function C2(t,e){return{content:RN(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function RN(t,e,n=!1){return S.isValidElement(t)&&!Bl(t.type)?S.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):rs(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function _8({closeToast:t,theme:e,ariaLabel:n="close"}){return De.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},De.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},De.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function w8({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:l,progress:c,rtl:f,isIn:d,theme:m}){let g=i||l&&c===0,v={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(v.transform=`scaleX(${c})`);let _=pt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),E=rs(s)?s({rtl:f,type:r,defaultClassName:_}):pt(_,s),w={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&n()}};return De.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},De.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),De.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:E,style:v,...w}))}var E8=1,PN=()=>`${E8++}`;function x8(t,e,n){let r=1,i=0,s=[],l=[],c=e,f=new Map,d=new Set,m=R=>(d.add(R),()=>d.delete(R)),g=()=>{l=Array.from(f.values()),d.forEach(R=>R())},v=({containerId:R,toastId:k,updateId:q})=>{let M=R?R!==t:t!==1,U=f.has(k)&&q==null;return M||U},_=(R,k)=>{f.forEach(q=>{var M;(k==null||k===q.props.toastId)&&((M=q.toggle)==null||M.call(q,R))})},E=R=>{var k,q;(q=(k=R.props)==null?void 0:k.onClose)==null||q.call(k,R.removalReason),R.isActive=!1},w=R=>{if(R==null)f.forEach(E);else{let k=f.get(R);k&&E(k)}g()},x=()=>{i-=s.length,s=[]},C=R=>{var k,q;let{toastId:M,updateId:U}=R.props,P=U==null;R.staleId&&f.delete(R.staleId),R.isActive=!0,f.set(M,R),g(),n(C2(R,P?"added":"updated")),P&&((q=(k=R.props).onOpen)==null||q.call(k))};return{id:t,props:c,observe:m,toggle:_,removeToast:w,toasts:f,clearQueue:x,buildToast:(R,k)=>{if(v(k))return;let{toastId:q,updateId:M,data:U,staleId:P,delay:N}=k,D=M==null;D&&i++;let L={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(k).filter(([F,B])=>B!=null)),toastId:q,updateId:M,data:U,isIn:!1,className:J_(k.className||c.toastClassName),progressClassName:J_(k.progressClassName||c.progressClassName),autoClose:k.isLoading?!1:y8(k.autoClose,c.autoClose),closeToast(F){f.get(q).removalReason=F,w(q)},deleteToast(){let F=f.get(q);if(F!=null){if(n(C2(F,"removed")),f.delete(q),i--,i<0&&(i=0),s.length>0){C(s.shift());return}g()}}};L.closeButton=c.closeButton,k.closeButton===!1||e1(k.closeButton)?L.closeButton=k.closeButton:k.closeButton===!0&&(L.closeButton=e1(c.closeButton)?c.closeButton:!0);let z={content:R,props:L,staleId:P};c.limit&&c.limit>0&&i>c.limit&&D?s.push(z):Xd(N)?setTimeout(()=>{C(z)},N):C(z)},setProps(R){c=R},setToggle:(R,k)=>{let q=f.get(R);q&&(q.toggle=k)},isToastActive:R=>{var k;return(k=f.get(R))==null?void 0:k.isActive},getSnapshot:()=>l}}var lr=new Map,Sd=[],t1=new Set,T8=t=>t1.forEach(e=>e(t)),NN=()=>lr.size>0;function A8(){Sd.forEach(t=>kN(t.content,t.options)),Sd=[]}var S8=(t,{containerId:e})=>{var n;return(n=lr.get(e||1))==null?void 0:n.toasts.get(t)};function DN(t,e){var n;if(e)return!!((n=lr.get(e))!=null&&n.isToastActive(t));let r=!1;return lr.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function C8(t){if(!NN()){Sd=Sd.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||g8(t))lr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=lr.get(t.containerId);e?e.removeToast(t.id):lr.forEach(n=>{n.removeToast(t.id)})}}var O8=(t={})=>{lr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function kN(t,e){e1(t)&&(NN()||Sd.push({content:t,options:e}),lr.forEach(n=>{n.buildToast(t,e)}))}function I8(t){var e;(e=lr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function MN(t,e){lr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function R8(t){let e=t.containerId||1;return{subscribe(n){let r=x8(e,t,T8);lr.set(e,r);let i=r.observe(n);return A8(),()=>{i(),lr.delete(e)}},setProps(n){var r;(r=lr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=lr.get(e))==null?void 0:n.getSnapshot()}}}function P8(t){return t1.add(t),()=>{t1.delete(t)}}function N8(t){return t&&(Bl(t.toastId)||Xd(t.toastId))?t.toastId:PN()}function Qd(t,e){return kN(t,e),e.toastId}function Pg(t,e){return{...e,type:e&&e.type||t,toastId:N8(e)}}function Ng(t){return(e,n)=>Qd(e,Pg(t,n))}function Ae(t,e){return Qd(t,Pg("default",e))}Ae.loading=(t,e)=>Qd(t,Pg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function D8(t,{pending:e,error:n,success:r},i){let s;e&&(s=Bl(e)?Ae.loading(e,i):Ae.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,m,g)=>{if(m==null){Ae.dismiss(s);return}let v={type:d,...l,...i,data:g},_=Bl(m)?{render:m}:m;return s?Ae.update(s,{...v,..._}):Ae(_.render,{...v,..._}),g},f=rs(t)?t():t;return f.then(d=>c("success",r,d)).catch(d=>c("error",n,d)),f}Ae.promise=D8;Ae.success=Ng("success");Ae.info=Ng("info");Ae.error=Ng("error");Ae.warning=Ng("warning");Ae.warn=Ae.warning;Ae.dark=(t,e)=>Qd(t,Pg("default",{theme:"dark",...e}));function k8(t){C8(t)}Ae.dismiss=k8;Ae.clearWaitingQueue=O8;Ae.isActive=DN;Ae.update=(t,e={})=>{let n=S8(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:PN()};s.toastId!==t&&(s.staleId=t);let l=s.render||i;delete s.render,Qd(l,s)}};Ae.done=t=>{Ae.update(t,{progress:1})};Ae.onChange=P8;Ae.play=t=>MN(!0,t);Ae.pause=t=>MN(!1,t);function M8(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=S.useRef(R8(t)).current;i(t);let s=(e=S.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(c){if(!s)return[];let f=new Map;return t.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:m}=d.props;f.has(m)||f.set(m,[]),f.get(m).push(d)}),Array.from(f,d=>c(d[0],d[1]))}return{getToastToRender:l,isToastActive:DN,count:s==null?void 0:s.length}}function j8(t){let[e,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),l=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:f,closeToast:d,onClick:m,closeOnClick:g}=t;I8({id:t.toastId,containerId:t.containerId,fn:n}),S.useEffect(()=>{if(t.pauseOnFocusLoss)return v(),()=>{_()}},[t.pauseOnFocusLoss]);function v(){document.hasFocus()||C(),window.addEventListener("focus",x),window.addEventListener("blur",C)}function _(){window.removeEventListener("focus",x),window.removeEventListener("blur",C)}function E(P){if(t.draggable===!0||t.draggable===P.pointerType){R();let N=s.current;l.canCloseOnClick=!0,l.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(l.start=P.clientX,l.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(l.start=P.clientY,l.removalDistance=N.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function w(P){let{top:N,bottom:D,left:L,right:z}=s.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&t.pauseOnHover&&P.clientX>=L&&P.clientX<=z&&P.clientY>=N&&P.clientY<=D?C():x()}function x(){n(!0)}function C(){n(!1)}function R(){l.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",M)}function k(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",M)}function q(P){let N=s.current;if(l.canDrag&&N){l.didMove=!0,e&&C(),t.draggableDirection==="x"?l.delta=P.clientX-l.start:l.delta=P.clientY-l.start,l.start!==P.clientX&&(l.canCloseOnClick=!1);let D=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;N.style.transform=`translate3d(${D},0)`,N.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function M(){k();let P=s.current;if(l.canDrag&&l.didMove&&P){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let U={onPointerDown:E,onPointerUp:w};return c&&f&&(U.onMouseEnter=C,t.stacked||(U.onMouseLeave=x)),g&&(U.onClick=P=>{m&&m(P),l.canCloseOnClick&&d(!0)}),{playToast:x,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:U}}var L8=typeof window<"u"?S.useLayoutEffect:S.useEffect,Dg=({theme:t,type:e,isLoading:n,...r})=>De.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function V8(t){return De.createElement(Dg,{...t},De.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function U8(t){return De.createElement(Dg,{...t},De.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function B8(t){return De.createElement(Dg,{...t},De.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function z8(t){return De.createElement(Dg,{...t},De.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function F8(){return De.createElement("div",{className:"Toastify__spinner"})}var n1={info:U8,warning:V8,success:B8,error:z8,spinner:F8},q8=t=>t in n1;function $8({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(rs(r)?i=r({...s,isLoading:n}):S.isValidElement(r)?i=S.cloneElement(r,s):n?i=n1.spinner():q8(e)&&(i=n1[e](s))),i}var H8=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=j8(t),{closeButton:l,children:c,autoClose:f,onClick:d,type:m,hideProgressBar:g,closeToast:v,transition:_,position:E,className:w,style:x,progressClassName:C,updateId:R,role:k,progress:q,rtl:M,toastId:U,deleteToast:P,isIn:N,isLoading:D,closeOnClick:L,theme:z,ariaLabel:F}=t,B=pt("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":L}),_e=rs(w)?w({rtl:M,position:E,type:m,defaultClassName:B}):pt(B,w),me=$8(t),te=!!q||!f,he={closeToast:v,type:m,theme:z},ve=null;return l===!1||(rs(l)?ve=l(he):S.isValidElement(l)?ve=S.cloneElement(l,he):ve=_8(he)),De.createElement(_,{isIn:N,done:P,position:E,preventExitTransition:n,nodeRef:r,playToast:s},De.createElement("div",{id:U,tabIndex:0,onClick:d,"data-in":N,className:_e,...i,style:x,ref:r,...N&&{role:k,"aria-label":F}},me!=null&&De.createElement("div",{className:pt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},me),RN(c,t,!e),ve,!t.customProgressBar&&De.createElement(w8,{...R&&!te?{key:`p-${R}`}:{},rtl:M,theme:z,delay:f,isRunning:e,isIn:N,closeToast:v,hide:g,type:m,className:C,controlledProgress:te,progress:q||0})))},K8=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),G8=b8(K8("bounce",!0)),Y8={position:"top-right",transition:G8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function W8(t){let e={...Y8,...t},n=t.stacked,[r,i]=S.useState(!0),s=S.useRef(null),{getToastToRender:l,isToastActive:c,count:f}=M8(e),{className:d,style:m,rtl:g,containerId:v,hotKeys:_}=e;function E(x){let C=pt("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":g});return rs(d)?d({position:x,rtl:g,defaultClassName:C}):pt(C,J_(d))}function w(){n&&(i(!0),Ae.play())}return L8(()=>{var x;if(n){let C=s.current.querySelectorAll('[data-in="true"]'),R=12,k=(x=e.position)==null?void 0:x.includes("top"),q=0,M=0;Array.from(C).reverse().forEach((U,P)=>{let N=U;N.classList.add("Toastify__toast--stacked"),P>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=k?"top":"bot");let D=q*(r?.2:1)+(r?0:R*P);N.style.setProperty("--y",`${k?D:D*-1}px`),N.style.setProperty("--g",`${R}`),N.style.setProperty("--s",`${1-(r?M:0)}`),q+=N.offsetHeight,M+=.025})}},[r,f,n]),S.useEffect(()=>{function x(C){var R;let k=s.current;_(C)&&((R=k.querySelector('[tabIndex="0"]'))==null||R.focus(),i(!1),Ae.pause()),C.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(i(!0),Ae.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[_]),De.createElement("section",{ref:s,className:"Toastify",id:v,onMouseEnter:()=>{n&&(i(!1),Ae.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((x,C)=>{let R=C.length?{...m}:{...m,pointerEvents:"none"};return De.createElement("div",{tabIndex:-1,className:E(x),"data-stacked":n,style:R,key:`c-${x}`},C.map(({content:k,props:q})=>De.createElement(H8,{...q,stacked:n,collapseAll:w,isIn:c(q.toastId,q.containerId),key:`t-${q.key}`},k)))}))}const X8=()=>{};var O2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Q8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},LN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,m=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,_=d&63;f||(_=64,l||(v=64)),r.push(n[m],n[g],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new Z8;const v=s<<2|c>>4;if(r.push(v),d!==64){const _=c<<4&240|d>>2;if(r.push(_),g!==64){const E=d<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J8=function(t){const e=jN(t);return LN.encodeByteArray(e,!0)},Tp=function(t){return J8(t).replace(/\./g,"")},VN=function(t){try{return LN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=()=>e9().__FIREBASE_DEFAULTS__,n9=()=>{if(typeof process>"u"||typeof O2>"u")return;const t=O2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VN(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return X8()||t9()||n9()||r9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UN=t=>{var e,n;return(n=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i9=t=>{const e=UN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BN=()=>{var t;return(t=kg())===null||t===void 0?void 0:t.config},zN=t=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tp(JSON.stringify(n)),Tp(JSON.stringify(l)),""].join(".")}const pd={};function o9(){const t={prod:[],emulator:[]};for(const e of Object.keys(pd))pd[e]?t.emulator.push(e):t.prod.push(e);return t}function l9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let I2=!1;function qN(t,e){if(typeof window>"u"||typeof document>"u"||!Cc(window.location.host)||pd[t]===e||pd[t]||I2)return;pd[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=o9().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{I2=!0,l()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=l9(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),C=n("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;c(k),m(x,w);const q=d();f(R,C),k.append(R,E,x,q),document.body.appendChild(k)}s?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function c9(){var t;const e=(t=kg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $N(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h9(){const t=er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m9(){return!c9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HN(){try{return typeof indexedDB=="object"}catch{return!1}}function KN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function p9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="FirebaseError";class Vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g9,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?y9(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Vi(i,c,r)}}function y9(t,e){return t.replace(v9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const v9=/\{\$([^}]+)}/g;function b9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(R2(s)&&R2(l)){if(!xo(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function od(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ld(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _9(t,e){const n=new w9(t,e);return n.subscribe.bind(n)}class w9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$0),i.error===void 0&&(i.error=$0),i.complete===void 0&&(i.complete=$0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=1e3,T9=2,A9=4*60*60*1e3,S9=.5;function P2(t,e=x9,n=T9){const r=e*Math.pow(n,t),i=Math.round(S9*r*(Math.random()-.5)*2);return Math.min(A9,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new a9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I9(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O9(t){return t===wl?void 0:t}function I9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const P9={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},N9=at.INFO,D9={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},k9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mg{constructor(e){this.name=e,this._logLevel=N9,this._logHandler=k9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const M9=(t,e)=>e.some(n=>t instanceof n);let N2,D2;function j9(){return N2||(N2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L9(){return D2||(D2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GN=new WeakMap,r1=new WeakMap,YN=new WeakMap,H0=new WeakMap,Iw=new WeakMap;function V9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(yo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&GN.set(n,t)}).catch(()=>{}),Iw.set(e,t),e}function U9(t){if(r1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});r1.set(t,e)}let i1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B9(t){i1=t(i1)}function z9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(K0(this),e,...n);return YN.set(r,e.sort?e.sort():[e]),yo(r)}:L9().includes(t)?function(...e){return t.apply(K0(this),e),yo(GN.get(this))}:function(...e){return yo(t.apply(K0(this),e))}}function F9(t){return typeof t=="function"?z9(t):(t instanceof IDBTransaction&&U9(t),M9(t,j9())?new Proxy(t,i1):t)}function yo(t){if(t instanceof IDBRequest)return V9(t);if(H0.has(t))return H0.get(t);const e=F9(t);return e!==t&&(H0.set(t,e),Iw.set(e,t)),e}const K0=t=>Iw.get(t);function WN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=yo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(yo(l.result),f.oldVersion,f.newVersion,yo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const q9=["get","getKey","getAll","getAllKeys","count"],$9=["put","add","delete","clear"],G0=new Map;function k2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(G0.get(e))return G0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q9.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return G0.set(e,s),s}B9(t=>({...t,get:(e,n,r)=>k2(e,n)||t.get(e,n,r),has:(e,n)=>!!k2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const a1="@firebase/app",M2="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Mg("@firebase/app"),G9="@firebase/app-compat",Y9="@firebase/analytics-compat",W9="@firebase/analytics",X9="@firebase/app-check-compat",Q9="@firebase/app-check",Z9="@firebase/auth",J9="@firebase/auth-compat",eU="@firebase/database",tU="@firebase/data-connect",nU="@firebase/database-compat",rU="@firebase/functions",iU="@firebase/functions-compat",aU="@firebase/installations",sU="@firebase/installations-compat",oU="@firebase/messaging",lU="@firebase/messaging-compat",uU="@firebase/performance",cU="@firebase/performance-compat",fU="@firebase/remote-config",dU="@firebase/remote-config-compat",hU="@firebase/storage",mU="@firebase/storage-compat",pU="@firebase/firestore",gU="@firebase/ai",yU="@firebase/firestore-compat",vU="firebase",bU="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="[DEFAULT]",_U={[a1]:"fire-core",[G9]:"fire-core-compat",[W9]:"fire-analytics",[Y9]:"fire-analytics-compat",[Q9]:"fire-app-check",[X9]:"fire-app-check-compat",[Z9]:"fire-auth",[J9]:"fire-auth-compat",[eU]:"fire-rtdb",[tU]:"fire-data-connect",[nU]:"fire-rtdb-compat",[rU]:"fire-fn",[iU]:"fire-fn-compat",[aU]:"fire-iid",[sU]:"fire-iid-compat",[oU]:"fire-fcm",[lU]:"fire-fcm-compat",[uU]:"fire-perf",[cU]:"fire-perf-compat",[fU]:"fire-rc",[dU]:"fire-rc-compat",[hU]:"fire-gcs",[mU]:"fire-gcs-compat",[pU]:"fire-fst",[yU]:"fire-fst-compat",[gU]:"fire-vertex","fire-js":"fire-js",[vU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map,wU=new Map,o1=new Map;function j2(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pa(t){const e=t.name;if(o1.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;o1.set(e,t);for(const n of Ap.values())j2(n,t);for(const n of wU.values())j2(n,t);return!0}function eu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new Jl("app","Firebase",EU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=bU;function XN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:s1,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=BN()),!n)throw vo.create("no-options");const s=Ap.get(i);if(s){if(xo(n,s.options)&&xo(r,s.config))return s;throw vo.create("duplicate-app",{appName:i})}const l=new R9(i);for(const f of o1.values())l.addComponent(f);const c=new xU(n,r,l);return Ap.set(i,c),c}function Rw(t=s1){const e=Ap.get(t);if(!e&&t===s1&&BN())return XN();if(!e)throw vo.create("no-app",{appName:t});return e}function di(t,e,n){var r;let i=(r=_U[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(c.join(" "));return}pa(new Di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="firebase-heartbeat-database",AU=1,Cd="firebase-heartbeat-store";let Y0=null;function QN(){return Y0||(Y0=WN(TU,AU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),Y0}async function SU(t){try{const n=(await QN()).transaction(Cd),r=await n.objectStore(Cd).get(ZN(t));return await n.done,r}catch(e){if(e instanceof Vi)is.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function L2(t,e){try{const r=(await QN()).transaction(Cd,"readwrite");await r.objectStore(Cd).put(e,ZN(t)),await r.done}catch(n){if(n instanceof Vi)is.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function ZN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=1024,OU=30;class IU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=V2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>OU){const l=NU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V2(),{heartbeatsToSend:r,unsentEntries:i}=RU(this._heartbeatsCache.heartbeats),s=Tp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return is.warn(n),""}}}function V2(){return new Date().toISOString().substring(0,10)}function RU(t,e=CU){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),U2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),U2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HN()?KN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U2(t){return Tp(JSON.stringify({version:2,heartbeats:t})).length}function NU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){pa(new Di("platform-logger",e=>new H9(e),"PRIVATE")),pa(new Di("heartbeat",e=>new IU(e),"PRIVATE")),di(a1,M2,t),di(a1,M2,"esm2017"),di("fire-js","")}DU("");function Pw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kU=JN,eD=new Jl("auth","Firebase",JN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new Mg("@firebase/auth");function MU(t,...e){Sp.logLevel<=at.WARN&&Sp.warn(`Auth (${Oc}): ${t}`,...e)}function fp(t,...e){Sp.logLevel<=at.ERROR&&Sp.error(`Auth (${Oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw Nw(t,...e)}function la(t,...e){return Nw(t,...e)}function tD(t,e,n){const r=Object.assign(Object.assign({},kU()),{[e]:n});return new Jl("auth","Firebase",r).create(e,{appName:t.name})}function bo(t){return tD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eD.create(t,...e)}function qe(t,e,...n){if(!t)throw Nw(e,...n)}function Ya(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fp(e),new Error(e)}function as(t,e){t||Ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jU(){return B2()==="http:"||B2()==="https:"}function B2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jU()||$N()||"connection"in navigator)?navigator.onLine:!0}function VU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=u9()||d9()}get(){return LU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e){as(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zU=new Jd(3e4,6e4);function tu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function No(t,e,n,r,i={}){return rD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Zd(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},s);return f9()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Cc(t.emulatorConfig.host)&&(d.credentials="include"),nD.fetch()(await iD(t,t.config.apiHost,n,c),d)})}async function rD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UU),e);try{const i=new qU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw qm(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qm(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw qm(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw qm(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw tD(t,m,d);ki(t,m)}}catch(i){if(i instanceof Vi)throw i;ki(t,"network-request-failed",{message:String(i)})}}async function jg(t,e,n,r,i={}){const s=await No(t,e,n,r,i);return"mfaPendingCredential"in s&&ki(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function iD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?Dw(t.config,i):`${t.config.apiScheme}://${i}`;return BU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function FU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),zU.get())})}}function qm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=la(t,e,r);return i.customData._tokenResponse=n,i}function z2(t){return t!==void 0&&t.enterprise!==void 0}class $U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HU(t,e){return No(t,"GET","/v2/recaptchaConfig",tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e){return No(t,"POST","/v1/accounts:delete",e)}async function Cp(t,e){return No(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GU(t,e=!1){const n=tn(t),r=await n.getIdToken(e),i=kw(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gd(W0(i.auth_time)),issuedAtTime:gd(W0(i.iat)),expirationTime:gd(W0(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function W0(t){return Number(t)*1e3}function kw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=VN(n);return i?JSON.parse(i):(fp("Failed to decode base64 JWT payload"),null)}catch(i){return fp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F2(t){const e=kw(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vi&&YU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gd(this.lastLoginAt),this.creationTime=gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Od(t,Cp(n,{idToken:r}));qe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aD(s.providerUserInfo):[],c=QU(t.providerData,l),f=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),m=f?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new u1(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function XU(t){const e=tn(t);await Op(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aD(t){return t.map(e=>{var{providerId:n}=e,r=Pw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e){const n=await rD(t,{},async()=>{const r=Zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await iD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Cc(t.emulatorConfig.host)&&(f.credentials="include"),nD.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JU(t,e){return No(t,"POST","/v2/accounts:revokeToken",tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=F2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ic;return r&&(qe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(qe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ic,this.toJSON())}_performRefresh(){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new u1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Od(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GU(this,e)}reload(){return XU(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Op(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(bo(this.auth));const e=await this.getIdToken();return await Od(this,KU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,l,c,f,d,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,w=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,C=(d=n.createdAt)!==null&&d!==void 0?d:void 0,R=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:k,emailVerified:q,isAnonymous:M,providerData:U,stsTokenManager:P}=n;qe(k&&P,e,"internal-error");const N=ic.fromJSON(this.name,P);qe(typeof k=="string",e,"internal-error"),ro(g,e.name),ro(v,e.name),qe(typeof q=="boolean",e,"internal-error"),qe(typeof M=="boolean",e,"internal-error"),ro(_,e.name),ro(E,e.name),ro(w,e.name),ro(x,e.name),ro(C,e.name),ro(R,e.name);const D=new Ni({uid:k,auth:e,email:v,emailVerified:q,displayName:g,isAnonymous:M,photoURL:E,phoneNumber:_,tenantId:w,stsTokenManager:N,createdAt:C,lastLoginAt:R});return U&&Array.isArray(U)&&(D.providerData=U.map(L=>Object.assign({},L))),x&&(D._redirectEventId=x),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new ic;i.updateFromServerResponse(n);const s=new Ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Op(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?aD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new ic;c.updateFromIdToken(r);const f=new Ni({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new u1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map;function Wa(t){as(t instanceof Function,"Expected a class definition");let e=q2.get(t);return e?(as(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sD.type="NONE";const $2=sD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t,e,n){return`firebase:${t}:${e}:${n}`}class ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=dp(this.userKey,i.apiKey,s),this.fullPersistenceKey=dp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cp(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ac(Wa($2),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Wa($2);const l=dp(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let g;if(typeof m=="string"){const v=await Cp(e,{idToken:m}).catch(()=>{});if(!v)break;g=await Ni._fromGetAccountInfoResponse(e,v,m)}else g=Ni._fromJSON(e,m);d!==s&&(c=g),s=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new ac(s,e,r):(s=f[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(l)}catch{}})),new ac(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dD(e))return"Blackberry";if(hD(e))return"Webos";if(lD(e))return"Safari";if((e.includes("chrome/")||uD(e))&&!e.includes("edge/"))return"Chrome";if(fD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oD(t=er()){return/firefox\//i.test(t)}function lD(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uD(t=er()){return/crios\//i.test(t)}function cD(t=er()){return/iemobile/i.test(t)}function fD(t=er()){return/android/i.test(t)}function dD(t=er()){return/blackberry/i.test(t)}function hD(t=er()){return/webos/i.test(t)}function Mw(t=er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e7(t=er()){var e;return Mw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t7(){return h9()&&document.documentMode===10}function mD(t=er()){return Mw(t)||fD(t)||hD(t)||dD(t)||/windows phone/i.test(t)||cD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e=[]){let n;switch(t){case"Browser":n=H2(er());break;case"Worker":n=`${H2(er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const f=e(s);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,e={}){return No(t,"GET","/v2/passwordPolicy",tu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=6;class a7{constructor(e){var n,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:i7,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsUppercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K2(this),this.idTokenSubscription=new K2(this),this.beforeStateQueue=new n7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cp(this,{idToken:e}),r=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Op(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(bo(this));const n=e?tn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r7(this),n=new a7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wa(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await ac.create(this,[Wa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ic(t){return tn(t)}class K2{constructor(e){this.auth=e,this.observer=null,this.addObserver=_9(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o7(t){Lg=t}function gD(t){return Lg.loadJS(t)}function l7(){return Lg.recaptchaEnterpriseScript}function u7(){return Lg.gapiScript}function c7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class f7{constructor(){this.enterprise=new d7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const h7="recaptcha-enterprise",yD="NO_RECAPTCHA";class m7{constructor(e){this.type=h7,this.auth=Ic(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{HU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new $U(f);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,l(d.siteKey)}}).catch(f=>{c(f)})})}function i(s,l,c){const f=window.grecaptcha;z2(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(d=>{l(d)}).catch(()=>{l(yD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f7().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!n&&z2(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=l7();f.length!==0&&(f+=c),gD(f).then(()=>{i(c,s,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function G2(t,e,n,r=!1,i=!1){const s=new m7(t);let l;if(i)l=yD;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Y2(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await G2(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await G2(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e){const n=eu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(xo(s,e??{}))return i;ki(i,"already-initialized")}return n.initialize({options:e})}function g7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function y7(t,e,n){const r=Ic(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=vD(e),{host:l,port:c}=v7(e),f=c===null?"":`:${c}`,d={url:`${s}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(xo(d,r.config.emulator)&&xo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Cc(l)?(FN(`${s}//${l}${f}`),qN("Auth",!0)):b7()}function vD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v7(t){const e=vD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:W2(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:W2(l)}}}function W2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function b7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ya("not implemented")}_getIdTokenResponse(e){return Ya("not implemented")}_linkToIdToken(e,n){return Ya("not implemented")}_getReauthenticationResolver(e){return Ya("not implemented")}}async function _7(t,e){return No(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(t,e){return jg(t,"POST","/v1/accounts:signInWithPassword",tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t,e){return jg(t,"POST","/v1/accounts:signInWithEmailLink",tu(t,e))}async function x7(t,e){return jg(t,"POST","/v1/accounts:signInWithEmailLink",tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends jw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Id(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Id(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y2(e,n,"signInWithPassword",w7);case"emailLink":return E7(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y2(e,r,"signUpPassword",_7);case"emailLink":return x7(e,{idToken:n,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e){return jg(t,"POST","/v1/accounts:signInWithIdp",tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="http://localhost";class zl extends jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pw(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new zl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return sc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sc(e,n)}buildRequest(){const e={requestUri:T7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S7(t){const e=od(ld(t)).link,n=e?od(ld(e)).deep_link_id:null,r=od(ld(t)).deep_link_id;return(r?od(ld(r)).link:null)||r||n||e||t}class Lw{constructor(e){var n,r,i,s,l,c;const f=od(ld(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,g=A7((i=f.mode)!==null&&i!==void 0?i:null);qe(d&&m&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=m,this.continueUrl=(s=f.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=S7(e);try{return new Lw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.providerId=Rc.PROVIDER_ID}static credential(e,n){return Id._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lw.parseLink(n);return qe(r,"argument-error"),Id._fromEmailAndCode(e,r.code,r.tenantId)}}Rc.PROVIDER_ID="password";Rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends bD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends eh{constructor(){super("facebook.com")}static credential(e){return zl._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zl._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return co.credential(n,r)}catch{return null}}}co.GOOGLE_SIGN_IN_METHOD="google.com";co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends eh{constructor(){super("github.com")}static credential(e){return zl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends eh{constructor(){super("twitter.com")}static credential(e,n){return zl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ni._fromIdTokenResponse(e,r,i),l=X2(r);return new fc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=X2(r);return new fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function X2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Vi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ip.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ip(e,n,r,i)}}function _D(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ip._fromErrorAndOperation(t,s,e,r):s})}async function C7(t,e,n=!1){const r=await Od(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e,n=!1){const{auth:r}=t;if(Ii(r.app))return Promise.reject(bo(r));const i="reauthenticate";try{const s=await Od(t,_D(r,i,e,t),n);qe(s.idToken,r,"internal-error");const l=kw(s.idToken);qe(l,r,"internal-error");const{sub:c}=l;return qe(t.uid===c,r,"user-mismatch"),fc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ki(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,n=!1){if(Ii(t.app))return Promise.reject(bo(t));const r="signIn",i=await _D(t,r,e),s=await fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function I7(t,e){return wD(Ic(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(t){const e=Ic(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function P7(t,e,n){return Ii(t.app)?Promise.reject(bo(t)):I7(tn(t),Rc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R7(t),r})}function N7(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function D7(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}function ED(t,e,n,r){return tn(t).onAuthStateChanged(e,n,r)}function k7(t){return tn(t).signOut()}const Rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rp,"1"),this.storage.removeItem(Rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=1e3,j7=10;class TD extends xD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);t7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TD.type="LOCAL";const L7=TD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD extends xD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AD.type="SESSION";const SD=AD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async d=>d(n.origin,s)),f=await V7(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,f)=>{const d=Vw("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(){return window}function B7(t){ua().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof ua().WorkerGlobalScope<"u"&&typeof ua().importScripts=="function"}async function z7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function q7(){return CD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="firebaseLocalStorageDb",$7=1,Pp="firebaseLocalStorage",ID="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ug(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function H7(){const t=indexedDB.deleteDatabase(OD);return new th(t).toPromise()}function c1(){const t=indexedDB.open(OD,$7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:ID})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),await H7(),e(await c1()))})})}async function Q2(t,e,n){const r=Ug(t,!0).put({[ID]:e,value:n});return new th(r).toPromise()}async function K7(t,e){const n=Ug(t,!1).get(e),r=await new th(n).toPromise();return r===void 0?null:r.value}function Z2(t,e){const n=Ug(t,!0).delete(e);return new th(n).toPromise()}const G7=800,Y7=3;class RD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Y7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vg._getInstance(q7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await z7(),!this.activeServiceWorker)return;this.sender=new U7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c1();return await Q2(e,Rp,"1"),await Z2(e,Rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>K7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ug(i,!1).getAll();return new th(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RD.type="LOCAL";const W7=RD;new Jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t,e){return e?Wa(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends jw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q7(t){return wD(t.auth,new Uw(t),t.bypassAuthState)}function Z7(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),O7(n,new Uw(t),t.bypassAuthState)}async function J7(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),C7(n,new Uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q7;case"linkViaPopup":case"linkViaRedirect":return J7;case"reauthViaPopup":case"reauthViaRedirect":return Z7;default:ki(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new Jd(2e3,1e4);class tc extends PD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=Vw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eB.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="pendingRedirect",hp=new Map;class nB extends PD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hp.get(this.auth._key());if(!e){try{const r=await rB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hp.set(this.auth._key(),e)}return this.bypassAuthState||hp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rB(t,e){const n=sB(e),r=aB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iB(t,e){hp.set(t._key(),e)}function aB(t){return Wa(t._redirectPersistence)}function sB(t){return dp(tB,t.config.apiKey,t.name)}async function oB(t,e,n=!1){if(Ii(t.app))return Promise.reject(bo(t));const r=Ic(t),i=X7(r,e),l=await new nB(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=10*60*1e3;class uB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ND(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(la(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lB&&this.cachedEventUids.clear(),this.cachedEventUids.has(J2(e))}saveEventToCache(e){this.cachedEventUids.add(J2(e)),this.lastProcessedEventTime=Date.now()}}function J2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ND({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ND(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e={}){return No(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hB=/^https?/;async function mB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fB(t);for(const n of e)try{if(pB(n))return}catch{}ki(t,"unauthorized-domain")}function pB(t){const e=l1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!hB.test(n))return!1;if(dB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new Jd(3e4,6e4);function eC(){const t=ua().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yB(t){return new Promise((e,n)=>{var r,i,s;function l(){eC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eC(),n(la(t,"network-request-failed"))},timeout:gB.get()})}if(!((i=(r=ua().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ua().gapi)===null||s===void 0)&&s.load)l();else{const c=c7("iframefcb");return ua()[c]=()=>{gapi.load?l():n(la(t,"network-request-failed"))},gD(`${u7()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw mp=null,e})}let mp=null;function vB(t){return mp=mp||yB(t),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Jd(5e3,15e3),_B="__/auth/iframe",wB="emulator/auth/iframe",EB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TB(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dw(e,wB):`https://${t.config.authDomain}/${_B}`,r={apiKey:e.apiKey,appName:t.name,v:Oc},i=xB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zd(r).slice(1)}`}async function AB(t){const e=await vB(t),n=ua().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:TB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=la(t,"network-request-failed"),c=ua().setTimeout(()=>{s(l)},bB.get());function f(){ua().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CB=500,OB=600,IB="_blank",RB="http://localhost";class tC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PB(t,e,n,r=CB,i=OB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},SB),{width:r.toString(),height:i.toString(),top:s,left:l}),d=er().toLowerCase();n&&(c=uD(d)?IB:n),oD(d)&&(e=e||RB,f.scrollbars="yes");const m=Object.entries(f).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(e7(d)&&c!=="_self")return NB(e||"",c),new tC(null);const g=window.open(e||"",c,m);qe(g,t,"popup-blocked");try{g.focus()}catch{}return new tC(g)}function NB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="__/auth/handler",kB="emulator/auth/handler",MB=encodeURIComponent("fac");async function nC(t,e,n,r,i,s){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oc,eventId:i};if(e instanceof bD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",b9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof eh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),d=f?`#${MB}=${encodeURIComponent(f)}`:"";return`${jB(t)}?${Zd(c).slice(1)}${d}`}function jB({config:t}){return t.emulator?Dw(t,kB):`https://${t.authDomain}/${DB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="webStorageSupport";class LB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SD,this._completeRedirectFn=oB,this._overrideRedirectResult=iB}async _openPopup(e,n,r,i){var s;as((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await nC(e,n,r,l1(),i);return PB(e,l,Vw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await nC(e,n,r,l1(),i);return B7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(as(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AB(e),r=new uB(e);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(X0,{type:X0},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[X0];l!==void 0&&n(!!l),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mD()||lD()||Mw()}}const VB=LB;var rC="@firebase/auth",iC="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zB(t){pa(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;qe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pD(t)},d=new s7(r,i,s,f);return g7(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pa(new Di("auth-internal",e=>{const n=Ic(e.getProvider("auth").getImmediate());return(r=>new UB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(rC,iC,BB(t)),di(rC,iC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=5*60,qB=zN("authIdTokenMaxAge")||FB;let aC=null;const $B=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qB)return;const i=n==null?void 0:n.token;aC!==i&&(aC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HB(t=Rw()){const e=eu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p7(t,{popupRedirectResolver:VB,persistence:[W7,L7,SD]}),r=zN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=$B(s.toString());D7(n,l,()=>l(n.currentUser)),N7(n,c=>l(c))}}const i=UN("auth");return i&&y7(n,`http://${i}`),n}function KB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=la("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",KB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zB("Browser");var GB="firebase",YB="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(GB,YB,"app");const DD="@firebase/installations",Bw="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=1e4,MD=`w:${Bw}`,jD="FIS_v2",WB="https://firebaseinstallations.googleapis.com/v1",XB=60*60*1e3,QB="installations",ZB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fl=new Jl(QB,ZB,JB);function LD(t){return t instanceof Vi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD({projectId:t}){return`${WB}/projects/${t}/installations`}function UD(t){return{token:t.token,requestStatus:2,expiresIn:tz(t.expiresIn),creationTime:Date.now()}}async function BD(t,e){const r=(await e.json()).error;return Fl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ez(t,{refreshToken:e}){const n=zD(t);return n.append("Authorization",nz(e)),n}async function FD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tz(t){return Number(t.replace("s","000"))}function nz(t){return`${jD} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=VD(t),i=zD(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const l={fid:n,authVersion:jD,appId:t.appId,sdkVersion:MD},c={method:"POST",headers:i,body:JSON.stringify(l)},f=await FD(()=>fetch(r,c));if(f.ok){const d=await f.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:UD(d.authToken)}}else throw await BD("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=/^[cdef][\w-]{21}$/,f1="";function sz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=oz(t);return az.test(n)?n:f1}catch{return f1}}function oz(t){return iz(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Map;function HD(t,e){const n=Bg(t);KD(n,e),lz(n,e)}function KD(t,e){const n=$D.get(t);if(n)for(const r of n)r(e)}function lz(t,e){const n=uz();n&&n.postMessage({key:t,fid:e}),cz()}let Al=null;function uz(){return!Al&&"BroadcastChannel"in self&&(Al=new BroadcastChannel("[Firebase] FID Change"),Al.onmessage=t=>{KD(t.data.key,t.data.fid)}),Al}function cz(){$D.size===0&&Al&&(Al.close(),Al=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="firebase-installations-database",dz=1,ql="firebase-installations-store";let Q0=null;function zw(){return Q0||(Q0=WN(fz,dz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ql)}}})),Q0}async function Np(t,e){const n=Bg(t),i=(await zw()).transaction(ql,"readwrite"),s=i.objectStore(ql),l=await s.get(n);return await s.put(e,n),await i.done,(!l||l.fid!==e.fid)&&HD(t,e.fid),e}async function GD(t){const e=Bg(t),r=(await zw()).transaction(ql,"readwrite");await r.objectStore(ql).delete(e),await r.done}async function zg(t,e){const n=Bg(t),i=(await zw()).transaction(ql,"readwrite"),s=i.objectStore(ql),l=await s.get(n),c=e(l);return c===void 0?await s.delete(n):await s.put(c,n),await i.done,c&&(!l||l.fid!==c.fid)&&HD(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(t){let e;const n=await zg(t.appConfig,r=>{const i=hz(r),s=mz(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===f1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function hz(t){const e=t||{fid:sz(),registrationStatus:0};return YD(e)}function mz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=pz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gz(t)}:{installationEntry:e}}async function pz(t,e){try{const n=await rz(t,e);return Np(t.appConfig,n)}catch(n){throw LD(n)&&n.customData.serverCode===409?await GD(t.appConfig):await Np(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function gz(t){let e=await sC(t.appConfig);for(;e.registrationStatus===1;)await qD(100),e=await sC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fw(t);return r||n}return e}function sC(t){return zg(t,e=>{if(!e)throw Fl.create("installation-not-found");return YD(e)})}function YD(t){return yz(t)?{fid:t.fid,registrationStatus:0}:t}function yz(t){return t.registrationStatus===1&&t.registrationTime+kD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz({appConfig:t,heartbeatServiceProvider:e},n){const r=bz(t,n),i=ez(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const l={installation:{sdkVersion:MD,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},f=await FD(()=>fetch(r,c));if(f.ok){const d=await f.json();return UD(d)}else throw await BD("Generate Auth Token",f)}function bz(t,{fid:e}){return`${VD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(t,e=!1){let n;const r=await zg(t.appConfig,s=>{if(!WD(s))throw Fl.create("not-registered");const l=s.authToken;if(!e&&Ez(l))return s;if(l.requestStatus===1)return n=_z(t,e),s;{if(!navigator.onLine)throw Fl.create("app-offline");const c=Tz(s);return n=wz(t,c),c}});return n?await n:r.authToken}async function _z(t,e){let n=await oC(t.appConfig);for(;n.authToken.requestStatus===1;)await qD(100),n=await oC(t.appConfig);const r=n.authToken;return r.requestStatus===0?qw(t,e):r}function oC(t){return zg(t,e=>{if(!WD(e))throw Fl.create("not-registered");const n=e.authToken;return Az(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function wz(t,e){try{const n=await vz(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Np(t.appConfig,r),n}catch(n){if(LD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GD(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Np(t.appConfig,r)}throw n}}function WD(t){return t!==void 0&&t.registrationStatus===2}function Ez(t){return t.requestStatus===2&&!xz(t)}function xz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+XB}function Tz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Az(t){return t.requestStatus===1&&t.requestTime+kD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fw(e);return r?r.catch(console.error):qw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e=!1){const n=t;return await Oz(n),(await qw(n,e)).token}async function Oz(t){const{registrationPromise:e}=await Fw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t){if(!t||!t.options)throw Z0("App Configuration");if(!t.name)throw Z0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Z0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Z0(t){return Fl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="installations",Rz="installations-internal",Pz=t=>{const e=t.getProvider("app").getImmediate(),n=Iz(e),r=eu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Nz=t=>{const e=t.getProvider("app").getImmediate(),n=eu(e,XD).getImmediate();return{getId:()=>Sz(n),getToken:i=>Cz(n,i)}};function Dz(){pa(new Di(XD,Pz,"PUBLIC")),pa(new Di(Rz,Nz,"PRIVATE"))}Dz();di(DD,Bw);di(DD,Bw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="analytics",kz="firebase_id",Mz="origin",jz=60*1e3,Lz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$w="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Mg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vr=new Jl("analytics","Analytics",Vz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){if(!t.startsWith($w)){const e=Vr.create("invalid-gtag-resource",{gtagURL:t});return _r.warn(e.message),""}return t}function QD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Bz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function zz(t,e){const n=Bz("firebase-js-sdk-policy",{createScriptURL:Uz}),r=document.createElement("script"),i=`${$w}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Fz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function qz(t,e,n,r,i,s){const l=r[i];try{if(l)await e[l];else{const f=(await QD(n)).find(d=>d.measurementId===i);f&&await e[f.appId]}}catch(c){_r.error(c)}t("config",i,s)}async function $z(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await QD(n);for(const f of l){const d=c.find(g=>g.measurementId===f),m=d&&e[d.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){_r.error(s)}}function Hz(t,e,n,r){async function i(s,...l){try{if(s==="event"){const[c,f]=l;await $z(t,e,n,c,f)}else if(s==="config"){const[c,f]=l;await qz(t,e,n,r,c,f)}else if(s==="consent"){const[c,f]=l;t("consent",c,f)}else if(s==="get"){const[c,f,d]=l;t("get",c,f,d)}else if(s==="set"){const[c]=l;t("set",c)}else t(s,...l)}catch(c){_r.error(c)}}return i}function Kz(t,e,n,r,i){let s=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Hz(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Gz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($w)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=30,Wz=1e3;class Xz{constructor(e={},n=Wz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZD=new Xz;function Qz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Zz(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Qz(r)},s=Lz.replace("{app-id}",n),l=await fetch(s,i);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();!((e=f.error)===null||e===void 0)&&e.message&&(c=f.error.message)}catch{}throw Vr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function Jz(t,e=ZD,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Vr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Vr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new nF;return setTimeout(async()=>{c.abort()},jz),JD({appId:r,apiKey:i,measurementId:s},l,c,e)}async function JD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ZD){var s;const{appId:l,measurementId:c}=t;try{await eF(r,e)}catch(f){if(c)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw f}try{const f=await Zz(t);return i.deleteThrottleMetadata(l),f}catch(f){const d=f;if(!tF(d)){if(i.deleteThrottleMetadata(l),c)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:c};throw f}const m=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?P2(n,i.intervalMillis,Yz):P2(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(l,g),_r.debug(`Calling attemptFetch again in ${m} millis`),JD(t,g,r,i)}}function eF(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tF(t){if(!(t instanceof Vi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class nF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rF(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,l=Object.assign(Object.assign({},r),{send_to:s});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(){if(HN())try{await KN()}catch(t){return _r.warn(Vr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _r.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aF(t,e,n,r,i,s,l){var c;const f=Jz(t);f.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>_r.error(_)),e.push(f);const d=iF().then(_=>{if(_)return r.getId()}),[m,g]=await Promise.all([f,d]);Gz(s)||zz(s,m.measurementId),i("js",new Date);const v=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return v[Mz]="firebase",v.update=!0,g!=null&&(v[kz]=g),i("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.app=e}_delete(){return delete yd[this.app.options.appId],Promise.resolve()}}let yd={},lC=[];const uC={};let J0="dataLayer",oF="gtag",cC,e4,fC=!1;function lF(){const t=[];if($N()&&t.push("This is a browser extension environment."),p9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vr.create("invalid-analytics-context",{errorInfo:e});_r.warn(n.message)}}function uF(t,e,n){lF();const r=t.options.appId;if(!r)throw Vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vr.create("no-api-key");if(yd[r]!=null)throw Vr.create("already-exists",{id:r});if(!fC){Fz(J0);const{wrappedGtag:s,gtagCore:l}=Kz(yd,lC,uC,J0,oF);e4=s,cC=l,fC=!0}return yd[r]=aF(t,lC,uC,e,cC,J0,n),new sF(t)}function cF(t=Rw()){t=tn(t);const e=eu(t,Dp);return e.isInitialized()?e.getImmediate():fF(t)}function fF(t,e={}){const n=eu(t,Dp);if(n.isInitialized()){const i=n.getImmediate();if(xo(e,n.getOptions()))return i;throw Vr.create("already-initialized")}return n.initialize({options:e})}function dF(t,e,n,r){t=tn(t),rF(e4,yd[t.app.options.appId],e,n,r).catch(i=>_r.error(i))}const dC="@firebase/analytics",hC="0.10.17";function hF(){pa(new Di(Dp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return uF(r,i,n)},"PUBLIC")),pa(new Di("analytics-internal",t,"PRIVATE")),di(dC,hC),di(dC,hC,"esm2017");function t(e){try{const n=e.getProvider(Dp).getImmediate();return{logEvent:(r,i,s)=>dF(n,r,i,s)}}catch(n){throw Vr.create("interop-component-reg-failed",{reason:n})}}}hF();var mC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,t4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function D(){}D.prototype=N.prototype,P.D=N.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(L,z,F){for(var B=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)B[_e-2]=arguments[_e];return N.prototype[z].apply(L,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,N,D){D||(D=0);var L=Array(16);if(typeof N=="string")for(var z=0;16>z;++z)L[z]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(z=0;16>z;++z)L[z]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=P.g[0],D=P.g[1],z=P.g[2];var F=P.g[3],B=N+(F^D&(z^F))+L[0]+3614090360&4294967295;N=D+(B<<7&4294967295|B>>>25),B=F+(z^N&(D^z))+L[1]+3905402710&4294967295,F=N+(B<<12&4294967295|B>>>20),B=z+(D^F&(N^D))+L[2]+606105819&4294967295,z=F+(B<<17&4294967295|B>>>15),B=D+(N^z&(F^N))+L[3]+3250441966&4294967295,D=z+(B<<22&4294967295|B>>>10),B=N+(F^D&(z^F))+L[4]+4118548399&4294967295,N=D+(B<<7&4294967295|B>>>25),B=F+(z^N&(D^z))+L[5]+1200080426&4294967295,F=N+(B<<12&4294967295|B>>>20),B=z+(D^F&(N^D))+L[6]+2821735955&4294967295,z=F+(B<<17&4294967295|B>>>15),B=D+(N^z&(F^N))+L[7]+4249261313&4294967295,D=z+(B<<22&4294967295|B>>>10),B=N+(F^D&(z^F))+L[8]+1770035416&4294967295,N=D+(B<<7&4294967295|B>>>25),B=F+(z^N&(D^z))+L[9]+2336552879&4294967295,F=N+(B<<12&4294967295|B>>>20),B=z+(D^F&(N^D))+L[10]+4294925233&4294967295,z=F+(B<<17&4294967295|B>>>15),B=D+(N^z&(F^N))+L[11]+2304563134&4294967295,D=z+(B<<22&4294967295|B>>>10),B=N+(F^D&(z^F))+L[12]+1804603682&4294967295,N=D+(B<<7&4294967295|B>>>25),B=F+(z^N&(D^z))+L[13]+4254626195&4294967295,F=N+(B<<12&4294967295|B>>>20),B=z+(D^F&(N^D))+L[14]+2792965006&4294967295,z=F+(B<<17&4294967295|B>>>15),B=D+(N^z&(F^N))+L[15]+1236535329&4294967295,D=z+(B<<22&4294967295|B>>>10),B=N+(z^F&(D^z))+L[1]+4129170786&4294967295,N=D+(B<<5&4294967295|B>>>27),B=F+(D^z&(N^D))+L[6]+3225465664&4294967295,F=N+(B<<9&4294967295|B>>>23),B=z+(N^D&(F^N))+L[11]+643717713&4294967295,z=F+(B<<14&4294967295|B>>>18),B=D+(F^N&(z^F))+L[0]+3921069994&4294967295,D=z+(B<<20&4294967295|B>>>12),B=N+(z^F&(D^z))+L[5]+3593408605&4294967295,N=D+(B<<5&4294967295|B>>>27),B=F+(D^z&(N^D))+L[10]+38016083&4294967295,F=N+(B<<9&4294967295|B>>>23),B=z+(N^D&(F^N))+L[15]+3634488961&4294967295,z=F+(B<<14&4294967295|B>>>18),B=D+(F^N&(z^F))+L[4]+3889429448&4294967295,D=z+(B<<20&4294967295|B>>>12),B=N+(z^F&(D^z))+L[9]+568446438&4294967295,N=D+(B<<5&4294967295|B>>>27),B=F+(D^z&(N^D))+L[14]+3275163606&4294967295,F=N+(B<<9&4294967295|B>>>23),B=z+(N^D&(F^N))+L[3]+4107603335&4294967295,z=F+(B<<14&4294967295|B>>>18),B=D+(F^N&(z^F))+L[8]+1163531501&4294967295,D=z+(B<<20&4294967295|B>>>12),B=N+(z^F&(D^z))+L[13]+2850285829&4294967295,N=D+(B<<5&4294967295|B>>>27),B=F+(D^z&(N^D))+L[2]+4243563512&4294967295,F=N+(B<<9&4294967295|B>>>23),B=z+(N^D&(F^N))+L[7]+1735328473&4294967295,z=F+(B<<14&4294967295|B>>>18),B=D+(F^N&(z^F))+L[12]+2368359562&4294967295,D=z+(B<<20&4294967295|B>>>12),B=N+(D^z^F)+L[5]+4294588738&4294967295,N=D+(B<<4&4294967295|B>>>28),B=F+(N^D^z)+L[8]+2272392833&4294967295,F=N+(B<<11&4294967295|B>>>21),B=z+(F^N^D)+L[11]+1839030562&4294967295,z=F+(B<<16&4294967295|B>>>16),B=D+(z^F^N)+L[14]+4259657740&4294967295,D=z+(B<<23&4294967295|B>>>9),B=N+(D^z^F)+L[1]+2763975236&4294967295,N=D+(B<<4&4294967295|B>>>28),B=F+(N^D^z)+L[4]+1272893353&4294967295,F=N+(B<<11&4294967295|B>>>21),B=z+(F^N^D)+L[7]+4139469664&4294967295,z=F+(B<<16&4294967295|B>>>16),B=D+(z^F^N)+L[10]+3200236656&4294967295,D=z+(B<<23&4294967295|B>>>9),B=N+(D^z^F)+L[13]+681279174&4294967295,N=D+(B<<4&4294967295|B>>>28),B=F+(N^D^z)+L[0]+3936430074&4294967295,F=N+(B<<11&4294967295|B>>>21),B=z+(F^N^D)+L[3]+3572445317&4294967295,z=F+(B<<16&4294967295|B>>>16),B=D+(z^F^N)+L[6]+76029189&4294967295,D=z+(B<<23&4294967295|B>>>9),B=N+(D^z^F)+L[9]+3654602809&4294967295,N=D+(B<<4&4294967295|B>>>28),B=F+(N^D^z)+L[12]+3873151461&4294967295,F=N+(B<<11&4294967295|B>>>21),B=z+(F^N^D)+L[15]+530742520&4294967295,z=F+(B<<16&4294967295|B>>>16),B=D+(z^F^N)+L[2]+3299628645&4294967295,D=z+(B<<23&4294967295|B>>>9),B=N+(z^(D|~F))+L[0]+4096336452&4294967295,N=D+(B<<6&4294967295|B>>>26),B=F+(D^(N|~z))+L[7]+1126891415&4294967295,F=N+(B<<10&4294967295|B>>>22),B=z+(N^(F|~D))+L[14]+2878612391&4294967295,z=F+(B<<15&4294967295|B>>>17),B=D+(F^(z|~N))+L[5]+4237533241&4294967295,D=z+(B<<21&4294967295|B>>>11),B=N+(z^(D|~F))+L[12]+1700485571&4294967295,N=D+(B<<6&4294967295|B>>>26),B=F+(D^(N|~z))+L[3]+2399980690&4294967295,F=N+(B<<10&4294967295|B>>>22),B=z+(N^(F|~D))+L[10]+4293915773&4294967295,z=F+(B<<15&4294967295|B>>>17),B=D+(F^(z|~N))+L[1]+2240044497&4294967295,D=z+(B<<21&4294967295|B>>>11),B=N+(z^(D|~F))+L[8]+1873313359&4294967295,N=D+(B<<6&4294967295|B>>>26),B=F+(D^(N|~z))+L[15]+4264355552&4294967295,F=N+(B<<10&4294967295|B>>>22),B=z+(N^(F|~D))+L[6]+2734768916&4294967295,z=F+(B<<15&4294967295|B>>>17),B=D+(F^(z|~N))+L[13]+1309151649&4294967295,D=z+(B<<21&4294967295|B>>>11),B=N+(z^(D|~F))+L[4]+4149444226&4294967295,N=D+(B<<6&4294967295|B>>>26),B=F+(D^(N|~z))+L[11]+3174756917&4294967295,F=N+(B<<10&4294967295|B>>>22),B=z+(N^(F|~D))+L[2]+718787259&4294967295,z=F+(B<<15&4294967295|B>>>17),B=D+(F^(z|~N))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(z+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+z&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var D=N-this.blockSize,L=this.B,z=this.h,F=0;F<N;){if(z==0)for(;F<=D;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<N;)if(L[z++]=P.charCodeAt(F++),z==this.blockSize){i(this,L),z=0;break}}else for(;F<N;)if(L[z++]=P[F++],z==this.blockSize){i(this,L),z=0;break}}this.h=z,this.o+=N},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var D=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=D&255,D/=256;for(this.u(P),P=Array(16),N=D=0;4>N;++N)for(var L=0;32>L;L+=8)P[D++]=this.g[N]>>>L&255;return P};function s(P,N){var D=c;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=N(P)}function l(P,N){this.h=N;for(var D=[],L=!0,z=P.length-1;0<=z;z--){var F=P[z]|0;L&&F==N||(D[z]=F,L=!1)}this.g=D}var c={};function f(P){return-128<=P&&128>P?s(P,function(N){return new l([N|0],0>N?-1:0)}):new l([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return g;if(0>P)return x(d(-P));for(var N=[],D=1,L=0;P>=D;L++)N[L]=P/D|0,D*=4294967296;return new l(N,0)}function m(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return x(m(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(N,8)),L=g,z=0;z<P.length;z+=8){var F=Math.min(8,P.length-z),B=parseInt(P.substring(z,z+F),N);8>F?(F=d(Math.pow(N,F)),L=L.j(F).add(d(B))):(L=L.j(D),L=L.add(d(B)))}return L}var g=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(w(this))return-x(this).m();for(var P=0,N=1,D=0;D<this.g.length;D++){var L=this.i(D);P+=(0<=L?L:4294967296+L)*N,N*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(w(this))return"-"+x(this).toString(P);for(var N=d(Math.pow(P,6)),D=this,L="";;){var z=q(D,N).g;D=C(D,z.j(N));var F=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=z,E(D))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=C(this,P),w(P)?-1:E(P)?0:1};function x(P){for(var N=P.g.length,D=[],L=0;L<N;L++)D[L]=~P.g[L];return new l(D,~P.h).add(v)}t.abs=function(){return w(this)?x(this):this},t.add=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],L=0,z=0;z<=N;z++){var F=L+(this.i(z)&65535)+(P.i(z)&65535),B=(F>>>16)+(this.i(z)>>>16)+(P.i(z)>>>16);L=B>>>16,F&=65535,B&=65535,D[z]=B<<16|F}return new l(D,D[D.length-1]&-2147483648?-1:0)};function C(P,N){return P.add(x(N))}t.j=function(P){if(E(this)||E(P))return g;if(w(this))return w(P)?x(this).j(x(P)):x(x(this).j(P));if(w(P))return x(this.j(x(P)));if(0>this.l(_)&&0>P.l(_))return d(this.m()*P.m());for(var N=this.g.length+P.g.length,D=[],L=0;L<2*N;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<P.g.length;z++){var F=this.i(L)>>>16,B=this.i(L)&65535,_e=P.i(z)>>>16,me=P.i(z)&65535;D[2*L+2*z]+=B*me,R(D,2*L+2*z),D[2*L+2*z+1]+=F*me,R(D,2*L+2*z+1),D[2*L+2*z+1]+=B*_e,R(D,2*L+2*z+1),D[2*L+2*z+2]+=F*_e,R(D,2*L+2*z+2)}for(L=0;L<N;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=N;L<2*N;L++)D[L]=0;return new l(D,0)};function R(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function k(P,N){this.g=P,this.h=N}function q(P,N){if(E(N))throw Error("division by zero");if(E(P))return new k(g,g);if(w(P))return N=q(x(P),N),new k(x(N.g),x(N.h));if(w(N))return N=q(P,x(N)),new k(x(N.g),N.h);if(30<P.g.length){if(w(P)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var D=v,L=N;0>=L.l(P);)D=M(D),L=M(L);var z=U(D,1),F=U(L,1);for(L=U(L,2),D=U(D,2);!E(L);){var B=F.add(L);0>=B.l(P)&&(z=z.add(D),F=B),L=U(L,1),D=U(D,1)}return N=C(P,z.j(N)),new k(z,N)}for(z=g;0<=P.l(N);){for(D=Math.max(1,Math.floor(P.m()/N.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=d(D),B=F.j(N);w(B)||0<B.l(P);)D-=L,F=d(D),B=F.j(N);E(F)&&(F=v),z=z.add(F),P=C(P,B)}return new k(z,P)}t.A=function(P){return q(this,P).h},t.and=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],L=0;L<N;L++)D[L]=this.i(L)&P.i(L);return new l(D,this.h&P.h)},t.or=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],L=0;L<N;L++)D[L]=this.i(L)|P.i(L);return new l(D,this.h|P.h)},t.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],L=0;L<N;L++)D[L]=this.i(L)^P.i(L);return new l(D,this.h^P.h)};function M(P){for(var N=P.g.length+1,D=[],L=0;L<N;L++)D[L]=P.i(L)<<1|P.i(L-1)>>>31;return new l(D,P.h)}function U(P,N){var D=N>>5;N%=32;for(var L=P.g.length-D,z=[],F=0;F<L;F++)z[F]=0<N?P.i(F+D)>>>N|P.i(F+D+1)<<32-N:P.i(F+D);return new l(z,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,_o=l}).apply(typeof mC<"u"?mC:typeof self<"u"?self:typeof window<"u"?window:{});var $m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n4,ud,r4,pp,d1,i4,a4,s4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,T,O){return p==Array.prototype||p==Object.prototype||(p[T]=O.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof $m=="object"&&$m];for(var T=0;T<p.length;++T){var O=p[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(p,T){if(T)e:{var O=r;p=p.split(".");for(var V=0;V<p.length-1;V++){var X=p[V];if(!(X in O))break e;O=O[X]}p=p[p.length-1],V=O[p],T=T(V),T!=V&&T!=null&&e(O,p,{configurable:!0,writable:!0,value:T})}}function s(p,T){p instanceof String&&(p+="");var O=0,V=!1,X={next:function(){if(!V&&O<p.length){var ee=O++;return{value:T(ee,p[ee]),done:!1}}return V=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(p){return p||function(){return s(this,function(T,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(p){var T=typeof p;return T=T!="object"?T:p?Array.isArray(p)?"array":T:"null",T=="array"||T=="object"&&typeof p.length=="number"}function d(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function m(p,T,O){return p.call.apply(p.bind,arguments)}function g(p,T,O){if(!p)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,V),p.apply(T,X)}}return function(){return p.apply(T,arguments)}}function v(p,T,O){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function _(p,T){var O=Array.prototype.slice.call(arguments,1);return function(){var V=O.slice();return V.push.apply(V,arguments),p.apply(this,V)}}function E(p,T){function O(){}O.prototype=T.prototype,p.aa=T.prototype,p.prototype=new O,p.prototype.constructor=p,p.Qb=function(V,X,ee){for(var be=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)be[lt-2]=arguments[lt];return T.prototype[X].apply(V,be)}}function w(p){const T=p.length;if(0<T){const O=Array(T);for(let V=0;V<T;V++)O[V]=p[V];return O}return[]}function x(p,T){for(let O=1;O<arguments.length;O++){const V=arguments[O];if(f(V)){const X=p.length||0,ee=V.length||0;p.length=X+ee;for(let be=0;be<ee;be++)p[X+be]=V[be]}else p.push(V)}}class C{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function R(p){return/^[\s\xa0]*$/.test(p)}function k(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var M=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function U(p,T,O){for(const V in p)T.call(O,p[V],V,p)}function P(p,T){for(const O in p)T.call(void 0,p[O],O,p)}function N(p){const T={};for(const O in p)T[O]=p[O];return T}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(p,T){let O,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(O in V)p[O]=V[O];for(let ee=0;ee<D.length;ee++)O=D[ee],Object.prototype.hasOwnProperty.call(V,O)&&(p[O]=V[O])}}function z(p){var T=1;p=p.split(":");const O=[];for(;0<T&&p.length;)O.push(p.shift()),T--;return p.length&&O.push(p.join(":")),O}function F(p){c.setTimeout(()=>{throw p},0)}function B(){var p=xe;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class _e{constructor(){this.h=this.g=null}add(T,O){const V=me.get();V.set(T,O),this.h?this.h.next=V:this.g=V,this.h=V}}var me=new C(()=>new te,p=>p.reset());class te{constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ve=!1,xe=new _e,H=()=>{const p=c.Promise.resolve(void 0);he=()=>{p.then(oe)}};var oe=()=>{for(var p;p=B();){try{p.h.call(p.g)}catch(O){F(O)}var T=me;T.j(p),100>T.h&&(T.h++,p.next=T.g,T.g=p)}ve=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};c.addEventListener("test",O,T),c.removeEventListener("test",O,T)}catch{}return p}();function Me(p,T){if(ye.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var O=this.type=p.type,V=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget){if(M){e:{try{q(T.nodeName);var X=!0;break e}catch{}X=!1}X||(T=null)}}else O=="mouseover"?T=p.fromElement:O=="mouseout"&&(T=p.toElement);this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ze[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Me.aa.h.call(this)}}E(Me,ye);var ze={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function ge(p,T,O,V,X){this.listener=p,this.proxy=null,this.src=T,this.type=O,this.capture=!!V,this.ha=X,this.key=++Je,this.da=this.fa=!1}function Ie(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ue(p){this.src=p,this.g={},this.h=0}Ue.prototype.add=function(p,T,O,V,X){var ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);var be=yt(p,T,V,X);return-1<be?(T=p[be],O||(T.fa=!1)):(T=new ge(T,this.src,ee,!!V,X),T.fa=O,p.push(T)),T};function de(p,T){var O=T.type;if(O in p.g){var V=p.g[O],X=Array.prototype.indexOf.call(V,T,void 0),ee;(ee=0<=X)&&Array.prototype.splice.call(V,X,1),ee&&(Ie(T),p.g[O].length==0&&(delete p.g[O],p.h--))}}function yt(p,T,O,V){for(var X=0;X<p.length;++X){var ee=p[X];if(!ee.da&&ee.listener==T&&ee.capture==!!O&&ee.ha==V)return X}return-1}var et="closure_lm_"+(1e6*Math.random()|0),Ut={};function Mt(p,T,O,V,X){if(Array.isArray(T)){for(var ee=0;ee<T.length;ee++)Mt(p,T[ee],O,V,X);return null}return O=Ye(O),p&&p[Nt]?p.K(T,O,d(V)?!!V.capture:!1,X):hr(p,T,O,!1,V,X)}function hr(p,T,O,V,X,ee){if(!T)throw Error("Invalid event type");var be=d(X)?!!X.capture:!!X,lt=pe(p);if(lt||(p[et]=lt=new Ue(p)),O=lt.add(T,O,V,be,ee),O.proxy)return O;if(V=K(),O.proxy=V,V.src=p,V.listener=O,p.addEventListener)we||(X=be),X===void 0&&(X=!1),p.addEventListener(T.toString(),V,X);else if(p.attachEvent)p.attachEvent(Te(T.toString()),V);else if(p.addListener&&p.removeListener)p.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return O}function K(){function p(O){return T.call(p.src,p.listener,O)}const T=Ee;return p}function Z(p,T,O,V,X){if(Array.isArray(T))for(var ee=0;ee<T.length;ee++)Z(p,T[ee],O,V,X);else V=d(V)?!!V.capture:!!V,O=Ye(O),p&&p[Nt]?(p=p.i,T=String(T).toString(),T in p.g&&(ee=p.g[T],O=yt(ee,O,V,X),-1<O&&(Ie(ee[O]),Array.prototype.splice.call(ee,O,1),ee.length==0&&(delete p.g[T],p.h--)))):p&&(p=pe(p))&&(T=p.g[T.toString()],p=-1,T&&(p=yt(T,O,V,X)),(O=-1<p?T[p]:null)&&ne(O))}function ne(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[Nt])de(T.i,p);else{var O=p.type,V=p.proxy;T.removeEventListener?T.removeEventListener(O,V,p.capture):T.detachEvent?T.detachEvent(Te(O),V):T.addListener&&T.removeListener&&T.removeListener(V),(O=pe(T))?(de(O,p),O.h==0&&(O.src=null,T[et]=null)):Ie(p)}}}function Te(p){return p in Ut?Ut[p]:Ut[p]="on"+p}function Ee(p,T){if(p.da)p=!0;else{T=new Me(T,this);var O=p.listener,V=p.ha||p.src;p.fa&&ne(p),p=O.call(V,T)}return p}function pe(p){return p=p[et],p instanceof Ue?p:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(p){return typeof p=="function"?p:(p[Re]||(p[Re]=function(T){return p.handleEvent(T)}),p[Re])}function tt(){ue.call(this),this.i=new Ue(this),this.M=this,this.F=null}E(tt,ue),tt.prototype[Nt]=!0,tt.prototype.removeEventListener=function(p,T,O,V){Z(this,p,T,O,V)};function rt(p,T){var O,V=p.F;if(V)for(O=[];V;V=V.F)O.push(V);if(p=p.M,V=T.type||T,typeof T=="string")T=new ye(T,p);else if(T instanceof ye)T.target=T.target||p;else{var X=T;T=new ye(V,p),L(T,X)}if(X=!0,O)for(var ee=O.length-1;0<=ee;ee--){var be=T.g=O[ee];X=xn(be,V,!0,T)&&X}if(be=T.g=p,X=xn(be,V,!0,T)&&X,X=xn(be,V,!1,T)&&X,O)for(ee=0;ee<O.length;ee++)be=T.g=O[ee],X=xn(be,V,!1,T)&&X}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var p=this.i,T;for(T in p.g){for(var O=p.g[T],V=0;V<O.length;V++)Ie(O[V]);delete p.g[T],p.h--}}this.F=null},tt.prototype.K=function(p,T,O,V){return this.i.add(String(p),T,!1,O,V)},tt.prototype.L=function(p,T,O,V){return this.i.add(String(p),T,!0,O,V)};function xn(p,T,O,V){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();for(var X=!0,ee=0;ee<T.length;++ee){var be=T[ee];if(be&&!be.da&&be.capture==O){var lt=be.listener,mn=be.ha||be.src;be.fa&&de(p.i,be),X=lt.call(mn,V)!==!1&&X}}return X&&!V.defaultPrevented}function ou(p,T,O){if(typeof p=="function")O&&(p=v(p,O));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:c.setTimeout(p,T||0)}function ba(p){p.g=ou(()=>{p.g=null,p.i&&(p.i=!1,ba(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class $o extends ue{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(p){ue.call(this),this.h=p,this.g={}}E(_a,ue);var wi=[];function Tn(p){U(p.g,function(T,O){this.g.hasOwnProperty(O)&&ne(T)},p),p.g={}}_a.prototype.N=function(){_a.aa.N.call(this),Tn(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=c.JSON.stringify,Ui=c.JSON.parse,tr=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Kc(){}Kc.prototype.h=null;function xh(p){return p.h||(p.h=p.i())}function Th(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xs(){ye.call(this,"d")}E(xs,ye);function Ei(){ye.call(this,"c")}E(Ei,ye);var $r={},Ts=null;function lu(){return Ts=Ts||new tt}$r.La="serverreachability";function Gc(p){ye.call(this,$r.La,p)}E(Gc,ye);function As(p){const T=lu();rt(T,new Gc(T))}$r.STAT_EVENT="statevent";function uu(p,T){ye.call(this,$r.STAT_EVENT,p),this.stat=T}E(uu,ye);function Qt(p){const T=lu();rt(T,new uu(T,p))}$r.Ma="timingevent";function Ah(p,T){ye.call(this,$r.Ma,p),this.size=T}E(Ah,ye);function Ss(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},T)}function Cs(){this.g=!0}Cs.prototype.xa=function(){this.g=!1};function Sh(p,T,O,V,X,ee){p.info(function(){if(p.g)if(ee)for(var be="",lt=ee.split("&"),mn=0;mn<lt.length;mn++){var ut=lt[mn].split("=");if(1<ut.length){var Cn=ut[0];ut=ut[1];var pn=Cn.split("_");be=2<=pn.length&&pn[1]=="type"?be+(Cn+"="+ut+"&"):be+(Cn+"=redacted&")}}else be=null;else be=ee;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+T+`
`+O+`
`+be})}function Ch(p,T,O,V,X,ee,be){p.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+T+`
`+O+`
`+ee+" "+be})}function Os(p,T,O,V){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+An(p,O)+(V?" "+V:"")})}function zi(p,T){p.info(function(){return"TIMEOUT: "+T})}Cs.prototype.info=function(){};function An(p,T){if(!p.g)return T;if(!T)return null;try{var O=JSON.parse(T);if(O){for(p=0;p<O.length;p++)if(Array.isArray(O[p])){var V=O[p];if(!(2>V.length)){var X=V[1];if(Array.isArray(X)&&!(1>X.length)){var ee=X[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var be=1;be<X.length;be++)X[be]=""}}}}return Es(O)}catch{return T}}var hn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ho;function cu(){}E(cu,Kc),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},Ho=new cu;function Fi(p,T,O,V){this.j=p,this.i=T,this.l=O,this.R=V||1,this.U=new _a(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yc}function Yc(){this.i=null,this.g="",this.h=!1}var Is={},Ko={};function xi(p,T,O){p.L=1,p.v=Wo($t(T)),p.m=O,p.P=!0,Ea(p,null)}function Ea(p,T){p.F=Date.now(),Bt(p),p.A=$t(p.v);var O=p.A,V=p.R;Array.isArray(V)||(V=[String(V)]),Aa(O.i,"t",V),p.C=0,O=p.j.J,p.h=new Yc,p.g=zh(p.j,O?T:null,!p.m),0<p.O&&(p.M=new $o(v(p.Y,p,p.g),p.O)),T=p.U,O=p.g,V=p.ca;var X="readystatechange";Array.isArray(X)||(X&&(wi[0]=X.toString()),X=wi);for(var ee=0;ee<X.length;ee++){var be=Mt(O,X[ee],V||T.handleEvent,!1,T.h||T);if(!be)break;T.g[be.key]=be}T=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,T)):(p.u="GET",p.g.ea(p.A,p.u,null,T)),As(),Sh(p.i,p.u,p.A,p.l,p.R,p.m)}Fi.prototype.ca=function(p){p=p.target;const T=this.M;T&&Wr(p)==3?T.j():this.Y(p)},Fi.prototype.Y=function(p){try{if(p==this.g)e:{const pn=Wr(this.g);var T=this.g.Ba();const Ia=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||Dh(this.g)))){this.J||pn!=4||T==7||(T==8||0>=Ia?As(3):As(2)),fu(this);var O=this.g.Z();this.X=O;t:if(Rs(this)){var V=Dh(this.g);p="";var X=V.length,ee=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mr(this),Tr(this);var be="";break t}this.h.i=new c.TextDecoder}for(T=0;T<X;T++)this.h.h=!0,p+=this.h.i.decode(V[T],{stream:!(ee&&T==X-1)});V.length=0,this.h.g+=p,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=O==200,Ch(this.i,this.u,this.A,this.l,this.R,pn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,mn=this.g;if((lt=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(lt)){var ut=lt;break t}}ut=null}if(O=ut)Os(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ar(this,O);else{this.o=!1,this.s=3,Qt(12),mr(this),Tr(this);break e}}if(this.P){O=!0;let Mn;for(;!this.J&&this.C<be.length;)if(Mn=Ps(this,be),Mn==Ko){pn==4&&(this.s=4,Qt(14),O=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Is){this.s=4,Qt(15),Os(this.i,this.l,be,"[Invalid Chunk]"),O=!1;break}else Os(this.i,this.l,Mn,null),Ar(this,Mn);if(Rs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||be.length!=0||this.h.h||(this.s=1,Qt(16),O=!1),this.o=this.o&&O,!O)Os(this.i,this.l,be,"[Invalid Chunked Response]"),mr(this),Tr(this);else if(0<be.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),nl(Cn),Cn.M=!0,Qt(11))}}else Os(this.i,this.l,be,null),Ar(this,be);pn==4&&mr(this),this.o&&!this.J&&(pn==4?Vh(this.j,this):(this.o=!1,Bt(this)))}else $y(this.g),O==400&&0<be.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),mr(this),Tr(this)}}}catch{}finally{}};function Rs(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ps(p,T){var O=p.C,V=T.indexOf(`
`,O);return V==-1?Ko:(O=Number(T.substring(O,V)),isNaN(O)?Is:(V+=1,V+O>T.length?Ko:(T=T.slice(V,V+O),p.C=V+O,T)))}Fi.prototype.cancel=function(){this.J=!0,mr(this)};function Bt(p){p.S=Date.now()+p.I,Wc(p,p.I)}function Wc(p,T){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ss(v(p.ba,p),T)}function fu(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Fi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(zi(this.i,this.A),this.L!=2&&(As(),Qt(17)),mr(this),this.s=2,Tr(this)):Wc(this,this.S-p)};function Tr(p){p.j.G==0||p.J||Vh(p.j,p)}function mr(p){fu(p);var T=p.M;T&&typeof T.ma=="function"&&T.ma(),p.M=null,Tn(p.U),p.g&&(T=p.g,p.g=null,T.abort(),T.ma())}function Ar(p,T){try{var O=p.j;if(O.G!=0&&(O.g==p||Ns(O.h,p))){if(!p.K&&Ns(O.h,p)&&O.G==3){try{var V=O.Da.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<p.F)wu(O),bu(O);else break e;of(O),Qt(18)}}else O.za=X[1],0<O.za-O.T&&37500>X[2]&&O.F&&O.v==0&&!O.C&&(O.C=Ss(v(O.Za,O),6e3));if(1>=Oh(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Oa(O,11)}else if((p.K||O.g==p)&&wu(O),!R(T))for(X=O.Da.g.parse(T),T=0;T<X.length;T++){let ut=X[T];if(O.T=ut[0],ut=ut[1],O.G==2)if(ut[0]=="c"){O.K=ut[1],O.ia=ut[2];const Cn=ut[3];Cn!=null&&(O.la=Cn,O.j.info("VER="+O.la));const pn=ut[4];pn!=null&&(O.Aa=pn,O.j.info("SVER="+O.Aa));const Ia=ut[5];Ia!=null&&typeof Ia=="number"&&0<Ia&&(V=1.5*Ia,O.L=V,O.j.info("backChannelRequestTimeoutMs_="+V)),V=O;const Mn=p.g;if(Mn){const Wi=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var ee=V.h;ee.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ds(ee,ee.h),ee.h=null))}if(V.D){const uf=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(V.ya=uf,dt(V.I,V.D,uf))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-p.F,O.j.info("Handshake RTT: "+O.R+"ms")),V=O;var be=p;if(V.qa=Bh(V,V.J?V.ia:null,V.W),be.K){Hr(V.h,be);var lt=be,mn=V.L;mn&&(lt.I=mn),lt.B&&(fu(lt),Bt(lt)),V.g=be}else jh(V);0<O.i.length&&_u(O)}else ut[0]!="stop"&&ut[0]!="close"||Oa(O,7);else O.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Oa(O,7):af(O):ut[0]!="noop"&&O.l&&O.l.ta(ut),O.v=0)}}As(4)}catch{}}var Uy=class{constructor(p,T){this.g=p,this.map=T}};function Xc(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Oh(p){return p.h?1:p.g?p.g.size:0}function Ns(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function Ds(p,T){p.g?p.g.add(T):p.h=T}function Hr(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}Xc.prototype.cancel=function(){if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function nr(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const O of p.g.values())T=T.concat(O.D);return T}return w(p.i)}function Ih(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var T=[],O=p.length,V=0;V<O;V++)T.push(p[V]);return T}T=[],O=0;for(V in p)T[O++]=p[V];return T}function By(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var T=[];p=p.length;for(var O=0;O<p;O++)T.push(O);return T}T=[],O=0;for(const V in p)T[O++]=V;return T}}}function Go(p,T){if(p.forEach&&typeof p.forEach=="function")p.forEach(T,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,T,void 0);else for(var O=By(p),V=Ih(p),X=V.length,ee=0;ee<X;ee++)T.call(void 0,V[ee],O&&O[ee],p)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function du(p,T){if(p){p=p.split("&");for(var O=0;O<p.length;O++){var V=p[O].indexOf("="),X=null;if(0<=V){var ee=p[O].substring(0,V);X=p[O].substring(V+1)}else ee=p[O];T(ee,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function xa(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof xa){this.h=p.h,ks(this,p.j),this.o=p.o,this.g=p.g,Yo(this,p.s),this.l=p.l;var T=p.i,O=new qi;O.i=T.i,T.g&&(O.g=new Map(T.g),O.h=T.h),hu(this,O),this.m=p.m}else p&&(T=String(p).match(Zc))?(this.h=!1,ks(this,T[1]||"",!0),this.o=Ms(T[2]||""),this.g=Ms(T[3]||"",!0),Yo(this,T[4]),this.l=Ms(T[5]||"",!0),hu(this,T[6]||"",!0),this.m=Ms(T[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}xa.prototype.toString=function(){var p=[],T=this.j;T&&p.push(Kr(T,Jc,!0),":");var O=this.g;return(O||T=="file")&&(p.push("//"),(T=this.o)&&p.push(Kr(T,Jc,!0),"@"),p.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&p.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(Kr(O,O.charAt(0)=="/"?ef:Rh,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",Kr(O,qy)),p.join("")};function $t(p){return new xa(p)}function ks(p,T,O){p.j=O?Ms(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function Yo(p,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);p.s=T}else p.s=null}function hu(p,T,O){T instanceof qi?(p.i=T,tf(p.i,p.h)):(O||(T=Kr(T,Fy)),p.i=new qi(T,p.h))}function dt(p,T,O){p.i.set(T,O)}function Wo(p){return dt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ms(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Kr(p,T,O){return typeof p=="string"?(p=encodeURI(p).replace(T,zy),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function zy(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Jc=/[#\/\?@]/g,Rh=/[#\?:]/g,ef=/[#\?]/g,Fy=/[#\?@]/g,qy=/#/g;function qi(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function Gr(p){p.g||(p.g=new Map,p.h=0,p.i&&du(p.i,function(T,O){p.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}t=qi.prototype,t.add=function(p,T){Gr(this),this.i=null,p=Sa(this,p);var O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(T),this.h+=1,this};function mu(p,T){Gr(p),T=Sa(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Ta(p,T){return Gr(p),T=Sa(p,T),p.g.has(T)}t.forEach=function(p,T){Gr(this),this.g.forEach(function(O,V){O.forEach(function(X){p.call(T,X,V,this)},this)},this)},t.na=function(){Gr(this);const p=Array.from(this.g.values()),T=Array.from(this.g.keys()),O=[];for(let V=0;V<T.length;V++){const X=p[V];for(let ee=0;ee<X.length;ee++)O.push(T[V])}return O},t.V=function(p){Gr(this);let T=[];if(typeof p=="string")Ta(this,p)&&(T=T.concat(this.g.get(Sa(this,p))));else{p=Array.from(this.g.values());for(let O=0;O<p.length;O++)T=T.concat(p[O])}return T},t.set=function(p,T){return Gr(this),this.i=null,p=Sa(this,p),Ta(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=this.V(p),0<p.length?String(p[0]):T):T};function Aa(p,T,O){mu(p,T),0<O.length&&(p.i=null,p.g.set(Sa(p,T),w(O)),p.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(var O=0;O<T.length;O++){var V=T[O];const ee=encodeURIComponent(String(V)),be=this.V(V);for(V=0;V<be.length;V++){var X=ee;be[V]!==""&&(X+="="+encodeURIComponent(String(be[V]))),p.push(X)}}return this.i=p.join("&")};function Sa(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function tf(p,T){T&&!p.j&&(Gr(p),p.i=null,p.g.forEach(function(O,V){var X=V.toLowerCase();V!=X&&(mu(this,V),Aa(this,X,O))},p)),p.j=T}function Ph(p,T){const O=new Cs;if(c.Image){const V=new Image;V.onload=_(Yr,O,"TestLoadImage: loaded",!0,T,V),V.onerror=_(Yr,O,"TestLoadImage: error",!1,T,V),V.onabort=_(Yr,O,"TestLoadImage: abort",!1,T,V),V.ontimeout=_(Yr,O,"TestLoadImage: timeout",!1,T,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=p}else T(!1)}function Xo(p,T){const O=new Cs,V=new AbortController,X=setTimeout(()=>{V.abort(),Yr(O,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:V.signal}).then(ee=>{clearTimeout(X),ee.ok?Yr(O,"TestPingServer: ok",!0,T):Yr(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),Yr(O,"TestPingServer: error",!1,T)})}function Yr(p,T,O,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(O)}catch{}}function Qo(){this.g=new tr}function $i(p,T,O){const V=O||"";try{Go(p,function(X,ee){let be=X;d(X)&&(be=Es(X)),T.push(V+ee+"="+encodeURIComponent(be))})}catch(X){throw T.push(V+"type="+encodeURIComponent("_badmap")),X}}function js(p){this.l=p.Ub||null,this.j=p.eb||!1}E(js,Kc),js.prototype.g=function(){return new Ca(this.l,this.j)},js.prototype.i=function(p){return function(){return p}}({});function Ca(p,T){tt.call(this),this.D=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ca,tt),t=Ca.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=T,this.readyState=1,Ki(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(T.body=p),(this.D||c).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nf(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function nf(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?Hi(this):Ki(this),this.readyState==3&&nf(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Hi(this))},t.Qa=function(p){this.g&&(this.response=p,Hi(this))},t.ga=function(){this.g&&Hi(this)};function Hi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ki(p)}t.setRequestHeader=function(p,T){this.u.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=T.next();return p.join(`\r
`)};function Ki(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function rf(p){let T="";return U(p,function(O,V){T+=V,T+=":",T+=O,T+=`\r
`}),T}function Sn(p,T,O){e:{for(V in O){var V=!1;break e}V=!0}V||(O=rf(O),typeof p=="string"?O!=null&&encodeURIComponent(String(O)):dt(p,T,O))}function vt(p){tt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(vt,tt);var pu=/^https?$/i,Zo=["POST","PUT"];t=vt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,T,O,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ho.g(),this.v=this.o?xh(this.o):xh(Ho),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(ee){Nh(this,ee);return}if(p=O||"",O=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)O.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ee of V.keys())O.set(ee,V.get(ee));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(O.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Zo,T,void 0))||V||X||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,be]of O)this.g.setRequestHeader(ee,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jo(this),this.u=!0,this.g.send(p),this.u=!1}catch(ee){Nh(this,ee)}};function Nh(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.m=5,gu(p),Gi(p)}function gu(p){p.A||(p.A=!0,rt(p,"complete"),rt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,rt(this,"complete"),rt(this,"abort"),Gi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yu(this):this.bb())},t.bb=function(){yu(this)};function yu(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Wr(p)!=4||p.Z()!=2)){if(p.u&&Wr(p)==4)ou(p.Ea,0,p);else if(rt(p,"readystatechange"),Wr(p)==4){p.h=!1;try{const be=p.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var V;if(V=be===0){var X=String(p.D).match(Zc)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),V=!pu.test(X?X.toLowerCase():"")}O=V}if(O)rt(p,"complete"),rt(p,"success");else{p.m=6;try{var ee=2<Wr(p)?p.g.statusText:""}catch{ee=""}p.l=ee+" ["+p.Z()+"]",gu(p)}}finally{Gi(p)}}}}function Gi(p,T){if(p.g){Jo(p);const O=p.g,V=p.v[0]?()=>{}:null;p.g=null,p.v=null,T||rt(p,"ready");try{O.onreadystatechange=V}catch{}}}function Jo(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Wr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Ui(T)}};function Dh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function $y(p){const T={};p=(p.g&&2<=Wr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<p.length;V++){if(R(p[V]))continue;var O=z(p[V]);const X=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ee=T[X]||[];T[X]=ee,ee.push(O)}P(T,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function el(p,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||T}function vu(p){this.Aa=0,this.i=[],this.j=new Cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=el("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=el("baseRetryDelayMs",5e3,p),this.cb=el("retryDelaySeedMs",1e4,p),this.Wa=el("forwardChannelMaxRetries",2,p),this.wa=el("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Xc(p&&p.concurrentRequestLimit),this.Da=new Qo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vu.prototype,t.la=8,t.G=1,t.connect=function(p,T,O,V){Qt(0),this.W=p,this.H=T||{},O&&V!==void 0&&(this.H.OSID=O,this.H.OAID=V),this.F=this.X,this.I=Bh(this,null,this.W),_u(this)};function af(p){if(kh(p),p.G==3){var T=p.U++,O=$t(p.I);if(dt(O,"SID",p.K),dt(O,"RID",T),dt(O,"TYPE","terminate"),tl(p,O),T=new Fi(p,p.j,T),T.L=2,T.v=Wo($t(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(T.v.toString(),"")}catch{}!O&&c.Image&&(new Image().src=T.v,O=!0),O||(T.g=zh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Bt(T)}Uh(p)}function bu(p){p.g&&(nl(p),p.g.cancel(),p.g=null)}function kh(p){bu(p),p.u&&(c.clearTimeout(p.u),p.u=null),wu(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function _u(p){if(!Qc(p.h)&&!p.s){p.s=!0;var T=p.Ga;he||H(),ve||(he(),ve=!0),xe.add(T,p),p.B=0}}function Hy(p,T){return Oh(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=T.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ss(v(p.Ga,p,T),lf(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const X=new Fi(this,this.j,p);let ee=this.o;if(this.S&&(ee?(ee=N(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||(X.H=ee,ee=null),this.P)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var V=this.i[O];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,4096<T){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=Mh(this,X,T),O=$t(this.I),dt(O,"RID",p),dt(O,"CVER",22),this.D&&dt(O,"X-HTTP-Session-Id",this.D),tl(this,O),ee&&(this.O?T="headers="+encodeURIComponent(String(rf(ee)))+"&"+T:this.m&&Sn(O,this.m,ee)),Ds(this.h,X),this.Ua&&dt(O,"TYPE","init"),this.P?(dt(O,"$req",T),dt(O,"SID","null"),X.T=!0,xi(X,O,null)):xi(X,O,T),this.G=2}}else this.G==3&&(p?sf(this,p):this.i.length==0||Qc(this.h)||sf(this))};function sf(p,T){var O;T?O=T.l:O=p.U++;const V=$t(p.I);dt(V,"SID",p.K),dt(V,"RID",O),dt(V,"AID",p.T),tl(p,V),p.m&&p.o&&Sn(V,p.m,p.o),O=new Fi(p,p.j,O,p.B+1),p.m===null&&(O.H=p.o),T&&(p.i=T.D.concat(p.i)),T=Mh(p,O,1e3),O.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ds(p.h,O),xi(O,V,T)}function tl(p,T){p.H&&U(p.H,function(O,V){dt(T,V,O)}),p.l&&Go({},function(O,V){dt(T,V,O)})}function Mh(p,T,O){O=Math.min(p.i.length,O);var V=p.l?v(p.l.Na,p.l,p):null;e:{var X=p.i;let ee=-1;for(;;){const be=["count="+O];ee==-1?0<O?(ee=X[0].g,be.push("ofs="+ee)):ee=0:be.push("ofs="+ee);let lt=!0;for(let mn=0;mn<O;mn++){let ut=X[mn].g;const Cn=X[mn].map;if(ut-=ee,0>ut)ee=Math.max(0,X[mn].g-100),lt=!1;else try{$i(Cn,be,"req"+ut+"_")}catch{V&&V(Cn)}}if(lt){V=be.join("&");break e}}}return p=p.i.splice(0,O),T.D=p,V}function jh(p){if(!p.g&&!p.u){p.Y=1;var T=p.Fa;he||H(),ve||(he(),ve=!0),xe.add(T,p),p.v=0}}function of(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ss(v(p.Fa,p),lf(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ss(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),bu(this),Lh(this))};function nl(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Lh(p){p.g=new Fi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var T=$t(p.qa);dt(T,"RID","rpc"),dt(T,"SID",p.K),dt(T,"AID",p.T),dt(T,"CI",p.F?"0":"1"),!p.F&&p.ja&&dt(T,"TO",p.ja),dt(T,"TYPE","xmlhttp"),tl(p,T),p.m&&p.o&&Sn(T,p.m,p.o),p.L&&(p.g.I=p.L);var O=p.g;p=p.ia,O.L=1,O.v=Wo($t(T)),O.m=null,O.P=!0,Ea(O,p)}t.Za=function(){this.C!=null&&(this.C=null,bu(this),of(this),Qt(19))};function wu(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Vh(p,T){var O=null;if(p.g==T){wu(p),nl(p),p.g=null;var V=2}else if(Ns(p.h,T))O=T.D,Hr(p.h,T),V=1;else return;if(p.G!=0){if(T.o)if(V==1){O=T.m?T.m.length:0,T=Date.now()-T.F;var X=p.B;V=lu(),rt(V,new Ah(V,O)),_u(p)}else jh(p);else if(X=T.s,X==3||X==0&&0<T.X||!(V==1&&Hy(p,T)||V==2&&of(p)))switch(O&&0<O.length&&(T=p.h,T.i=T.i.concat(O)),X){case 1:Oa(p,5);break;case 4:Oa(p,10);break;case 3:Oa(p,6);break;default:Oa(p,2)}}}function lf(p,T){let O=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(O*=2),O*T}function Oa(p,T){if(p.j.info("Error code "+T),T==2){var O=v(p.fb,p),V=p.Xa;const X=!V;V=new xa(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ks(V,"https"),Wo(V),X?Ph(V.toString(),O):Xo(V.toString(),O)}else Qt(2);p.G=0,p.l&&p.l.sa(T),Uh(p),kh(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Uh(p){if(p.G=0,p.ka=[],p.l){const T=nr(p.h);(T.length!=0||p.i.length!=0)&&(x(p.ka,T),x(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function Bh(p,T,O){var V=O instanceof xa?$t(O):new xa(O);if(V.g!="")T&&(V.g=T+"."+V.g),Yo(V,V.s);else{var X=c.location;V=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;var ee=new xa(null);V&&ks(ee,V),T&&(ee.g=T),X&&Yo(ee,X),O&&(ee.l=O),V=ee}return O=p.D,T=p.ya,O&&T&&dt(V,O,T),dt(V,"VER",p.la),tl(p,V),V}function zh(p,T,O){if(T&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Ca&&!p.pa?new vt(new js({eb:O})):new vt(p.pa),T.Ha(p.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}t=Fh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Eu(){}Eu.prototype.g=function(p,T){return new rr(p,T)};function rr(p,T){tt.call(this),this.g=new vu(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(p?p["X-WebChannel-Client-Profile"]=T.va:p={"X-WebChannel-Client-Profile":T.va}),this.g.S=p,(p=T&&T.Sb)&&!R(p)&&(this.g.m=p),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!R(T)&&(this.g.D=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new Yi(this)}E(rr,tt),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){af(this.g)},rr.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.u&&(O={},O.__data__=Es(p),p=O);T.i.push(new Uy(T.Ya++,p)),T.G==3&&_u(T)},rr.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,rr.aa.N.call(this)};function qh(p){xs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const O in T){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}E(qh,xs);function $h(){Ei.call(this),this.status=1}E($h,Ei);function Yi(p){this.g=p}E(Yi,Fh),Yi.prototype.ua=function(){rt(this.g,"a")},Yi.prototype.ta=function(p){rt(this.g,new qh(p))},Yi.prototype.sa=function(p){rt(this.g,new $h)},Yi.prototype.ra=function(){rt(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,s4=function(){return new Eu},a4=function(){return lu()},i4=$r,d1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,pp=hn,wa.COMPLETE="complete",r4=wa,Th.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",tt.prototype.listen=tt.prototype.K,ud=Th,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,n4=vt}).apply(typeof $m<"u"?$m:typeof self<"u"?self:typeof window<"u"?window:{});const pC="@firebase/firestore",gC="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new Mg("@firebase/firestore");function Qu(){return $l.logLevel}function Oe(t,...e){if($l.logLevel<=at.DEBUG){const n=e.map(Hw);$l.debug(`Firestore (${Pc}): ${t}`,...n)}}function ss(t,...e){if($l.logLevel<=at.ERROR){const n=e.map(Hw);$l.error(`Firestore (${Pc}): ${t}`,...n)}}function To(t,...e){if($l.logLevel<=at.WARN){const n=e.map(Hw);$l.warn(`Firestore (${Pc}): ${t}`,...n)}}function Hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,o4(t,r,n)}function o4(t,e,n){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function bt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||o4(e,i,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class pF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gF{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ja,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=s;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ja)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new l4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class yF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=s=>{s.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_F(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function h1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ze(r,i);{const s=u4(),l=wF(s.encode(vC(t,n)),s.encode(vC(e,n)));return l!==0?l:Ze(r,i)}}n+=r>65535?2:1}return Ze(t.length,e.length)}function vC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function wF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ze(t[n],e[n]);return Ze(t.length,e.length)}function dc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__name__";class na{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return na.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof na?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=na.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ze(e.length,n.length)}static compareSegments(e,n){const r=na.isNumericId(e),i=na.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?na.extractNumericId(e).compare(na.extractNumericId(n)):h1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class Pt extends na{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const EF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends na{construct(e,n,r){return new qn(e,n,r)}static isValidIdentifier(e){return EF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bC}static keyField(){return new qn([bC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Pt.fromString(e))}static fromName(e){return new Ve(Pt.fromString(e).popFirst(5))}static empty(){return new Ve(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t,e,n){if(!n)throw new Se(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xF(t,e,n,r){if(e===!0&&r===!0)throw new Se(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _C(t){if(!Ve.isDocumentKey(t))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wC(t){if(Ve.isDocumentKey(t))throw new Se(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function f4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e(12329,{type:typeof t})}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fg(t);throw new Se(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function nh(t,e){if(!f4(t))throw new Se(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Se(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=-62135596800,xC=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xC);return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EC)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xC}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nh(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:un("string",wt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new wt(0,0))}static max(){return new He(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=-1;function TF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Ao(i,Ve.empty(),e)}function AF(t){return new Ao(t.readTime,t.key,Rd)}class Ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ao(He.min(),Ve.empty(),Rd)}static max(){return new Ao(He.max(),Ve.empty(),Rd)}}function SF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==CF)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,s=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++s,l&&s===i&&n()},f=>r(f))}),l=!0,s===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;n(e[d]).next(m=>{l[d]=m,++c,c===s&&r(l)},m=>i(m))}})}static doWhile(e,n){return new ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function IF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qg.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-1;function $g(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function RF(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="";function PF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TC(e)),e=NF(t.get(n),e);return TC(e)}function NF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case d4:n+="";break;default:n+=s}}return n}function TC(t){return t+d4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||zn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hm(this.root,e,this.comparator,!0)}}class Hm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zn.RED,this.left=i??zn.EMPTY,this.right=s??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SC(this.data.getIterator())}getIteratorFrom(e){return new SC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class SC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new bn(qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new m4("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const DF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=DF.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="server_timestamp",g4="__type__",y4="__previous_value__",v4="__local_write_time__";function Yw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[g4])===null||n===void 0?void 0:n.stringValue)===p4}function Hg(t){const e=t.mapValue.fields[y4];return Yw(e)?Hg(e):e}function Pd(t){const e=So(t.mapValue.fields[v4].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n,r,i,s,l,c,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const Mp="(default)";class Nd{constructor(e,n){this.projectId=e,this.database=n||Mp}static empty(){return new Nd("","")}get isDefaultDatabase(){return this.database===Mp}isEqual(e){return e instanceof Nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="__type__",MF="__max__",Km={mapValue:{}},_4="__vector__",jp="value";function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yw(t)?4:LF(t)?9007199254740991:jF(t)?10:11:$e(28295,{value:t})}function ga(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=So(i.timestampValue),c=So(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Co(i.bytesValue).isEqual(Co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Jt(i.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Jt(i.integerValue)===Jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Jt(i.doubleValue),c=Jt(s.doubleValue);return l===c?kp(l)===kp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],ga);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(AC(l)!==AC(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ga(l[f],c[f])))return!1;return!0}(t,e);default:return $e(52216,{left:t})}}function Dd(t,e){return(t.values||[]).find(n=>ga(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(s,l){const c=Jt(s.integerValue||s.doubleValue),f=Jt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return CC(t.timestampValue,e.timestampValue);case 4:return CC(Pd(t),Pd(e));case 5:return h1(t.stringValue,e.stringValue);case 6:return function(s,l){const c=Co(s),f=Co(l);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const m=Ze(c[d],f[d]);if(m!==0)return m}return Ze(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const c=Ze(Jt(s.latitude),Jt(l.latitude));return c!==0?c:Ze(Jt(s.longitude),Jt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OC(t.arrayValue,e.arrayValue);case 10:return function(s,l){var c,f,d,m;const g=s.fields||{},v=l.fields||{},_=(c=g[jp])===null||c===void 0?void 0:c.arrayValue,E=(f=v[jp])===null||f===void 0?void 0:f.arrayValue,w=Ze(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0);return w!==0?w:OC(_,E)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===Km.mapValue&&l===Km.mapValue)return 0;if(s===Km.mapValue)return 1;if(l===Km.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let g=0;g<f.length&&g<m.length;++g){const v=h1(f[g],m[g]);if(v!==0)return v;const _=hc(c[f[g]],d[m[g]]);if(_!==0)return _}return Ze(f.length,m.length)}(t.mapValue,e.mapValue);default:throw $e(23264,{le:n})}}function CC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=So(t),r=So(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function OC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=hc(n[i],r[i]);if(s)return s}return Ze(n.length,r.length)}function mc(t){return m1(t)}function m1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=m1(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${m1(n.fields[l])}`;return i+"}"}(t.mapValue):$e(61005,{value:t})}function gp(t){switch(Oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hg(t);return e?16+gp(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+gp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Do(r.fields,(s,l)=>{i+=s.length+gp(l)}),i}(t.mapValue);default:throw $e(13486,{value:t})}}function IC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p1(t){return!!t&&"integerValue"in t}function Ww(t){return!!t&&"arrayValue"in t}function RC(t){return!!t&&"nullValue"in t}function PC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yp(t){return!!t&&"mapValue"in t}function jF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[b4])===null||n===void 0?void 0:n.stringValue)===_4}function vd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vd(n)}setAll(e){let n=qn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=vd(l):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ga(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Do(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vr(vd(this.value))}}function w4(t){const e=[];return Do(t.fields,(n,r)=>{const i=new qn([n]);if(yp(r)){const s=w4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Zn(e,0,He.min(),He.min(),He.min(),vr.empty(),0)}static newFoundDocument(e,n,r,i){return new Zn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Zn(e,2,n,He.min(),He.min(),vr.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,He.min(),He.min(),vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.position=e,this.inclusive=n}}function NC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ve.comparator(Ve.fromName(l.referenceValue),n.key):r=hc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ga(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function VF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{}class ln extends E4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BF(e,n,r):n==="array-contains"?new qF(e,r):n==="in"?new $F(e,r):n==="not-in"?new HF(e,r):n==="array-contains-any"?new KF(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zF(e,r):new FF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hc(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends E4{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Mi(e,n)}matches(e){return x4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function x4(t){return t.op==="and"}function T4(t){return UF(t)&&x4(t)}function UF(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function g1(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(T4(t))return t.filters.map(e=>g1(e)).join(",");{const e=t.filters.map(n=>g1(n)).join(",");return`${t.op}(${e})`}}function A4(t,e){return t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&ga(r.value,i.value)}(t,e):t instanceof Mi?function(r,i){return i instanceof Mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,c)=>s&&A4(l,i.filters[c]),!0):!1}(t,e):void $e(19439)}function S4(t){return t instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`}(t):t instanceof Mi?function(n){return n.op.toString()+" {"+n.getFilters().map(S4).join(" ,")+"}"}(t):"Filter"}class BF extends ln{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class zF extends ln{constructor(e,n){super(e,"in",n),this.keys=C4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FF extends ln{constructor(e,n){super(e,"not-in",n),this.keys=C4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function C4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class qF extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ww(n)&&Dd(n.arrayValue,this.value)}}class $F extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dd(this.value.arrayValue,n)}}class HF extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dd(this.value.arrayValue,n)}}class KF extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Pe=null}}function kC(t,e=null,n=[],r=[],i=null,s=null,l=null){return new GF(t,e,n,r,i,s,l)}function Xw(t){const e=Ge(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>g1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mc(r)).join(",")),e.Pe=n}return e.Pe}function Qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!A4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DC(t.startAt,e.startAt)&&DC(t.endAt,e.endAt)}function y1(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function YF(t,e,n,r,i,s,l,c){return new kc(t,e,n,r,i,s,l,c)}function Kg(t){return new kc(t)}function MC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O4(t){return t.collectionGroup!==null}function bd(t){const e=Ge(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new bn(qn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new kd(s,r))}),n.has(qn.keyField().canonicalString())||e.Te.push(new kd(qn.keyField(),r))}return e.Te}function ca(t){const e=Ge(t);return e.Ie||(e.Ie=WF(e,bd(t))),e.Ie}function WF(t,e){if(t.limitType==="F")return kC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new kd(i.field,s)});const n=t.endAt?new Lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lp(t.startAt.position,t.startAt.inclusive):null;return kC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v1(t,e){const n=t.filters.concat([e]);return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function b1(t,e,n){return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return Qw(ca(t),ca(e))&&t.limitType===e.limitType}function I4(t){return`${Xw(ca(t))}|lt:${t.limitType}`}function Zu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>S4(i)).join(", ")}]`),$g(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mc(i)).join(",")),`Target(${r})`}(ca(t))}; limitType=${t.limitType})`}function Yg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of bd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const d=NC(l,c,f);return l.inclusive?d<=0:d<0}(r.startAt,bd(r),i)||r.endAt&&!function(l,c,f){const d=NC(l,c,f);return l.inclusive?d>=0:d>0}(r.endAt,bd(r),i))}(t,e)}function XF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R4(t){return(e,n)=>{let r=!1;for(const i of bd(t)){const s=QF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QF(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(s,l,c){const f=l.data.field(s),d=c.data.field(s);return f!==null&&d!==null?hc(f,d):$e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return h4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=new qt(Ve.comparator);function os(){return ZF}const P4=new qt(Ve.comparator);function cd(...t){let e=P4;for(const n of t)e=e.insert(n.key,n);return e}function N4(t){let e=P4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sl(){return _d()}function D4(){return _d()}function _d(){return new nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const JF=new qt(Ve.comparator),eq=new bn(Ve.comparator);function st(...t){let e=eq;for(const n of t)e=e.add(n);return e}const tq=new bn(Ze);function nq(){return tq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function k4(t){return{integerValue:""+t}}function rq(t,e){return RF(e)?k4(e):Zw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this._=void 0}}function iq(t,e,n){return t instanceof Vp?function(i,s){const l={fields:{[g4]:{stringValue:p4},[v4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yw(s)&&(s=Hg(s)),s&&(l.fields[y4]=s),{mapValue:l}}(n,e):t instanceof Md?j4(t,e):t instanceof jd?L4(t,e):function(i,s){const l=M4(i,s),c=jC(l)+jC(i.Ee);return p1(l)&&p1(i.Ee)?k4(c):Zw(i.serializer,c)}(t,e)}function aq(t,e,n){return t instanceof Md?j4(t,e):t instanceof jd?L4(t,e):n}function M4(t,e){return t instanceof Up?function(r){return p1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vp extends Wg{}class Md extends Wg{constructor(e){super(),this.elements=e}}function j4(t,e){const n=V4(e);for(const r of t.elements)n.some(i=>ga(i,r))||n.push(r);return{arrayValue:{values:n}}}class jd extends Wg{constructor(e){super(),this.elements=e}}function L4(t,e){let n=V4(e);for(const r of t.elements)n=n.filter(i=>!ga(i,r));return{arrayValue:{values:n}}}class Up extends Wg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function jC(t){return Jt(t.integerValue||t.doubleValue)}function V4(t){return Ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Md&&i instanceof Md||r instanceof jd&&i instanceof jd?dc(r.elements,i.elements,ga):r instanceof Up&&i instanceof Up?ga(r.Ee,i.Ee):r instanceof Vp&&i instanceof Vp}(t.transform,e.transform)}class oq{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function U4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jw(t.key,hi.none()):new rh(t.key,t.data,hi.none());{const n=t.data,r=vr.empty();let i=new bn(qn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new ko(t.key,r,new jr(i.toArray()),hi.none())}}function lq(t,e,n){t instanceof rh?function(i,s,l){const c=i.value.clone(),f=VC(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,s,l){if(!vp(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=VC(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(B4(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function wd(t,e,n,r){return t instanceof rh?function(s,l,c,f){if(!vp(s.precondition,l))return c;const d=s.value.clone(),m=UC(s.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(s,l,c,f){if(!vp(s.precondition,l))return c;const d=UC(s.fieldTransforms,f,l),m=l.data;return m.setAll(B4(s)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,l,c){return vp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function uq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=M4(r.transform,i||null);s!=null&&(n===null&&(n=vr.empty()),n.set(r.field,s))}return n||null}function LC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dc(r,i,(s,l)=>sq(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rh extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends Xg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function B4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VC(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,aq(l,c,n[i]))}return r}function UC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,iq(s,l,e))}return r}class Jw extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cq extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=D4();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=U4(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(n,r)=>LC(n,r))&&dc(this.baseMutations,e.baseMutations,(n,r)=>LC(n,r))}}class eE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return JF}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new eE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ft;function mq(t){switch(t){case se.OK:return $e(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return $e(15467,{code:t})}}function z4(t){if(t===void 0)return ss("GRPC error has no .code"),se.UNKNOWN;switch(t){case sn.OK:return se.OK;case sn.CANCELLED:return se.CANCELLED;case sn.UNKNOWN:return se.UNKNOWN;case sn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case sn.INTERNAL:return se.INTERNAL;case sn.UNAVAILABLE:return se.UNAVAILABLE;case sn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case sn.NOT_FOUND:return se.NOT_FOUND;case sn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case sn.ABORTED:return se.ABORTED;case sn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case sn.DATA_LOSS:return se.DATA_LOSS;default:return $e(39323,{code:t})}}(ft=sn||(sn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=new _o([4294967295,4294967295],0);function BC(t){const e=u4().encode(t),n=new t4;return n.update(e),new Uint8Array(n.digest())}function zC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _o([n,r],0),new _o([i,s],0)]}class tE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fd(`Invalid padding: ${n}`);if(r<0)throw new fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fd(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=_o.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(_o.fromNumber(r)));return i.compare(pq)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=BC(e),[r,i]=zC(n);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,i,s);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new tE(s,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const n=BC(e),[r,i]=zC(n);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,i,s);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ih.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qg(He.min(),i,new qt(Ze),os(),st())}}class ih{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ih(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class F4{constructor(e,n){this.targetId=e,this.De=n}}class q4{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FC{constructor(){this.ve=0,this.Ce=qC(),this.Fe=Hn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=st(),n=st(),r=st();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$e(38017,{changeType:s})}}),new ih(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=qC()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class gq{constructor(e){this.We=e,this.Ge=new Map,this.ze=os(),this.je=Gm(),this.Je=Gm(),this.He=new qt(Ze)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(y1(s))if(r===0){const l=new Ve(s.path);this.Xe(n,l,Zn.newNoDocument(l,He.min()))}else bt(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const c=this._t(e),f=c?this.ut(c,e,l):1;if(f!==0){this.rt(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Co(r).toUint8Array()}catch(f){if(f instanceof m4)return To("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new tE(l,i,s)}catch(f){return To(f instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,l)=>{const c=this.st(l);if(c){if(s.current&&y1(c.target)){const f=new Ve(c.target.path);this.Tt(f).has(l)||this.It(l,f)||this.Xe(l,f,Zn.newNoDocument(f,e))}s.Ne&&(n.set(l,s.Le()),s.ke())}});let r=st();this.Je.forEach((s,l)=>{let c=!0;l.forEachWhile(f=>{const d=this.st(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ze.forEach((s,l)=>l.setReadTime(e));const i=new Qg(e,n,this.He,this.ze,r);return this.ze=os(),this.je=Gm(),this.Je=Gm(),this.He=new qt(Ze),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new FC,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new bn(Ze),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new bn(Ze),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new FC),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Gm(){return new qt(Ve.comparator)}function qC(){return new qt(Ve.comparator)}const yq={asc:"ASCENDING",desc:"DESCENDING"},vq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bq={and:"AND",or:"OR"};class _q{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _1(t,e){return t.useProto3Json||$g(e)?e:{value:e}}function Bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wq(t,e){return Bp(t,e.toTimestamp())}function fa(t){return bt(!!t,49232),He.fromTimestamp(function(n){const r=So(n);return new wt(r.seconds,r.nanos)}(t))}function nE(t,e){return w1(t,e).canonicalString()}function w1(t,e){const n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function H4(t){const e=Pt.fromString(t);return bt(X4(e),10190,{key:e.toString()}),e}function E1(t,e){return nE(t.databaseId,e.path)}function eb(t,e){const n=H4(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(G4(n))}function K4(t,e){return nE(t.databaseId,e)}function Eq(t){const e=H4(t);return e.length===4?Pt.emptyPath():G4(e)}function x1(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G4(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $C(t,e,n){return{name:E1(t,e),fields:n.value.mapValue.fields}}function xq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:$e(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(bt(m===void 0||typeof m=="string",58123),Hn.fromBase64String(m||"")):(bt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Hn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const m=d.code===void 0?se.UNKNOWN:z4(d.code);return new Se(m,d.message||"")}(l);n=new q4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eb(t,r.document.name),s=fa(r.document.updateTime),l=r.document.createTime?fa(r.document.createTime):He.min(),c=new vr({mapValue:{fields:r.document.fields}}),f=Zn.newFoundDocument(i,s,l,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new bp(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eb(t,r.document),s=r.readTime?fa(r.readTime):He.min(),l=Zn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new bp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eb(t,r.document),s=r.removedTargetIds||[];n=new bp([],s,i,null)}else{if(!("filter"in e))return $e(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new hq(i,s),c=r.targetId;n=new F4(c,l)}}return n}function Tq(t,e){let n;if(e instanceof rh)n={update:$C(t,e.key,e.value)};else if(e instanceof Jw)n={delete:E1(t,e.key)};else if(e instanceof ko)n={update:$C(t,e.key,e.data),updateMask:Dq(e.fieldMask)};else{if(!(e instanceof cq))return $e(16599,{Rt:e.type});n={verify:E1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const c=l.transform;if(c instanceof Vp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Md)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Up)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw $e(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$e(27497)}(t,e.precondition)),n}function Aq(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map(n=>function(i,s){let l=i.updateTime?fa(i.updateTime):fa(s);return l.isEqual(He.min())&&(l=fa(s)),new oq(l,i.transformResults||[])}(n,e))):[]}function Sq(t,e){return{documents:[K4(t,e.path)]}}function Cq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=K4(t,i);const s=function(d){if(d.length!==0)return W4(Mi.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:Ju(v.field),direction:Rq(v.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=_1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:n,parent:i}}function Oq(t){let e=Eq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(g){const v=Y4(g);return v instanceof Mi&&T4(v)?v.getFilters():[v]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(v=>function(E){return new kd(ec(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,$g(v)?null:v}(n.limit));let f=null;n.startAt&&(f=function(g){const v=!!g.before,_=g.values||[];return new Lp(_,v)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const v=!g.before,_=g.values||[];return new Lp(_,v)}(n.endAt)),YF(e,i,l,s,c,"F",f,d)}function Iq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ec(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ec(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ec(n.unaryFilter.field);return ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ec(n.unaryFilter.field);return ln.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(t):t.fieldFilter!==void 0?function(n){return ln.create(ec(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mi.create(n.compositeFilter.filters.map(r=>Y4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(n.compositeFilter.op))}(t):$e(30097,{filter:t})}function Rq(t){return yq[t]}function Pq(t){return vq[t]}function Nq(t){return bq[t]}function Ju(t){return{fieldPath:t.canonicalString()}}function ec(t){return qn.fromServerFormat(t.fieldPath)}function W4(t){return t instanceof ln?function(n){if(n.op==="=="){if(PC(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NAN"}};if(RC(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PC(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NAN"}};if(RC(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(n.field),op:Pq(n.op),value:n.value}}}(t):t instanceof Mi?function(n){const r=n.getFilters().map(i=>W4(i));return r.length===1?r[0]:{compositeFilter:{op:Nq(n.op),filters:r}}}(t):$e(54877,{filter:t})}function Dq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,i,s=He.min(),l=He.min(),c=Hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.gt=e}}function Mq(t){const e=Oq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(){this.Dn=new Lq}addToCollectionParentIndex(e,n){return this.Dn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Ao.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class Lq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bn(Pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q4=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(Q4,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new pc(0)}static ur(){return new pc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="LruGarbageCollector",Vq=1048576;function GC([t,e],[n,r]){const i=Ze(t,n);return i===0?Ze(e,r):i}class Uq{constructor(e){this.Tr=e,this.buffer=new bn(GC),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Oe(KC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dc(n)?Oe(KC,"Ignoring IndexedDB error during garbage collection: ",n):await Nc(n)}await this.Rr(3e5)})}}class zq{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(qg.ue);const r=new Uq(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(HC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HC):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,l,c,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),Qu()<=at.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function Fq(t,e){return new zq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.changes=new nu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wd(r.mutation,i,jr.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=Sl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let l=cd();return s.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Sl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let s=os();const l=_d(),c=function(){return _d()}();return n.forEach((f,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof ko)?s=s.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),wd(m.mutation,d,m.mutation.getFieldMask(),wt.now())):l.set(d.key,jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((d,m)=>l.set(d,m)),n.forEach((d,m)=>{var g;return c.set(d,new $q(m,(g=l.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=_d();let i=new qt((l,c)=>l-c),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||jr.empty();m=c.applyToLocalView(d,m),r.set(f,m);const g=(i.get(c.batchId)||st()).add(f);i=i.insert(c.batchId,g)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,m=f.value,g=D4();m.forEach(v=>{if(!s.has(v)){const _=U4(n.get(v),r.get(v));_!==null&&g.set(v,_),s=s.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,g))}return ce.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ce.resolve(Sl());let c=Rd,f=s;return l.next(d=>ce.forEach(d,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(m)?ce.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{f=f.insert(m,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,f,d,st())).next(m=>({batchId:c,changes:N4(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let i=cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=cd();return this.indexManager.getCollectionParents(e,s).next(c=>ce.forEach(c,f=>{const d=function(g,v){return new kc(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(m=>{m.forEach((g,v)=>{l=l.insert(g,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(l=>{s.forEach((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Zn.newInvalidDocument(m)))});let c=cd();return l.forEach((f,d)=>{const m=s.get(f);m!==void 0&&wd(m.mutation,d,jr.empty(),wt.now()),Yg(n,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:Mq(i.bundledQuery),readTime:fa(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.overlays=new qt(Ve.comparator),this.kr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sl();return ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=Sl(),s=n.length+1,l=new Ve(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qt((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=s.get(d.largestBatchId);m===null&&(m=Sl(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Sl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=i)););return ce.resolve(c)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new dq(n,r));let s=this.kr.get(n);s===void 0&&(s=st(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.qr=new bn(Pn.Qr),this.$r=new bn(Pn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Pn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ve(new Pt([])),r=new Pn(n,e),i=new Pn(n,e+1),s=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),s.push(l.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ve(new Pt([])),r=new Pn(n,e),i=new Pn(n,e+1);let s=st();return this.$r.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new Pn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ve.comparator(e.key,n.key)||Ze(e.Hr,n.Hr)}static Ur(e,n){return Ze(e.Hr,n.Hr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new bn(Pn.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new fq(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Yr=this.Yr.add(new Pn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Gw:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],l=>{const c=this.Zr(l.Hr);s.push(c)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bn(Ze);return n.forEach(i=>{const s=new Pn(i,0),l=new Pn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,l],c=>{r=r.add(c.Hr)})}),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ve.isDocumentKey(s)||(s=s.child(""));const l=new Pn(new Ve(s),0);let c=new bn(Ze);return this.Yr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Hr)),!0)},l),ce.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(n.mutations,i=>{const s=new Pn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Pn(n,0),i=this.Yr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.ni=e,this.docs=function(){return new qt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zn.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=os();const l=n.path,c=new Ve(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||SF(AF(m),r)<=0||(i.has(m.key)||Yg(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){$e(9500)}ri(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qq(this)}getSize(e){return ce.resolve(this.size)}}class Qq extends qq{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.persistence=e,this.ii=new nu(n=>Xw(n),Qw),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.si=0,this.oi=new rE,this.targetCount=0,this._i=pc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ce.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new pc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.hr(n),ce.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ce.waitFor(s).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.ai={},this.overlays={},this.ui=new qg(0),this.ci=!1,this.ci=!0,this.li=new Yq,this.referenceDelegate=e(this),this.hi=new Zq(this),this.indexManager=new jq,this.remoteDocumentCache=function(i){return new Xq(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new kq(n),this.Ti=new Kq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Wq(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new Jq(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return ce.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Jq extends OF{constructor(e){super(),this.currentSequenceNumber=e}}class iE{constructor(e){this.persistence=e,this.Ai=new rE,this.Ri=null}static Vi(e){return new iE(e)}get mi(){if(this.Ri)return this.Ri;throw $e(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,r=>{const i=Ve.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,He.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ce.or([()=>ce.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zp{constructor(e,n){this.persistence=e,this.gi=new nu(r=>PF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Fq(this,n)}static Vi(e,n){return new zp(e,n)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ce.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?ce.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(c=>{c||(r++,s.removeEntry(l,He.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gp(e.data.value)),n}Sr(e,n,r){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new aE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return m9()?8:IF(er())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new e$;return this.ws(e,n,l).next(c=>{if(s.result=c,this.Rs)return this.Ss(e,n,l,c.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Qu()<=at.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Qu()<=at.DEBUG&&Oe("QueryEngine","Query:",Zu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Qu()<=at.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ca(n))):ce.resolve())}ps(e,n){if(MC(n))return ce.resolve(null);let r=ca(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=b1(n,null,"F"),r=ca(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=st(...s);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.bs(n,c);return this.Ds(n,d,l,f.readTime)?this.ps(e,b1(n,null,"F")):this.vs(e,d,n,f)}))})))}ys(e,n,r,i){return MC(n)||i.isEqual(He.min())?ce.resolve(null):this.gs.getDocuments(e,r).next(s=>{const l=this.bs(n,s);return this.Ds(n,l,r,i)?ce.resolve(null):(Qu()<=at.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zu(n)),this.vs(e,l,n,TF(i,Rd)).next(c=>c))})}bs(e,n){let r=new bn(R4(e));return n.forEach((i,s)=>{Yg(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Qu()<=at.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Zu(n)),this.gs.getDocumentsMatchingQuery(e,n,Ao.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LocalStore",n$=3e8;class r${constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new qt(Ze),this.Ms=new nu(s=>Xw(s),Qw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hq(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function i$(t,e,n,r){return new r$(t,e,n,r)}async function J4(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],c=[];let f=st();for(const d of i){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next(d=>({Bs:d,removedBatchIds:l,addedBatchIds:c}))})})}function a$(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,f,d,m){const g=d.batch,v=g.keys();let _=ce.resolve();return v.forEach(E=>{_=_.next(()=>m.getEntry(f,E)).next(w=>{const x=d.docVersions.get(E);bt(x!==null,48541),w.version.compareTo(x)<0&&(g.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),m.addEntry(w)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(f,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=st();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ek(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function s$(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const c=[];e.targetChanges.forEach((m,g)=>{const v=i.get(g);if(!v)return;c.push(n.hi.removeMatchingKeys(s,m.removedDocuments,g).next(()=>n.hi.addMatchingKeys(s,m.addedDocuments,g)));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Hn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(g,_),function(w,x,C){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=n$?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(v,_,m)&&c.push(n.hi.updateTargetData(s,_))});let f=os(),d=st();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(o$(s,l,e.documentUpdates).next(m=>{f=m.Ls,d=m.ks})),!r.isEqual(He.min())){const m=n.hi.getLastRemoteSnapshotVersion(s).next(g=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(m)}return ce.waitFor(c).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,f,d)).next(()=>f)}).then(s=>(n.Fs=i,s))}function o$(t,e,n){let r=st(),i=st();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=os();return n.forEach((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(He.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Oe(sE,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{Ls:l,ks:i}})}function l$(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u$(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,ce.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new go(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function T1(t,e,n){const r=Ge(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Dc(l))throw l;Oe(sE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function YC(t,e,n){const r=Ge(t);let i=He.min(),s=st();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,d,m){const g=Ge(f),v=g.Ms.get(m);return v!==void 0?ce.resolve(g.Fs.get(v)):g.hi.getTargetData(d,m)}(r,l,ca(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(f=>{s=f})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:He.min(),n?s:st())).next(c=>(c$(r,XF(e),c),{documents:c,qs:s})))}function c$(t,e,n){let r=t.xs.get(e)||He.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class WC{constructor(){this.activeTargetIds=nq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f${constructor(){this.Fo=new WC,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new WC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="ConnectivityMonitor";class QC{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Oe(XC,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Oe(XC,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym=null;function A1(){return Ym===null?Ym=function(){return 268435456+Math.round(2147483648*Math.random())}():Ym++,"0x"+Ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="RestConnection",h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m${get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Mp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const l=A1(),c=this.Go(e,n.toUriEncodedString());Oe(tb,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,i,s);const{host:d}=new URL(c),m=Cc(d);return this.jo(e,c,f,r,m).then(g=>(Oe(tb,`Received RPC '${e}' ${l}: `,g),g),g=>{throw To(tb,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g})}Jo(e,n,r,i,s,l){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=h$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class g$ extends m${constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const l=A1();return new Promise((c,f)=>{const d=new n4;d.setWithCredentials(!0),d.listenOnce(r4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case pp.NO_ERROR:const g=d.getResponseJson();Oe(Wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case pp.TIMEOUT:Oe(Wn,`RPC '${e}' ${l} timed out`),f(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:const v=d.getStatus();if(Oe(Wn,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const w=function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(R)>=0?R:se.UNKNOWN}(E.status);f(new Se(w,E.message))}else f(new Se(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Se(se.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{c_:e,streamId:l,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{Oe(Wn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);Oe(Wn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",m,r,15)})}P_(e,n,r){const i=A1(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=s4(),c=a4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=s.join("");Oe(Wn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const g=l.createWebChannel(m,f);this.T_(g);let v=!1,_=!1;const E=new p$({Ho:x=>{_?Oe(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(Oe(Wn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Oe(Wn,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},Yo:()=>g.close()}),w=(x,C,R)=>{x.listen(C,k=>{try{R(k)}catch(q){setTimeout(()=>{throw q},0)}})};return w(g,ud.EventType.OPEN,()=>{_||(Oe(Wn,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),w(g,ud.EventType.CLOSE,()=>{_||(_=!0,Oe(Wn,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(g))}),w(g,ud.EventType.ERROR,x=>{_||(_=!0,To(Wn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),E.__(new Se(se.UNAVAILABLE,"The operation could not be completed")))}),w(g,ud.EventType.MESSAGE,x=>{var C;if(!_){const R=x.data[0];bt(!!R,16349);const k=R,q=(k==null?void 0:k.error)||((C=k[0])===null||C===void 0?void 0:C.error);if(q){Oe(Wn,`RPC '${e}' stream ${i} received error:`,q);const M=q.status;let U=function(D){const L=sn[D];if(L!==void 0)return z4(L)}(M),P=q.message;U===void 0&&(U=se.INTERNAL,P="Unknown error status: "+M+" with message "+q.message),_=!0,E.__(new Se(U,P)),g.close()}else Oe(Wn,`RPC '${e}' stream ${i} received:`,R),E.a_(R)}}),w(c,i4.STAT_EVENT,x=>{x.stat===d1.PROXY?Oe(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===d1.NOPROXY&&Oe(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function nb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){return new _q(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="PersistentStream";class nk{constructor(e,n,r,i,s,l,c,f){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new tk(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Se(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Oe(ZC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Oe(ZC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y$ extends nk{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=xq(this.serializer,e),r=function(s){if(!("targetChange"in s))return He.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?fa(l.readTime):He.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=x1(this.serializer),n.addTarget=function(s,l){let c;const f=l.target;if(c=y1(f)?{documents:Sq(s,f)}:{query:Cq(s,f).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=$4(s,l.resumeToken);const d=_1(s,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(He.min())>0){c.readTime=Bp(s,l.snapshotVersion.toTimestamp());const d=_1(s,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=Iq(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=x1(this.serializer),n.removeTarget=e,this.k_(n)}}class v$ extends nk{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Aq(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=x1(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Tq(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${}class _$ extends b${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Wo(e,w1(n,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(se.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,w1(n,r),i,l,c,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(se.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class w${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ss(n),this._a=!1):Oe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="RemoteStore";class E${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{ru(this)&&(Oe(Hl,"Restarting streams for network reachability change."),await async function(f){const d=Ge(f);d.Ia.add(4),await ah(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Jg(d)}(this))})}),this.Aa=new w$(r,i)}}async function Jg(t){if(ru(t))for(const e of t.da)await e(!0)}async function ah(t){for(const e of t.da)await e(!1)}function rk(t,e){const n=Ge(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),cE(n)?uE(n):Mc(n).x_()&&lE(n,e))}function oE(t,e){const n=Ge(t),r=Mc(n);n.Ta.delete(e),r.x_()&&ik(n,e),n.Ta.size===0&&(r.x_()?r.B_():ru(n)&&n.Aa.set("Unknown"))}function lE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mc(t).H_(e)}function ik(t,e){t.Ra.$e(e),Mc(t).Y_(e)}function uE(t){t.Ra=new gq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Mc(t).start(),t.Aa.aa()}function cE(t){return ru(t)&&!Mc(t).M_()&&t.Ta.size>0}function ru(t){return Ge(t).Ia.size===0}function ak(t){t.Ra=void 0}async function x$(t){t.Aa.set("Online")}async function T$(t){t.Ta.forEach((e,n)=>{lE(t,e)})}async function A$(t,e){ak(t),cE(t)?(t.Aa.la(e),uE(t)):t.Aa.set("Unknown")}async function S$(t,e,n){if(t.Aa.set("Online"),e instanceof q4&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ta.delete(c),i.Ra.removeTarget(c))}(t,e)}catch(r){Oe(Hl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fp(t,r)}else if(e instanceof bp?t.Ra.Ye(e):e instanceof F4?t.Ra.it(e):t.Ra.et(e),!n.isEqual(He.min()))try{const r=await ek(t.localStore);n.compareTo(r)>=0&&await function(s,l){const c=s.Ra.Pt(l);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=s.Ta.get(d);m&&s.Ta.set(d,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,d)=>{const m=s.Ta.get(f);if(!m)return;s.Ta.set(f,m.withResumeToken(Hn.EMPTY_BYTE_STRING,m.snapshotVersion)),ik(s,f);const g=new go(m.target,f,d,m.sequenceNumber);lE(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Oe(Hl,"Failed to raise snapshot:",r),await Fp(t,r)}}async function Fp(t,e,n){if(!Dc(e))throw e;t.Ia.add(1),await ah(t),t.Aa.set("Offline"),n||(n=()=>ek(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Oe(Hl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Jg(t)})}function sk(t,e){return e().catch(n=>Fp(t,n,e))}async function ey(t){const e=Ge(t),n=Io(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gw;for(;C$(e);)try{const i=await l$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,O$(e,i)}catch(i){await Fp(e,i)}ok(e)&&lk(e)}function C$(t){return ru(t)&&t.Pa.length<10}function O$(t,e){t.Pa.push(e);const n=Io(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function ok(t){return ru(t)&&!Io(t).M_()&&t.Pa.length>0}function lk(t){Io(t).start()}async function I$(t){Io(t).na()}async function R$(t){const e=Io(t);for(const n of t.Pa)e.X_(n.mutations)}async function P$(t,e,n){const r=t.Pa.shift(),i=eE.from(r,e,n);await sk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ey(t)}async function N$(t,e){e&&Io(t).Z_&&await async function(r,i){if(function(l){return mq(l)&&l!==se.ABORTED}(i.code)){const s=r.Pa.shift();Io(r).N_(),await sk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ey(r)}}(t,e),ok(t)&&lk(t)}async function JC(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Oe(Hl,"RemoteStore received new credentials");const r=ru(n);n.Ia.add(3),await ah(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Jg(n)}async function D$(t,e){const n=Ge(t);e?(n.Ia.delete(2),await Jg(n)):e||(n.Ia.add(2),await ah(n),n.Aa.set("Unknown"))}function Mc(t){return t.Va||(t.Va=function(n,r,i){const s=Ge(n);return s.ia(),new y$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:x$.bind(null,t),e_:T$.bind(null,t),n_:A$.bind(null,t),J_:S$.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),cE(t)?uE(t):t.Aa.set("Unknown")):(await t.Va.stop(),ak(t))})),t.Va}function Io(t){return t.ma||(t.ma=function(n,r,i){const s=Ge(n);return s.ia(),new v$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:I$.bind(null,t),n_:N$.bind(null,t),ea:R$.bind(null,t),ta:P$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await ey(t)):(await t.ma.stop(),t.Pa.length>0&&(Oe(Hl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new fE(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dE(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Dc(t))return new Se(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=cd(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.fa=new qt(Ve.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):$e(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class gc{constructor(e,n,r,i,s,l,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new gc(e,n,oc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class M${constructor(){this.queries=tO(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Ge(n),s=i.queries;i.queries=tO(),s.forEach((l,c)=>{for(const f of c.wa)f.onError(r)})})(this,new Se(se.ABORTED,"Firestore shutting down"))}}function tO(){return new nu(t=>I4(t),Gg)}async function hE(t,e){const n=Ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new k$,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=dE(l,`Initialization of query '${Zu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&pE(n)}async function mE(t,e){const n=Ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.wa.indexOf(e);l>=0&&(s.wa.splice(l,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j$(t,e){const n=Ge(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.wa)c.Ca(i)&&(r=!0);l.ya=i}}r&&pE(n)}function L$(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function pE(t){t.Da.forEach(e=>{e.next()})}var S1,nO;(nO=S1||(S1={})).Fa="default",nO.Cache="cache";class gE{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==S1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.key=e}}class ck{constructor(e){this.key=e}}class V${constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=st(),this.mutatedKeys=st(),this.Xa=R4(e),this.eu=new oc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new eO,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const v=i.get(m),_=Yg(this.query,g)?g:null,E=!!v&&this.mutatedKeys.has(v.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;v&&_?v.data.isEqual(_.data)?E!==w&&(r.track({type:3,doc:_}),x=!0):this.iu(v,_)||(r.track({type:2,doc:_}),x=!0,(f&&this.Xa(_,f)>0||d&&this.Xa(_,d)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),x=!0):v&&!_&&(r.track({type:1,doc:v}),x=!0,(f||d)&&(c=!0)),x&&(_?(l=l.add(_),s=w?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:c,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((m,g)=>function(_,E){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{At:x})}};return w(_)-w(E)}(m.type,g.type)||this.Xa(m.doc,g.doc)),this.su(r),i=i!=null&&i;const c=n&&!i?this.ou():[],f=this.Za.size===0&&this.current&&!i?1:0,d=f!==this.Ya;return this.Ya=f,l.length!==0||d?{snapshot:new gc(this.query,e.eu,s,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new eO,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=st(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new ck(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new uk(r))}),n}uu(e){this.Ha=e.qs,this.Za=st();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return gc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yE="SyncEngine";class U${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B${constructor(e){this.key=e,this.lu=!1}}class z${constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new nu(c=>I4(c),Gg),this.Tu=new Map,this.Iu=new Set,this.du=new qt(Ve.comparator),this.Eu=new Map,this.Au=new rE,this.Ru={},this.Vu=new Map,this.mu=pc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function F$(t,e,n=!0){const r=gk(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await fk(r,e,n,!0),i}async function q$(t,e){const n=gk(t);await fk(n,e,!0,!1)}async function fk(t,e,n,r){const i=await u$(t.localStore,ca(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await $$(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&rk(t.remoteStore,i),c}async function $$(t,e,n,r,i){t.gu=(g,v,_)=>async function(w,x,C,R){let k=x.view.nu(C);k.Ds&&(k=await YC(w.localStore,x.query,!1).then(({documents:P})=>x.view.nu(P,k)));const q=R&&R.targetChanges.get(x.targetId),M=R&&R.targetMismatches.get(x.targetId)!=null,U=x.view.applyChanges(k,w.isPrimaryClient,q,M);return iO(w,x.targetId,U._u),U.snapshot}(t,g,v,_);const s=await YC(t.localStore,e,!0),l=new V$(e,s.qs),c=l.nu(s.documents),f=ih.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,f);iO(t,n,d._u);const m=new U$(e,n,l);return t.Pu.set(e,m),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function H$(t,e,n){const r=Ge(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(l=>!Gg(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await T1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oE(r.remoteStore,i.targetId),C1(r,i.targetId)}).catch(Nc)):(C1(r,i.targetId),await T1(r.localStore,i.targetId,!0))}async function K$(t,e){const n=Ge(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oE(n.remoteStore,r.targetId))}async function G$(t,e,n){const r=eH(t);try{const i=await function(l,c){const f=Ge(l),d=wt.now(),m=c.reduce((_,E)=>_.add(E.key),st());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=os(),w=st();return f.Os.getEntries(_,m).next(x=>{E=x,E.forEach((C,R)=>{R.isValidDocument()||(w=w.add(C))})}).next(()=>f.localDocuments.getOverlayedDocuments(_,E)).next(x=>{g=x;const C=[];for(const R of c){const k=uq(R,g.get(R.key).overlayedDocument);k!=null&&C.push(new ko(R.key,k,w4(k.value.mapValue),hi.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,C,c)}).next(x=>{v=x;const C=x.applyToLocalDocumentSet(g,w);return f.documentOverlayCache.saveOverlays(_,x.batchId,C)})}).then(()=>({batchId:v.batchId,changes:N4(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let d=l.Ru[l.currentUser.toKey()];d||(d=new qt(Ze)),d=d.insert(c,f),l.Ru[l.currentUser.toKey()]=d}(r,i.batchId,n),await sh(r,i.changes),await ey(r.remoteStore)}catch(i){const s=dE(i,"Failed to persist write");n.reject(s)}}async function dk(t,e){const n=Ge(t);try{const r=await s$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const l=n.Eu.get(s);l&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?bt(l.lu,14607):i.removedDocuments.size>0&&(bt(l.lu,42227),l.lu=!1))}),await sh(n,r,e)}catch(r){await Nc(r)}}function rO(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=Ge(l);f.onlineState=c;let d=!1;f.queries.forEach((m,g)=>{for(const v of g.wa)v.va(c)&&(d=!0)}),d&&pE(f)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y$(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let l=new qt(Ve.comparator);l=l.insert(s,Zn.newNoDocument(s,He.min()));const c=st().add(s),f=new Qg(He.min(),new Map,new qt(Ze),l,c);await dk(r,f),r.du=r.du.remove(s),r.Eu.delete(e),vE(r)}else await T1(r.localStore,e,!1).then(()=>C1(r,e,n)).catch(Nc)}async function W$(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await a$(n.localStore,e);mk(n,r,null),hk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sh(n,i)}catch(i){await Nc(i)}}async function X$(t,e,n){const r=Ge(t);try{const i=await function(l,c){const f=Ge(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return f.mutationQueue.lookupMutationBatch(d,c).next(g=>(bt(g!==null,37113),m=g.keys(),f.mutationQueue.removeMutationBatch(d,g))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>f.localDocuments.getDocuments(d,m))})}(r.localStore,e);mk(r,e,n),hk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sh(r,i)}catch(i){await Nc(i)}}function hk(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function mk(t,e,n){const r=Ge(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function C1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||pk(t,r)})}function pk(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(oE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),vE(t))}function iO(t,e,n){for(const r of n)r instanceof uk?(t.Au.addReference(r.key,e),Q$(t,r)):r instanceof ck?(Oe(yE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||pk(t,r.key)):$e(19791,{yu:r})}function Q$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Oe(yE,"New document in limbo: "+n),t.Iu.add(r),vE(t))}function vE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ve(Pt.fromString(e)),r=t.mu.next();t.Eu.set(r,new B$(n)),t.du=t.du.insert(n,r),rk(t.remoteStore,new go(ca(Kg(n.path)),r,"TargetPurposeLimboResolution",qg.ue))}}async function sh(t,e,n){const r=Ge(t),i=[],s=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,f)=>{l.push(r.gu(f,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){i.push(d);const g=aE.Es(f.targetId,d);s.push(g)}}))}),await Promise.all(l),r.hu.J_(i),await async function(f,d){const m=Ge(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ce.forEach(d,v=>ce.forEach(v.Is,_=>m.persistence.referenceDelegate.addReference(g,v.targetId,_)).next(()=>ce.forEach(v.ds,_=>m.persistence.referenceDelegate.removeReference(g,v.targetId,_)))))}catch(g){if(!Dc(g))throw g;Oe(sE,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const _=m.Fs.get(v),E=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(E);m.Fs=m.Fs.insert(v,w)}}}(r.localStore,s))}async function Z$(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Oe(yE,"User change. New user:",e.toKey());const r=await J4(n.localStore,e);n.currentUser=e,function(s,l){s.Vu.forEach(c=>{c.forEach(f=>{f.reject(new Se(se.CANCELLED,l))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sh(n,r.Bs)}}function J$(t,e){const n=Ge(t),r=n.Eu.get(e);if(r&&r.lu)return st().add(r.key);{let i=st();const s=n.Tu.get(e);if(!s)return i;for(const l of s){const c=n.Pu.get(l);i=i.unionWith(c.view.tu)}return i}}function gk(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y$.bind(null,e),e.hu.J_=j$.bind(null,e.eventManager),e.hu.pu=L$.bind(null,e.eventManager),e}function eH(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X$.bind(null,e),e}class qp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return i$(this.persistence,new t$,e.initialUser,this.serializer)}Du(e){return new Z4(iE.Vi,this.serializer)}bu(e){return new f$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qp.provider={build:()=>new qp};class tH extends qp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){bt(this.persistence.referenceDelegate instanceof zp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Bq(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new Z4(r=>zp.Vi(r,n),this.serializer)}}class O1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z$.bind(null,this.syncEngine),await D$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M$}()}createDatastore(e){const n=Zg(e.databaseInfo.databaseId),r=function(s){return new g$(s)}(e.databaseInfo);return function(s,l,c,f){return new _$(s,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,l,c){return new E$(r,i,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>rO(this.syncEngine,n,0),function(){return QC.C()?new QC:new d$}())}createSyncEngine(e,n){return function(i,s,l,c,f,d,m){const g=new z$(i,s,l,c,f,d);return m&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ge(i);Oe(Hl,"RemoteStore shutting down."),s.Ia.add(5),await ah(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}O1.provider={build:()=>new O1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class nH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qn.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{Oe(Ro,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Oe(Ro,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rb(t,e){t.asyncQueue.verifyOperationInProgress(),Oe(Ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await J4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{To("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Oe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{To("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function aO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rH(t);Oe(Ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JC(e.remoteStore,i)),t._onlineComponents=e}async function rH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe(Ro,"Using user provided OfflineComponentProvider");try{await rb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await rb(t,new qp)}}else Oe(Ro,"Using default OfflineComponentProvider"),await rb(t,new tH(void 0));return t._offlineComponents}async function yk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe(Ro,"Using user provided OnlineComponentProvider"),await aO(t,t._uninitializedComponentsProvider._online)):(Oe(Ro,"Using default OnlineComponentProvider"),await aO(t,new O1))),t._onlineComponents}function iH(t){return yk(t).then(e=>e.syncEngine)}async function $p(t){const e=await yk(t),n=e.eventManager;return n.onListen=F$.bind(null,e.syncEngine),n.onUnlisten=H$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K$.bind(null,e.syncEngine),n}function aH(t,e,n={}){const r=new Ja;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,c,f,d){const m=new bE({next:v=>{m.Ou(),l.enqueueAndForget(()=>mE(s,g));const _=v.docs.has(c);!_&&v.fromCache?d.reject(new Se(se.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?d.reject(new Se(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new gE(Kg(c.path),m,{includeMetadataChanges:!0,ka:!0});return hE(s,g)}(await $p(t),t.asyncQueue,e,n,r)),r.promise}function sH(t,e,n={}){const r=new Ja;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,c,f,d){const m=new bE({next:v=>{m.Ou(),l.enqueueAndForget(()=>mE(s,g)),v.fromCache&&f.source==="server"?d.reject(new Se(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new gE(c,m,{includeMetadataChanges:!0,ka:!0});return hE(s,g)}(await $p(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firestore.googleapis.com",oO=!0;class lO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bk,this.ssl=oO}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vq)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mF;switch(r.type){case"firstParty":return new vF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sO.get(n);r&&(Oe("ComponentProvider","Removing Datastore"),sO.delete(n),r.terminate())}(this),Promise.resolve()}}function oH(t,e,n,r={}){var i;t=wr(t,ty);const s=Cc(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;s&&(FN(`https://${f}`),qN("Firestore",!0)),l.host!==bk&&l.host!==f&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:f,ssl:s,emulatorOptions:r});if(!xo(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Qn.MOCK_USER;else{m=s9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qn(v)}t._authCredentials=new pF(new l4(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nh(n,Xt._jsonSchema))return new Xt(e,r||null,new Ve(Pt.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:un("string",Xt._jsonSchemaVersion),referencePath:un("string")};class wo extends Mo{constructor(e,n,r){super(e,n,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Ve(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function Ct(t,e,...n){if(t=tn(t),c4("collection","path",e),t instanceof ty){const r=Pt.fromString(e,...n);return wC(r),new wo(t,null,r)}{if(!(t instanceof Xt||t instanceof wo))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return wC(r),new wo(t.firestore,null,r)}}function cr(t,e,...n){if(t=tn(t),arguments.length===1&&(e=Kw.newId()),c4("doc","path",e),t instanceof ty){const r=Pt.fromString(e,...n);return _C(r),new Xt(t,null,new Ve(r))}{if(!(t instanceof Xt||t instanceof wo))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return _C(r),new Xt(t.firestore,t instanceof wo?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="AsyncQueue";class cO{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new tk(this,"async_queue_retry"),this.oc=()=>{const r=nb();r&&Oe(uO,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=nb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=nb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ja;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Dc(e))throw e;Oe(uO,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ss("INTERNAL UNHANDLED ERROR: ",fO(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=fE.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&$e(47125,{hc:fO(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function fO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ls extends ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cO(e),this._firestoreClient=void 0,await e}}}function lH(t,e){const n=typeof t=="object"?t:Rw(),r=typeof t=="string"?t:Mp,i=eu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=i9("firestore");s&&oH(i,...s)}return i}function ny(t){if(t._terminated)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uH(t),t._firestoreClient}function uH(t){var e,n,r;const i=t._freezeSettings(),s=function(c,f,d,m){return new kF(c,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vk(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nH(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(Hn.fromBase64String(e))}catch(n){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new li(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nh(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:un("string",li._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:da._jsonSchemaVersion}}static fromJSON(e){if(nh(e,da._jsonSchema))return new da(e.latitude,e.longitude)}}da._jsonSchemaVersion="firestore/geoPoint/1.0",da._jsonSchema={type:un("string",da._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ha._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nh(e,ha._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ha(e.vectorValues);throw new Se(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ha._jsonSchemaVersion="firestore/vectorValue/1.0",ha._jsonSchema={type:un("string",ha._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=/^__.*__$/;class fH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new rh(e,this.data,n,this.fieldTransforms)}}class _k{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ec:t})}}class wE{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new wE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Hp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(wk(this.Ec)&&cH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class dH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zg(e)}Dc(e,n,r,i=!1){return new wE({Ec:e,methodName:n,bc:r,path:qn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iy(t){const e=t._freezeSettings(),n=Zg(t._databaseId);return new dH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ek(t,e,n,r,i,s={}){const l=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);EE("Data must be an object, but it was:",l,r);const c=xk(r,l);let f,d;if(s.merge)f=new jr(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const v=I1(e,g,n);if(!l.contains(v))throw new Se(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Ak(m,v)||m.push(v)}f=new jr(m),d=l.fieldTransforms.filter(g=>f.covers(g.field))}else f=null,d=l.fieldTransforms;return new fH(new vr(c),f,d)}class ay extends _E{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ay}}function hH(t,e,n,r){const i=t.Dc(1,e,n);EE("Data must be an object, but it was:",i,r);const s=[],l=vr.empty();Do(r,(f,d)=>{const m=xE(e,f,n);d=tn(d);const g=i.gc(m);if(d instanceof ay)s.push(m);else{const v=oh(d,g);v!=null&&(s.push(m),l.set(m,v))}});const c=new jr(s);return new _k(l,c,i.fieldTransforms)}function mH(t,e,n,r,i,s){const l=t.Dc(1,e,n),c=[I1(e,r,n)],f=[i];if(s.length%2!=0)throw new Se(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(I1(e,s[v])),f.push(s[v+1]);const d=[],m=vr.empty();for(let v=c.length-1;v>=0;--v)if(!Ak(d,c[v])){const _=c[v];let E=f[v];E=tn(E);const w=l.gc(_);if(E instanceof ay)d.push(_);else{const x=oh(E,w);x!=null&&(d.push(_),m.set(_,x))}}const g=new jr(d);return new _k(m,g,l.fieldTransforms)}function pH(t,e,n,r=!1){return oh(n,t.Dc(r?4:3,e))}function oh(t,e){if(Tk(t=tn(t)))return EE("Unsupported field value:",e,t),xk(t,e);if(t instanceof _E)return function(r,i){if(!wk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const c of r){let f=oh(c,i.yc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Bp(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bp(i.serializer,s)}}if(r instanceof da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof li)return{bytesValue:$4(i.serializer,r._byteString)};if(r instanceof Xt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ha)return function(l,c){return{mapValue:{fields:{[b4]:{stringValue:_4},[jp]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.wc("VectorValues must only contain numeric values.");return Zw(c.serializer,d)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Fg(r)}`)}(t,e)}function xk(t,e){const n={};return h4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,(r,i)=>{const s=oh(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Tk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof da||t instanceof li||t instanceof Xt||t instanceof _E||t instanceof ha)}function EE(t,e,n){if(!Tk(n)||!f4(n)){const r=Fg(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function I1(t,e,n){if((e=tn(e))instanceof ry)return e._internalPath;if(typeof e=="string")return xE(t,e);throw Hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const gH=new RegExp("[~\\*/\\[\\]]");function xE(t,e,n){if(e.search(gH)>=0)throw Hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ry(...e.split("."))._internalPath}catch{throw Hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hp(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Se(se.INVALID_ARGUMENT,c+t+f)}function Ak(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yH extends Sk{data(){return super.data()}}function sy(t,e){return typeof e=="string"?xE(t,e):e instanceof ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TE{}class Ok extends TE{}function us(t,e,...n){let r=[];e instanceof TE&&r.push(e),r=r.concat(n),function(s){const l=s.filter(f=>f instanceof AE).length,c=s.filter(f=>f instanceof oy).length;if(l>1||l>0&&c>0)throw new Se(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class oy extends Ok{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oy(e,n,r)}_apply(e){const n=this._parse(e);return Ik(e._query,n),new Mo(e.firestore,e.converter,v1(e._query,n))}_parse(e){const n=iy(e.firestore);return function(s,l,c,f,d,m,g){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Se(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){mO(g,m);const E=[];for(const w of g)E.push(hO(f,s,w));v={arrayValue:{values:E}}}else v=hO(f,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||mO(g,m),v=pH(c,l,g,m==="in"||m==="not-in");return ln.create(d,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aa(t,e,n){const r=e,i=sy("where",t);return oy._create(i,r,n)}class AE extends TE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let l=i;const c=s.getFlattenedFilters();for(const f of c)Ik(l,f),l=v1(l,f)}(e._query,n),new Mo(e.firestore,e.converter,v1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class SE extends Ok{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new SE(e,n)}_apply(e){const n=function(i,s,l){if(i.startAt!==null)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kd(s,l)}(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new kc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function CE(t,e="asc"){const n=e,r=sy("orderBy",t);return SE._create(r,n)}function hO(t,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new Se(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O4(e)&&n.indexOf("/")!==-1)throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!Ve.isDocumentKey(r))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IC(t,new Ve(r))}if(n instanceof Xt)return IC(t,n._key);throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fg(n)}.`)}function mO(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ik(t,e){const n=function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vH{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Do(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[jp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Jt(l.doubleValue));return new ha(s)}convertGeoPoint(e){return new da(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const n=So(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);bt(X4(r),9688,{name:e});const i=new Nd(r.get(1),r.get(3)),s=new Ve(r.popFirst(5));return i.isEqual(n)||ss(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dl extends Sk{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Dl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dl._jsonSchema={type:un("string",Dl._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class _p extends Dl{data(e={}){return super.data(e)}}class kl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _p(this._firestore,this._userDataWriter,r.key,r,new dd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new _p(i._firestore,i._userDataWriter,c.doc.key,c.doc,new dd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const f=new _p(i._firestore,i._userDataWriter,c.doc.key,c.doc,new dd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:bH(c.type),doc:f,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){t=wr(t,Xt);const e=wr(t.firestore,ls);return aH(ny(e),t._key).then(n=>Pk(e,t,n))}kl._jsonSchemaVersion="firestore/querySnapshot/1.0",kl._jsonSchema={type:un("string",kl._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class OE extends vH{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function Ur(t){t=wr(t,Mo);const e=wr(t.firestore,ls),n=ny(e),r=new OE(e);return Ck(t._query),sH(n,t._query).then(i=>new kl(e,r,t,i))}function Kl(t,e,n){t=wr(t,Xt);const r=wr(t.firestore,ls),i=Rk(t.converter,e,n);return uy(r,[Ek(iy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function _H(t,e,n,...r){t=wr(t,Xt);const i=wr(t.firestore,ls),s=iy(i);let l;return l=typeof(e=tn(e))=="string"||e instanceof ry?mH(s,"updateDoc",t._key,e,n,r):hH(s,"updateDoc",t._key,e),uy(i,[l.toMutation(t._key,hi.exists(!0))])}function lh(t){return uy(wr(t.firestore,ls),[new Jw(t._key,hi.none())])}function jc(t,e){const n=wr(t.firestore,ls),r=cr(t),i=Rk(t.converter,e);return uy(n,[Ek(iy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function jo(t,...e){var n,r,i;t=tn(t);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||dO(e[l])||(s=e[l++]);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(dO(e[l])){const g=e[l];e[l]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let f,d,m;if(t instanceof Xt)d=wr(t.firestore,ls),m=Kg(t._key.path),f={next:g=>{e[l]&&e[l](Pk(d,t,g))},error:e[l+1],complete:e[l+2]};else{const g=wr(t,Mo);d=wr(g.firestore,ls),m=g._query;const v=new OE(d);f={next:_=>{e[l]&&e[l](new kl(d,v,g,_))},error:e[l+1],complete:e[l+2]},Ck(t._query)}return function(v,_,E,w){const x=new bE(w),C=new gE(_,x,E);return v.asyncQueue.enqueueAndForget(async()=>hE(await $p(v),C)),()=>{x.Ou(),v.asyncQueue.enqueueAndForget(async()=>mE(await $p(v),C))}}(ny(d),m,c,f)}function uy(t,e){return function(r,i){const s=new Ja;return r.asyncQueue.enqueueAndForget(async()=>G$(await iH(r),i,s)),s.promise}(ny(t),e)}function Pk(t,e,n){const r=n.docs.get(e._key),i=new OE(t);return new Dl(t,i,e._key,r,new dd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Pc=i})(Oc),pa(new Di("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new ls(new gF(r.getProvider("auth-internal")),new bF(l,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(d.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),di(pC,gC,e),di(pC,gC,"esm2017")})();const wH={apiKey:"AIzaSyDRA4EWEWEm4hHVr0cUXBKLBGZpjRKv8p4",authDomain:"qt-database.firebaseapp.com",projectId:"qt-database",storageBucket:"qt-database.firebasestorage.app",messagingSenderId:"826812658989",appId:"1:826812658989:web:38d6ad4c4a43b544de8fa4",measurementId:"G-NYWKXGCRHK"},IE=XN(wH);cF(IE);const cy=HB(IE),Xe=lH(IE);var uh=t=>t.type==="checkbox",Cl=t=>t instanceof Date,or=t=>t==null;const Nk=t=>typeof t=="object";var en=t=>!or(t)&&!Array.isArray(t)&&Nk(t)&&!Cl(t),EH=t=>en(t)&&t.target?uh(t.target)?t.target.checked:t.target.value:t,xH=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,TH=(t,e)=>t.has(xH(e)),AH=t=>{const e=t.constructor&&t.constructor.prototype;return en(e)&&e.hasOwnProperty("isPrototypeOf")},RE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(RE&&(t instanceof Blob||r))&&(n||en(t)))if(e=n?[]:{},!n&&!AH(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Bn(t[i]));else return t;return e}var ch=t=>Array.isArray(t)?t.filter(Boolean):[],jt=t=>t===void 0,Ce=(t,e,n)=>{if(!e||!en(t))return n;const r=ch(e.split(/[,[\].]+?/)).reduce((i,s)=>or(i)?i:i[s],t);return jt(r)||r===t?jt(t[e])?n:t[e]:r},ra=t=>typeof t=="boolean",PE=t=>/^\w*$/.test(t),Dk=t=>ch(t.replace(/["|']|\]/g,"").split(/\.|\[/)),St=(t,e,n)=>{let r=-1;const i=PE(e)?[e]:Dk(e),s=i.length,l=s-1;for(;++r<s;){const c=i[r];let f=n;if(r!==l){const d=t[c];f=en(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=f,t=t[c]}return t};const pO={BLUR:"blur",FOCUS_OUT:"focusout"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ha={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},SH=De.createContext(null),CH=()=>De.useContext(SH);var OH=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const l=s;return e._proxyFormState[l]!==ui.all&&(e._proxyFormState[l]=!r||ui.all),t[l]}});return i},sr=t=>en(t)&&!Object.keys(t).length,IH=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return sr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(l=>e[l]===ui.all)},Lr=t=>Array.isArray(t)?t:[t];function kk(t){const e=De.useRef(t);e.current=t,De.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var sa=t=>typeof t=="string",RH=(t,e,n,r,i)=>sa(t)?(r&&e.watch.add(t),Ce(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Ce(n,s))):(r&&(e.watchAll=!0),n),PH=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},io=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},ib=(t,e,n={})=>n.shouldFocus||jt(n.shouldFocus)?n.focusName||`${t}.${jt(n.focusIndex)?e:n.focusIndex}.`:"",Ed=t=>({isOnSubmit:!t||t===ui.onSubmit,isOnBlur:t===ui.onBlur,isOnChange:t===ui.onChange,isOnAll:t===ui.all,isOnTouch:t===ui.onTouched}),R1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const lc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Ce(t,i);if(s){const{_f:l,...c}=s;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(lc(c,e))break}else if(en(c)&&lc(c,e))break}}};var Mk=(t,e,n)=>{const r=Lr(Ce(t,n));return St(r,"root",e[n]),St(t,n,r),t},NE=t=>t.type==="file",ia=t=>typeof t=="function",Kp=t=>{if(!RE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wp=t=>sa(t),DE=t=>t.type==="radio",Gp=t=>t instanceof RegExp;const gO={value:!1,isValid:!1},yO={value:!0,isValid:!0};var jk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jt(t[0].attributes.value)?jt(t[0].value)||t[0].value===""?yO:{value:t[0].value,isValid:!0}:yO:gO}return gO};const vO={isValid:!1,value:null};var Lk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,vO):vO;function bO(t,e,n="validate"){if(wp(t)||Array.isArray(t)&&t.every(wp)||ra(t)&&!t)return{type:n,message:wp(t)?t:"",ref:e}}var Wu=t=>en(t)&&!Gp(t)?t:{value:t,message:""},P1=async(t,e,n,r,i,s)=>{const{ref:l,refs:c,required:f,maxLength:d,minLength:m,min:g,max:v,pattern:_,validate:E,name:w,valueAsNumber:x,mount:C}=t._f,R=Ce(n,w);if(!C||e.has(w))return{};const k=c?c[0]:l,q=F=>{i&&k.reportValidity&&(k.setCustomValidity(ra(F)?"":F||""),k.reportValidity())},M={},U=DE(l),P=uh(l),N=U||P,D=(x||NE(l))&&jt(l.value)&&jt(R)||Kp(l)&&l.value===""||R===""||Array.isArray(R)&&!R.length,L=PH.bind(null,w,r,M),z=(F,B,_e,me=Ha.maxLength,te=Ha.minLength)=>{const he=F?B:_e;M[w]={type:F?me:te,message:he,ref:l,...L(F?me:te,he)}};if(s?!Array.isArray(R)||!R.length:f&&(!N&&(D||or(R))||ra(R)&&!R||P&&!jk(c).isValid||U&&!Lk(c).isValid)){const{value:F,message:B}=wp(f)?{value:!!f,message:f}:Wu(f);if(F&&(M[w]={type:Ha.required,message:B,ref:k,...L(Ha.required,B)},!r))return q(B),M}if(!D&&(!or(g)||!or(v))){let F,B;const _e=Wu(v),me=Wu(g);if(!or(R)&&!isNaN(R)){const te=l.valueAsNumber||R&&+R;or(_e.value)||(F=te>_e.value),or(me.value)||(B=te<me.value)}else{const te=l.valueAsDate||new Date(R),he=H=>new Date(new Date().toDateString()+" "+H),ve=l.type=="time",xe=l.type=="week";sa(_e.value)&&R&&(F=ve?he(R)>he(_e.value):xe?R>_e.value:te>new Date(_e.value)),sa(me.value)&&R&&(B=ve?he(R)<he(me.value):xe?R<me.value:te<new Date(me.value))}if((F||B)&&(z(!!F,_e.message,me.message,Ha.max,Ha.min),!r))return q(M[w].message),M}if((d||m)&&!D&&(sa(R)||s&&Array.isArray(R))){const F=Wu(d),B=Wu(m),_e=!or(F.value)&&R.length>+F.value,me=!or(B.value)&&R.length<+B.value;if((_e||me)&&(z(_e,F.message,B.message),!r))return q(M[w].message),M}if(_&&!D&&sa(R)){const{value:F,message:B}=Wu(_);if(Gp(F)&&!R.match(F)&&(M[w]={type:Ha.pattern,message:B,ref:l,...L(Ha.pattern,B)},!r))return q(B),M}if(E){if(ia(E)){const F=await E(R,n),B=bO(F,k);if(B&&(M[w]={...B,...L(Ha.validate,B.message)},!r))return q(B.message),M}else if(en(E)){let F={};for(const B in E){if(!sr(F)&&!r)break;const _e=bO(await E[B](R,n),k,B);_e&&(F={..._e,...L(B,_e.message)},q(_e.message),r&&(M[w]=F))}if(!sr(F)&&(M[w]={ref:k,...F},!r))return M}}return q(!0),M},ab=(t,e)=>[...t,...Lr(e)],sb=t=>Array.isArray(t)?t.map(()=>{}):void 0;function ob(t,e,n){return[...t.slice(0,e),...Lr(n),...t.slice(e)]}var lb=(t,e,n)=>Array.isArray(t)?(jt(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],ub=(t,e)=>[...Lr(e),...Lr(t)];function NH(t,e){let n=0;const r=[...t];for(const i of e)r.splice(i-n,1),n++;return ch(r).length?r:[]}var cb=(t,e)=>jt(e)?[]:NH(t,Lr(e).sort((n,r)=>n-r)),fb=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]};function DH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=jt(t)?r++:t[e[r++]];return t}function kH(t){for(const e in t)if(t.hasOwnProperty(e)&&!jt(t[e]))return!1;return!0}function on(t,e){const n=Array.isArray(e)?e:PE(e)?[e]:Dk(e),r=n.length===1?t:DH(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(en(r)&&sr(r)||Array.isArray(r)&&kH(r))&&on(t,n.slice(0,-1)),t}var _O=(t,e,n)=>(t[e]=n,t);function kE(t){const e=CH(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:s,rules:l}=t,[c,f]=De.useState(n._getFieldArray(r)),d=De.useRef(n._getFieldArray(r).map(io)),m=De.useRef(c),g=De.useRef(r),v=De.useRef(!1);g.current=r,m.current=c,n._names.array.add(r),l&&n.register(r,l),kk({next:({values:U,name:P})=>{if(P===g.current||!P){const N=Ce(U,g.current);Array.isArray(N)&&(f(N),d.current=N.map(io))}},subject:n._subjects.array});const _=De.useCallback(U=>{v.current=!0,n._updateFieldArray(r,U)},[n,r]),E=(U,P)=>{const N=Lr(Bn(U)),D=ab(n._getFieldArray(r),N);n._names.focus=ib(r,D.length-1,P),d.current=ab(d.current,N.map(io)),_(D),f(D),n._updateFieldArray(r,D,ab,{argA:sb(U)})},w=(U,P)=>{const N=Lr(Bn(U)),D=ub(n._getFieldArray(r),N);n._names.focus=ib(r,0,P),d.current=ub(d.current,N.map(io)),_(D),f(D),n._updateFieldArray(r,D,ub,{argA:sb(U)})},x=U=>{const P=cb(n._getFieldArray(r),U);d.current=cb(d.current,U),_(P),f(P),!Array.isArray(Ce(n._fields,r))&&St(n._fields,r,void 0),n._updateFieldArray(r,P,cb,{argA:U})},C=(U,P,N)=>{const D=Lr(Bn(P)),L=ob(n._getFieldArray(r),U,D);n._names.focus=ib(r,U,N),d.current=ob(d.current,U,D.map(io)),_(L),f(L),n._updateFieldArray(r,L,ob,{argA:U,argB:sb(P)})},R=(U,P)=>{const N=n._getFieldArray(r);fb(N,U,P),fb(d.current,U,P),_(N),f(N),n._updateFieldArray(r,N,fb,{argA:U,argB:P},!1)},k=(U,P)=>{const N=n._getFieldArray(r);lb(N,U,P),lb(d.current,U,P),_(N),f(N),n._updateFieldArray(r,N,lb,{argA:U,argB:P},!1)},q=(U,P)=>{const N=Bn(P),D=_O(n._getFieldArray(r),U,N);d.current=[...D].map((L,z)=>!L||z===U?io():d.current[z]),_(D),f([...D]),n._updateFieldArray(r,D,_O,{argA:U,argB:N},!0,!1)},M=U=>{const P=Lr(Bn(U));d.current=P.map(io),_([...P]),f([...P]),n._updateFieldArray(r,[...P],N=>N,{},!0,!1)};return De.useEffect(()=>{if(n._state.action=!1,R1(r,n._names)&&n._subjects.state.next({...n._formState}),v.current&&(!Ed(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(U=>{const P=Ce(U.errors,r),N=Ce(n._formState.errors,r);(N?!P&&N.type||P&&(N.type!==P.type||N.message!==P.message):P&&P.type)&&(P?St(n._formState.errors,r,P):on(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const U=Ce(n._fields,r);U&&U._f&&!(Ed(n._options.reValidateMode).isOnSubmit&&Ed(n._options.mode).isOnSubmit)&&P1(U,n._names.disabled,n._formValues,n._options.criteriaMode===ui.all,n._options.shouldUseNativeValidation,!0).then(P=>!sr(P)&&n._subjects.state.next({errors:Mk(n._formState.errors,P,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&lc(n._fields,(U,P)=>{if(n._names.focus&&P.startsWith(n._names.focus)&&U.focus)return U.focus(),1}),n._names.focus="",n._updateValid(),v.current=!1},[c,r,n]),De.useEffect(()=>(!Ce(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||s)&&n.unregister(r)}),[r,n,i,s]),{swap:De.useCallback(R,[_,r,n]),move:De.useCallback(k,[_,r,n]),prepend:De.useCallback(w,[_,r,n]),append:De.useCallback(E,[_,r,n]),remove:De.useCallback(x,[_,r,n]),insert:De.useCallback(C,[_,r,n]),update:De.useCallback(q,[_,r,n]),replace:De.useCallback(M,[_,r,n]),fields:De.useMemo(()=>c.map((U,P)=>({...U,[i]:d.current[P]||io()})),[c,i])}}var db=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},N1=t=>or(t)||!Nk(t);function mo(t,e){if(N1(t)||N1(e))return t===e;if(Cl(t)&&Cl(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Cl(s)&&Cl(l)||en(s)&&en(l)||Array.isArray(s)&&Array.isArray(l)?!mo(s,l):s!==l)return!1}}return!0}var Vk=t=>t.type==="select-multiple",MH=t=>DE(t)||uh(t),hb=t=>Kp(t)&&t.isConnected,Uk=t=>{for(const e in t)if(ia(t[e]))return!0;return!1};function Yp(t,e={}){const n=Array.isArray(t);if(en(t)||n)for(const r in t)Array.isArray(t[r])||en(t[r])&&!Uk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Yp(t[r],e[r])):or(t[r])||(e[r]=!0);return e}function Bk(t,e,n){const r=Array.isArray(t);if(en(t)||r)for(const i in t)Array.isArray(t[i])||en(t[i])&&!Uk(t[i])?jt(e)||N1(n[i])?n[i]=Array.isArray(t[i])?Yp(t[i],[]):{...Yp(t[i])}:Bk(t[i],or(e)?{}:e[i],n[i]):n[i]=!mo(t[i],e[i]);return n}var Qf=(t,e)=>Bk(t,e,Yp(e)),zk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>jt(t)?t:e?t===""?NaN:t&&+t:n&&sa(t)?new Date(t):r?r(t):t;function mb(t){const e=t.ref;return NE(e)?e.files:DE(e)?Lk(t.refs).value:Vk(e)?[...e.selectedOptions].map(({value:n})=>n):uh(e)?jk(t.refs).value:zk(jt(e.value)?t.ref.value:e.value,t)}var jH=(t,e,n,r)=>{const i={};for(const s of t){const l=Ce(e,s);l&&St(i,s,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Zf=t=>jt(t)?t:Gp(t)?t.source:en(t)?Gp(t.value)?t.value.source:t.value:t;const wO="AsyncFunction";var LH=t=>!!t&&!!t.validate&&!!(ia(t.validate)&&t.validate.constructor.name===wO||en(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===wO)),VH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function EO(t,e,n){const r=Ce(t,n);if(r||PE(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),l=Ce(e,s),c=Ce(t,s);if(l&&!Array.isArray(l)&&n!==s)return{name:n};if(c&&c.type)return{name:s,error:c};i.pop()}return{name:n}}var UH=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,BH=(t,e)=>!ch(Ce(t,e)).length&&on(t,e);const zH={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function FH(t={}){let e={...zH,...t},n={submitCount:0,isDirty:!1,isLoading:ia(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=en(e.defaultValues)||en(e.values)?Bn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Bn(i),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,d=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:db(),array:db(),state:db()},v=Ed(e.mode),_=Ed(e.reValidateMode),E=e.criteriaMode===ui.all,w=K=>Z=>{clearTimeout(d),d=setTimeout(K,Z)},x=async K=>{if(!e.disabled&&(m.isValid||K)){const Z=e.resolver?sr((await N()).errors):await L(r,!0);Z!==n.isValid&&g.state.next({isValid:Z})}},C=(K,Z)=>{!e.disabled&&(m.isValidating||m.validatingFields)&&((K||Array.from(c.mount)).forEach(ne=>{ne&&(Z?St(n.validatingFields,ne,Z):on(n.validatingFields,ne))}),g.state.next({validatingFields:n.validatingFields,isValidating:!sr(n.validatingFields)}))},R=(K,Z=[],ne,Te,Ee=!0,pe=!0)=>{if(Te&&ne&&!e.disabled){if(l.action=!0,pe&&Array.isArray(Ce(r,K))){const Re=ne(Ce(r,K),Te.argA,Te.argB);Ee&&St(r,K,Re)}if(pe&&Array.isArray(Ce(n.errors,K))){const Re=ne(Ce(n.errors,K),Te.argA,Te.argB);Ee&&St(n.errors,K,Re),BH(n.errors,K)}if(m.touchedFields&&pe&&Array.isArray(Ce(n.touchedFields,K))){const Re=ne(Ce(n.touchedFields,K),Te.argA,Te.argB);Ee&&St(n.touchedFields,K,Re)}m.dirtyFields&&(n.dirtyFields=Qf(i,s)),g.state.next({name:K,isDirty:F(K,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else St(s,K,Z)},k=(K,Z)=>{St(n.errors,K,Z),g.state.next({errors:n.errors})},q=K=>{n.errors=K,g.state.next({errors:n.errors,isValid:!1})},M=(K,Z,ne,Te)=>{const Ee=Ce(r,K);if(Ee){const pe=Ce(s,K,jt(ne)?Ce(i,K):ne);jt(pe)||Te&&Te.defaultChecked||Z?St(s,K,Z?pe:mb(Ee._f)):me(K,pe),l.mount&&x()}},U=(K,Z,ne,Te,Ee)=>{let pe=!1,Re=!1;const Ye={name:K};if(!e.disabled){const tt=!!(Ce(r,K)&&Ce(r,K)._f&&Ce(r,K)._f.disabled);if(!ne||Te){m.isDirty&&(Re=n.isDirty,n.isDirty=Ye.isDirty=F(),pe=Re!==Ye.isDirty);const rt=tt||mo(Ce(i,K),Z);Re=!!(!tt&&Ce(n.dirtyFields,K)),rt||tt?on(n.dirtyFields,K):St(n.dirtyFields,K,!0),Ye.dirtyFields=n.dirtyFields,pe=pe||m.dirtyFields&&Re!==!rt}if(ne){const rt=Ce(n.touchedFields,K);rt||(St(n.touchedFields,K,ne),Ye.touchedFields=n.touchedFields,pe=pe||m.touchedFields&&rt!==ne)}pe&&Ee&&g.state.next(Ye)}return pe?Ye:{}},P=(K,Z,ne,Te)=>{const Ee=Ce(n.errors,K),pe=m.isValid&&ra(Z)&&n.isValid!==Z;if(e.delayError&&ne?(f=w(()=>k(K,ne)),f(e.delayError)):(clearTimeout(d),f=null,ne?St(n.errors,K,ne):on(n.errors,K)),(ne?!mo(Ee,ne):Ee)||!sr(Te)||pe){const Re={...Te,...pe&&ra(Z)?{isValid:Z}:{},errors:n.errors,name:K};n={...n,...Re},g.state.next(Re)}},N=async K=>{C(K,!0);const Z=await e.resolver(s,e.context,jH(K||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C(K),Z},D=async K=>{const{errors:Z}=await N(K);if(K)for(const ne of K){const Te=Ce(Z,ne);Te?St(n.errors,ne,Te):on(n.errors,ne)}else n.errors=Z;return Z},L=async(K,Z,ne={valid:!0})=>{for(const Te in K){const Ee=K[Te];if(Ee){const{_f:pe,...Re}=Ee;if(pe){const Ye=c.array.has(pe.name),tt=Ee._f&&LH(Ee._f);tt&&m.validatingFields&&C([Te],!0);const rt=await P1(Ee,c.disabled,s,E,e.shouldUseNativeValidation&&!Z,Ye);if(tt&&m.validatingFields&&C([Te]),rt[pe.name]&&(ne.valid=!1,Z))break;!Z&&(Ce(rt,pe.name)?Ye?Mk(n.errors,rt,pe.name):St(n.errors,pe.name,rt[pe.name]):on(n.errors,pe.name))}!sr(Re)&&await L(Re,Z,ne)}}return ne.valid},z=()=>{for(const K of c.unMount){const Z=Ce(r,K);Z&&(Z._f.refs?Z._f.refs.every(ne=>!hb(ne)):!hb(Z._f.ref))&&ze(K)}c.unMount=new Set},F=(K,Z)=>!e.disabled&&(K&&Z&&St(s,K,Z),!mo(oe(),i)),B=(K,Z,ne)=>RH(K,c,{...l.mount?s:jt(Z)?i:sa(K)?{[K]:Z}:Z},ne,Z),_e=K=>ch(Ce(l.mount?s:i,K,e.shouldUnregister?Ce(i,K,[]):[])),me=(K,Z,ne={})=>{const Te=Ce(r,K);let Ee=Z;if(Te){const pe=Te._f;pe&&(!pe.disabled&&St(s,K,zk(Z,pe)),Ee=Kp(pe.ref)&&or(Z)?"":Z,Vk(pe.ref)?[...pe.ref.options].forEach(Re=>Re.selected=Ee.includes(Re.value)):pe.refs?uh(pe.ref)?pe.refs.length>1?pe.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(Ee)?!!Ee.find(Ye=>Ye===Re.value):Ee===Re.value)):pe.refs[0]&&(pe.refs[0].checked=!!Ee):pe.refs.forEach(Re=>Re.checked=Re.value===Ee):NE(pe.ref)?pe.ref.value="":(pe.ref.value=Ee,pe.ref.type||g.values.next({name:K,values:{...s}})))}(ne.shouldDirty||ne.shouldTouch)&&U(K,Ee,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&H(K)},te=(K,Z,ne)=>{for(const Te in Z){const Ee=Z[Te],pe=`${K}.${Te}`,Re=Ce(r,pe);(c.array.has(K)||en(Ee)||Re&&!Re._f)&&!Cl(Ee)?te(pe,Ee,ne):me(pe,Ee,ne)}},he=(K,Z,ne={})=>{const Te=Ce(r,K),Ee=c.array.has(K),pe=Bn(Z);St(s,K,pe),Ee?(g.array.next({name:K,values:{...s}}),(m.isDirty||m.dirtyFields)&&ne.shouldDirty&&g.state.next({name:K,dirtyFields:Qf(i,s),isDirty:F(K,pe)})):Te&&!Te._f&&!or(pe)?te(K,pe,ne):me(K,pe,ne),R1(K,c)&&g.state.next({...n}),g.values.next({name:l.mount?K:void 0,values:{...s}})},ve=async K=>{l.mount=!0;const Z=K.target;let ne=Z.name,Te=!0;const Ee=Ce(r,ne),pe=()=>Z.type?mb(Ee._f):EH(K),Re=Ye=>{Te=Number.isNaN(Ye)||Cl(Ye)&&isNaN(Ye.getTime())||mo(Ye,Ce(s,ne,Ye))};if(Ee){let Ye,tt;const rt=pe(),xn=K.type===pO.BLUR||K.type===pO.FOCUS_OUT,ou=!VH(Ee._f)&&!e.resolver&&!Ce(n.errors,ne)&&!Ee._f.deps||UH(xn,Ce(n.touchedFields,ne),n.isSubmitted,_,v),ba=R1(ne,c,xn);St(s,ne,rt),xn?(Ee._f.onBlur&&Ee._f.onBlur(K),f&&f(0)):Ee._f.onChange&&Ee._f.onChange(K);const $o=U(ne,rt,xn,!1),_a=!sr($o)||ba;if(!xn&&g.values.next({name:ne,type:K.type,values:{...s}}),ou)return m.isValid&&(e.mode==="onBlur"&&xn?x():xn||x()),_a&&g.state.next({name:ne,...ba?{}:$o});if(!xn&&ba&&g.state.next({...n}),e.resolver){const{errors:wi}=await N([ne]);if(Re(rt),Te){const Tn=EO(n.errors,r,ne),Es=EO(wi,r,Tn.name||ne);Ye=Es.error,ne=Es.name,tt=sr(wi)}}else C([ne],!0),Ye=(await P1(Ee,c.disabled,s,E,e.shouldUseNativeValidation))[ne],C([ne]),Re(rt),Te&&(Ye?tt=!1:m.isValid&&(tt=await L(r,!0)));Te&&(Ee._f.deps&&H(Ee._f.deps),P(ne,tt,Ye,$o))}},xe=(K,Z)=>{if(Ce(n.errors,Z)&&K.focus)return K.focus(),1},H=async(K,Z={})=>{let ne,Te;const Ee=Lr(K);if(e.resolver){const pe=await D(jt(K)?K:Ee);ne=sr(pe),Te=K?!Ee.some(Re=>Ce(pe,Re)):ne}else K?(Te=(await Promise.all(Ee.map(async pe=>{const Re=Ce(r,pe);return await L(Re&&Re._f?{[pe]:Re}:Re)}))).every(Boolean),!(!Te&&!n.isValid)&&x()):Te=ne=await L(r);return g.state.next({...!sa(K)||m.isValid&&ne!==n.isValid?{}:{name:K},...e.resolver||!K?{isValid:ne}:{},errors:n.errors}),Z.shouldFocus&&!Te&&lc(r,xe,K?Ee:c.mount),Te},oe=K=>{const Z={...l.mount?s:i};return jt(K)?Z:sa(K)?Ce(Z,K):K.map(ne=>Ce(Z,ne))},ue=(K,Z)=>({invalid:!!Ce((Z||n).errors,K),isDirty:!!Ce((Z||n).dirtyFields,K),error:Ce((Z||n).errors,K),isValidating:!!Ce(n.validatingFields,K),isTouched:!!Ce((Z||n).touchedFields,K)}),ye=K=>{K&&Lr(K).forEach(Z=>on(n.errors,Z)),g.state.next({errors:K?n.errors:{}})},we=(K,Z,ne)=>{const Te=(Ce(r,K,{_f:{}})._f||{}).ref,Ee=Ce(n.errors,K)||{},{ref:pe,message:Re,type:Ye,...tt}=Ee;St(n.errors,K,{...tt,...Z,ref:Te}),g.state.next({name:K,errors:n.errors,isValid:!1}),ne&&ne.shouldFocus&&Te&&Te.focus&&Te.focus()},Me=(K,Z)=>ia(K)?g.values.subscribe({next:ne=>K(B(void 0,Z),ne)}):B(K,Z,!0),ze=(K,Z={})=>{for(const ne of K?Lr(K):c.mount)c.mount.delete(ne),c.array.delete(ne),Z.keepValue||(on(r,ne),on(s,ne)),!Z.keepError&&on(n.errors,ne),!Z.keepDirty&&on(n.dirtyFields,ne),!Z.keepTouched&&on(n.touchedFields,ne),!Z.keepIsValidating&&on(n.validatingFields,ne),!e.shouldUnregister&&!Z.keepDefaultValue&&on(i,ne);g.values.next({values:{...s}}),g.state.next({...n,...Z.keepDirty?{isDirty:F()}:{}}),!Z.keepIsValid&&x()},Nt=({disabled:K,name:Z,field:ne,fields:Te})=>{(ra(K)&&l.mount||K||c.disabled.has(Z))&&(K?c.disabled.add(Z):c.disabled.delete(Z),U(Z,mb(ne?ne._f:Ce(Te,Z)._f),!1,!1,!0))},Je=(K,Z={})=>{let ne=Ce(r,K);const Te=ra(Z.disabled)||ra(e.disabled);return St(r,K,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:K}},name:K,mount:!0,...Z}}),c.mount.add(K),ne?Nt({field:ne,disabled:ra(Z.disabled)?Z.disabled:e.disabled,name:K}):M(K,!0,Z.value),{...Te?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:Zf(Z.min),max:Zf(Z.max),minLength:Zf(Z.minLength),maxLength:Zf(Z.maxLength),pattern:Zf(Z.pattern)}:{},name:K,onChange:ve,onBlur:ve,ref:Ee=>{if(Ee){Je(K,Z),ne=Ce(r,K);const pe=jt(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,Re=MH(pe),Ye=ne._f.refs||[];if(Re?Ye.find(tt=>tt===pe):pe===ne._f.ref)return;St(r,K,{_f:{...ne._f,...Re?{refs:[...Ye.filter(hb),pe,...Array.isArray(Ce(i,K))?[{}]:[]],ref:{type:pe.type,name:K}}:{ref:pe}}}),M(K,!1,void 0,pe)}else ne=Ce(r,K,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(TH(c.array,K)&&l.action)&&c.unMount.add(K)}}},ge=()=>e.shouldFocusError&&lc(r,xe,c.mount),Ie=K=>{ra(K)&&(g.state.next({disabled:K}),lc(r,(Z,ne)=>{const Te=Ce(r,ne);Te&&(Z.disabled=Te._f.disabled||K,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Ee=>{Ee.disabled=Te._f.disabled||K}))},0,!1))},Ue=(K,Z)=>async ne=>{let Te;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let Ee=Bn(s);if(c.disabled.size)for(const pe of c.disabled)St(Ee,pe,void 0);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:pe,values:Re}=await N();n.errors=pe,Ee=Re}else await L(r);if(on(n.errors,"root"),sr(n.errors)){g.state.next({errors:{}});try{await K(Ee,ne)}catch(pe){Te=pe}}else Z&&await Z({...n.errors},ne),ge(),setTimeout(ge);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sr(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},de=(K,Z={})=>{Ce(r,K)&&(jt(Z.defaultValue)?he(K,Bn(Ce(i,K))):(he(K,Z.defaultValue),St(i,K,Bn(Z.defaultValue))),Z.keepTouched||on(n.touchedFields,K),Z.keepDirty||(on(n.dirtyFields,K),n.isDirty=Z.defaultValue?F(K,Bn(Ce(i,K))):F()),Z.keepError||(on(n.errors,K),m.isValid&&x()),g.state.next({...n}))},yt=(K,Z={})=>{const ne=K?Bn(K):i,Te=Bn(ne),Ee=sr(K),pe=Ee?i:Te;if(Z.keepDefaultValues||(i=ne),!Z.keepValues){if(Z.keepDirtyValues){const Re=new Set([...c.mount,...Object.keys(Qf(i,s))]);for(const Ye of Array.from(Re))Ce(n.dirtyFields,Ye)?St(pe,Ye,Ce(s,Ye)):he(Ye,Ce(pe,Ye))}else{if(RE&&jt(K))for(const Re of c.mount){const Ye=Ce(r,Re);if(Ye&&Ye._f){const tt=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(Kp(tt)){const rt=tt.closest("form");if(rt){rt.reset();break}}}}r={}}s=e.shouldUnregister?Z.keepDefaultValues?Bn(i):{}:Bn(pe),g.array.next({values:{...pe}}),g.values.next({values:{...pe}})}c={mount:Z.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,l.watch=!!e.shouldUnregister,g.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:Ee?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!mo(K,i)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ee?{}:Z.keepDirtyValues?Z.keepDefaultValues&&s?Qf(i,s):n.dirtyFields:Z.keepDefaultValues&&K?Qf(i,K):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},et=(K,Z)=>yt(ia(K)?K(s):K,Z);return{control:{register:Je,unregister:ze,getFieldState:ue,handleSubmit:Ue,setError:we,_executeSchema:N,_getWatch:B,_getDirty:F,_updateValid:x,_removeUnmounted:z,_updateFieldArray:R,_updateDisabledField:Nt,_getFieldArray:_e,_reset:yt,_resetDefaultValues:()=>ia(e.defaultValues)&&e.defaultValues().then(K=>{et(K,e.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:K=>{n={...n,...K}},_disableForm:Ie,_subjects:g,_proxyFormState:m,_setErrors:q,get _fields(){return r},get _formValues(){return s},get _state(){return l},set _state(K){l=K},get _defaultValues(){return i},get _names(){return c},set _names(K){c=K},get _formState(){return n},set _formState(K){n=K},get _options(){return e},set _options(K){e={...e,...K}}},trigger:H,register:Je,handleSubmit:Ue,watch:Me,setValue:he,getValues:oe,reset:et,resetField:de,clearErrors:ye,unregister:ze,setError:we,setFocus:(K,Z={})=>{const ne=Ce(r,K),Te=ne&&ne._f;if(Te){const Ee=Te.refs?Te.refs[0]:Te.ref;Ee.focus&&(Ee.focus(),Z.shouldSelect&&ia(Ee.select)&&Ee.select())}},getFieldState:ue}}function gs(t={}){const e=De.useRef(void 0),n=De.useRef(void 0),[r,i]=De.useState({isDirty:!1,isValidating:!1,isLoading:ia(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ia(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...FH(t),formState:r});const s=e.current.control;return s._options=t,kk({subject:s._subjects.state,next:l=>{IH(l,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),De.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),De.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==r.isDirty&&s._subjects.state.next({isDirty:l})}},[s,r.isDirty]),De.useEffect(()=>{t.values&&!mo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(l=>({...l}))):s._resetDefaultValues()},[t.values,s]),De.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),De.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),De.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=OH(r,s),e.current}var Fk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xO=De.createContext&&De.createContext(Fk),qH=["attr","size","title"];function $H(t,e){if(t==null)return{};var n=HH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){KH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KH(t,e,n){return e=GH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GH(t){var e=YH(t,"string");return typeof e=="symbol"?e:e+""}function YH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qk(t){return t&&t.map((e,n)=>De.createElement(e.tag,Xp({key:n},e.attr),qk(e.child)))}function Er(t){return e=>De.createElement(WH,Wp({attr:Xp({},t.attr)},e),qk(t.child))}function WH(t){var e=n=>{var{attr:r,size:i,title:s}=t,l=$H(t,qH),c=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),De.createElement("svg",Wp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:Xp(Xp({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&De.createElement("title",null,s),t.children)};return xO!==void 0?De.createElement(xO.Consumer,null,n=>e(n)):e(Fk)}function XH(t){return Er({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01zM6 7.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1 0-1"},child:[]}]})(t)}const QH=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(null),{control:i,register:s,handleSubmit:l,reset:c}=gs({defaultValues:{sales:[{itemName:"",count:"",price:""}]}}),{fields:f,append:d,remove:m}=kE({control:i,name:"sales"});S.useEffect(()=>{const w=jo(Ct(Xe,"packages2"),x=>{const C=[];x.forEach(R=>{C.push({id:R.id,...R.data()})}),C.sort((R,k)=>new Date(k.created_date)-new Date(R.created_date)),e(C)});return()=>w()},[]);const g=async()=>{const w=await Ur(Ct(Xe,"packages2")),x=[];w.forEach(C=>{x.push({id:C.id,...C.data()})}),x.sort((C,R)=>new Date(R.created_date)-new Date(C.created_date)),e(x)},v=t.reduce((w,x)=>{const{item_name:C,quantity:R,created_date:k,itemId:q}=x;return w[C]||(w[C]={totalQuantity:0,packageCount:0,latestDate:k,itemId:q}),w[C].totalQuantity+=Number(R),w[C].packageCount+=1,w[C].itemId=q,new Date(k)>new Date(w[C].latestDate)&&(w[C].latestDate=k),w},{}),_=async w=>{const x=[],C={};for(let R=0;R<w.sales.length;R++){const k=w.sales[R];(!k.itemName||!k.count||!k.price)&&x.push(`يجب ملء جميع الحقول في الصف رقم ${R+1}`)}if(x.length>0){Ae.error(x.join(`
`),{position:"top-right",autoClose:4e3,rtl:!0});return}try{const R={};for(const k of w.sales)R[k.itemName]||(R[k.itemName]=[]),R[k.itemName].push({count:Number(k.count),price:k.price});for(const k in R){const q=R[k],M=t.filter(U=>U.item_name===k).sort((U,P)=>new Date(U.created_date)-new Date(P.created_date));for(const U of q){let P=U.count;for(const N of M){if(P<=0)break;const D=Number(N.quantity);if(D<=0)continue;const L=Math.min(D,P);P-=L;const z=C[N.id]||{quantity:Number(N.quantity),sold:N.sold?[...N.sold]:[]};z.quantity-=L,z.sold.push({date:new Date().toLocaleString(),count:L,price:U.price}),C[N.id]=z}if(P>0){Ae.error(`لا توجد كمية كافية من المنتج "${k}" لتلبية عملية بيع عددها ${U.count}`,{position:"top-right",autoClose:4e3,rtl:!0});return}}}for(const[k,q]of Object.entries(C)){const M=cr(Xe,"packages2",k);await Kl(M,{quantity:q.quantity,sold:q.sold},{merge:!0}),q.quantity===0&&await E("packages2","consumedpackages2",k)}await g(),c({sales:[{itemName:"",count:"",price:""}]}),Ae.success("تم حفظ عمليات البيع بنجاح",{position:"top-right",autoClose:3e3,rtl:!0})}catch(R){console.error("خطأ أثناء الحفظ:",R.message),Ae.error("حدث خطأ أثناء الحفظ: "+R.message,{position:"top-right",autoClose:4e3,rtl:!0})}},E=async(w,x,C)=>{const R=cr(Xe,w,C),k=await ly(R);k.exists()&&(await Kl(cr(Xe,x,C),k.data()),await lh(R))};return A.jsxs("div",{className:"p-4 space-y-6 text-right max-w-7xl mx-auto",children:[A.jsx("div",{className:"flex justify-between",children:A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-cyan-800",children:"قائمة البكجات"})}),A.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-cyan-200",children:[A.jsx("h2",{className:"text-lg font-bold text-cyan-700 mb-3",children:"إضافة عمليات بيع"}),A.jsxs("form",{onSubmit:l(_),className:"space-y-3",children:[f.map((w,x)=>A.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center text-sm",children:[A.jsxs("select",{...s(`sales.${x}.itemName`,{required:!0}),className:"p-2 border border-cyan-300 rounded-lg",children:[A.jsx("option",{value:"",children:"اختر المنتج"}),[...new Set(t.map(C=>C.item_name))].map(C=>A.jsx("option",{value:C,children:C},C))]}),A.jsx("input",{type:"number",placeholder:"العدد",min:"1",...s(`sales.${x}.count`,{required:!0}),className:"p-2 border border-cyan-300 rounded-lg text-center"}),A.jsx("input",{type:"number",placeholder:"السعر",...s(`sales.${x}.price`,{required:!0}),className:"p-2 border border-cyan-300 rounded-lg text-center"}),A.jsx("div",{className:"text-center",children:A.jsx("button",{type:"button",onClick:()=>m(x),className:"text-red-600  hover:text-red-700 bg-red-50 hover:bg-red-200 transition px-3 py-2 rounded-lg cursor-pointer",children:"حذف"})})]},w.id)),A.jsxs("div",{className:"flex justify-between items-center pt-2",children:[A.jsx("button",{type:"button",onClick:()=>d({itemName:"",count:"",price:""}),className:"text-sm text-cyan-700 bg-cyan-100 rounded hover:bg-cyan-200 p-1 px-3 transition-all cursor-pointer",children:"+ إضافة صف جديد"}),A.jsx("button",{type:"submit",className:"bg-cyan-700 hover:bg-cyan-600 text-white py-1 px-4 rounded text-sm",children:"حفظ المبيعات"})]})]})]}),A.jsxs("div",{className:" rounded-lg mt-8",children:[A.jsx("h2",{className:"text-xl font-bold text-cyan-700 mb-6",children:"بيانات المنتجات"}),Object.keys(v).length===0?A.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات لعرضها."}):A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(v).map(([w,x])=>{var C,R,k,q,M;return A.jsxs("div",{className:"border border-cyan-300 rounded-lg p-5 bg-cyan-50 shadow-sm flex flex-col justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-cyan-800 mb-2",children:w}),A.jsxs("p",{children:[A.jsxs("span",{className:"font-semibold text-cyan-700",children:["إجمالي الكمية:"," "]}),x.totalQuantity]}),A.jsxs("p",{children:[A.jsxs("span",{className:"font-semibold text-cyan-700",children:["عدد البكجات:"," "]}),x.packageCount]}),A.jsxs("p",{children:[A.jsxs("span",{className:"font-semibold text-cyan-700",children:["أحدث تاريخ بكج:"," "]}),((q=(R=(C=x.latestDate)==null?void 0:C.toDate)==null?void 0:(k=R.call(C)).toLocaleString)==null?void 0:q.call(k))??String((M=x.latestDate)==null?void 0:M.split(",")[0])]})]}),A.jsx("button",{onClick:()=>r(n===w?null:w),className:"mt-4 py-2 bg-cyan-700 cursor-pointer hover:bg-cyan-600 text-white rounded-lg text-sm transition",children:n===w?"إخفاء التفاصيل":"عرض التفاصيل"}),A.jsxs("a",{href:`/qichi-tala/products/${x.itemId}`,className:"flex justify-center items-center gap-1 mt-4 py-2 cursor-pointer bg-cyan-100 hover:bg-cyan-700 text-cyan-700 hover:text-cyan-100 border-2 rounded-lg text-sm transition",children:[A.jsx(XH,{}),"استخدام شخصي"]}),n===w&&A.jsx("div",{className:"mt-4 space-y-4 border-t border-cyan-300 pt-4",children:t.filter(U=>U.item_name===w).map(U=>{var F,B,_e;const{id:P,quantity:N,created_date:D,sold:L=[],bought_price:z}=U;return A.jsxs("div",{className:"bg-white rounded-md shadow p-4 border border-cyan-300",children:[A.jsxs("h4",{className:"text-cyan-800 font-semibold mb-2",children:["📦 بكج رقم: ",P]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-semibold text-cyan-700",children:"الكمية المتبقية:"})," ",N]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-semibold text-cyan-700",children:"سعر الشراء:"})," ",z||"غير محدد"]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-semibold text-cyan-700",children:"تاريخ الإضافة:"})," ",((_e=(F=D==null?void 0:D.toDate)==null?void 0:(B=F.call(D)).toLocaleString)==null?void 0:_e.call(B))??String(D).split(",")[0]]}),L.length>0?A.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow-sm p-4 border border-gray-100",children:[A.jsx("h5",{className:"text-lg font-bold text-cyan-800 mb-3 border-b pb-2",children:"تفاصيل المبيعات"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الكمية"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"السعر"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجمالي"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map((me,te)=>{var he;return A.jsxs("tr",{className:te%2===0?"bg-white":"bg-gray-50",children:[A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-700",children:(me==null?void 0:me.date)??((he=me==null?void 0:me.timestamp)!=null&&he.toDate?me.timestamp.toDate().toLocaleDateString("ar-SA"):"—")}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-center text-gray-700",children:me.count}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-left text-gray-700",children:Number(me.price)}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-left text-cyan-600",children:me.count*me.price})]},te)})})]})}),A.jsxs("div",{className:"mt-3 pt-3 border-t flex justify-between items-center",children:[A.jsxs("span",{className:"text-sm text-gray-500",children:["عدد : ",L.length]}),A.jsxs("span",{className:"font-bold text-cyan-700",children:["المجموع الكلي:"," ",L.reduce((me,te)=>me+te.count*te.price,0)," ","الف"," "]})]})]}):A.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg text-center",children:A.jsxs("p",{className:"text-gray-500 flex items-center justify-center",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"لا توجد مبيعات مسجلة"]})})]},P)})})]},w)})})]})]})},ZH=()=>A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"bg-cyan-800",children:A.jsx("h2",{className:"text-center text-2xl py-5 font-bold text-cyan-100",children:"المبيعات والمنتجات"})}),A.jsx("div",{className:"w-fit mx-auto",children:A.jsx(QH,{})})]}),JH=({packages:t})=>{const{register:e,handleSubmit:n,formState:{errors:r},reset:i}=gs(),s=async(f,d,m)=>{try{const g=cr(Xe,f,m),v=await ly(g);v.exists()&&(await Kl(cr(Xe,d,m),v.data()),await lh(g),console.log(`تم نقل المستند ${m} بنجاح!`))}catch(g){console.error("خطأ أثناء النقل:",g)}},l=async f=>{let d=Number(f.consumed);const m=[...t].sort((g,v)=>{var w,x;const _=((w=g.createdAt)==null?void 0:w.seconds)||0,E=((x=v.createdAt)==null?void 0:x.seconds)||0;return _-E});try{for(let g of m){if(d<=0)break;const v=Number(g.quantity);if(v<=0)continue;const _=Math.min(v,d),E={quantity:v-_,consumedAt:wt.fromDate(new Date),consumed:g.consumed===void 0?_:Number(g.consumed)+_};await Kl(cr(Xe,"packages2",g.id),E,{merge:!0}),E.quantity===0&&await s("packages2","consumedpackages2",g.id),d-=_}d>0?Ae.warn("لا يوجد كمية كافية لاستهلاك كامل الكمية المطلوبة",{position:"top-right",autoClose:3e3,rtl:!0}):Ae.success("تم استهلاك الكمية بنجاح",{position:"top-right",autoClose:2e3,rtl:!0}),i()}catch(g){Ae.error("حدث خطأ أثناء العملية: "+g.message,{position:"top-right",autoClose:4e3,rtl:!0})}},c=t.reduce((f,d)=>f+Number(d.quantity||0),0);return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"bg-white p-4 rounded shadow text-right border border-cyan-200",children:[A.jsx("h2",{className:"text-lg font-bold text-cyan-700",children:"إجمالي الكمية"}),A.jsx("p",{className:"text-2xl font-semibold",children:c})]}),A.jsxs("form",{onSubmit:n(l),className:"bg-white border border-cyan-200 p-4 rounded-lg shadow-sm w-full max-w-md mx-auto text-right space-y-3",children:[A.jsx("h2",{className:"text-lg font-bold text-cyan-700",children:"استهلاك من البكج"}),A.jsxs("div",{className:"flex flex-col gap-1",children:[A.jsx("label",{htmlFor:"count",className:"text-sm text-gray-700",children:"الكمية المستهلكة"}),A.jsx("input",{id:"count",type:"number",placeholder:"أدخل الكمية",min:1,...e("consumed",{required:"الكمية مطلوبة",min:{value:1,message:"يجب أن تكون الكمية على الأقل 1"}}),className:"border border-cyan-300 rounded-lg px-3 py-1 text-center focus:outline-none focus:ring-2 focus:ring-cyan-200"}),r.consumed&&A.jsx("span",{className:"text-red-500 text-xs",children:r.consumed.message})]}),A.jsx("button",{type:"submit",className:"mt-2 py-2 px-4 bg-cyan-700 cursor-pointer hover:bg-cyan-600 text-white rounded-lg text-sm transition",children:"إضافة"})]})]})},eK=()=>{const{id:t}=bN(),[e,n]=S.useState([]),[r,i]=S.useState(!0);S.useEffect(()=>{s(),i(!1)},[]);const s=()=>{console.log(t);const l=us(Ct(Xe,"packages2"),aa("itemId","==",t));return jo(l,f=>{const d=[];f.forEach(m=>{d.push({id:m.id,...m.data()})}),n(d)})};return S.useEffect(()=>{const l=s();return()=>l()},[t]),A.jsx("div",{className:"p-4 max-w-4xl mx-auto space-y-6 text-right",children:r?A.jsxs("div",{className:"flex items-center justify-center gap-2 text-cyan-700",children:["جاري التحميل...",A.jsx("img",{src:"https://media.tenor.com/WX_LDjYUrMsAAAAm/loading.webp",alt:"loading",className:"h-6 w-6"})]}):A.jsxs(A.Fragment,{children:[A.jsx("h2",{className:"text-2xl font-bold text-cyan-800",children:"معلومات الباقة"}),A.jsx(JH,{packages:e})]})})};function tK(t){return Er({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 160H96C43 160 0 203 0 256V480C0 497.625 14.375 512 32 512H288C305.625 512 320 497.625 320 480V256C320 203 277 160 224 160ZM160 416C115.875 416 80 380.125 80 336S115.875 256 160 256S240 291.875 240 336S204.125 416 160 416ZM224 32C224 14.375 209.625 0 192 0H128C110.375 0 96 14.375 96 32V128H224V32ZM381.781 51.578C383 50.969 384 49.359 384 48C384 46.625 383 45.031 381.781 44.422L352 32L339.562 2.219C338.969 1 337.375 0 336 0S333.031 1 332.406 2.219L320 32L290.219 44.422C289 45.031 288 46.625 288 48C288 49.359 289 50.969 290.219 51.578L320 64L332.406 93.781C333.031 95 334.625 96 336 96S338.969 95 339.562 93.781L352 64L381.781 51.578ZM448 64L460.406 93.781C461.031 95 462.625 96 464 96S466.969 95 467.562 93.781L480 64L509.781 51.578C511 50.969 512 49.359 512 48C512 46.625 511 45.031 509.781 44.422L480 32L467.562 2.219C466.969 1 465.375 0 464 0S461.031 1 460.406 2.219L448 32L418.219 44.422C417 45.031 416 46.625 416 48C416 49.359 417 50.969 418.219 51.578L448 64ZM480 224L467.562 194.219C466.969 193 465.375 192 464 192S461.031 193 460.406 194.219L448 224L418.219 236.422C417 237.031 416 238.625 416 240C416 241.359 417 242.969 418.219 243.578L448 256L460.406 285.781C461.031 287 462.625 288 464 288S466.969 287 467.562 285.781L480 256L509.781 243.578C511 242.969 512 241.359 512 240C512 238.625 511 237.031 509.781 236.422L480 224ZM445.781 147.578C447 146.969 448 145.359 448 144C448 142.625 447 141.031 445.781 140.422L416 128L403.562 98.219C402.969 97 401.375 96 400 96S397.031 97 396.406 98.219L384 128L354.219 140.422C353 141.031 352 142.625 352 144C352 145.359 353 146.969 354.219 147.578L384 160L396.406 189.781C397.031 191 398.625 192 400 192S402.969 191 403.562 189.781L416 160L445.781 147.578Z"},child:[]}]})(t)}function nK(t){return Er({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function rK(t){return Er({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(t)}function iK(t){return Er({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(t)}function aK(t){return Er({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function sK(t){return Er({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(t)}function oK(t){return Er({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(t)}function lK(t){return Er({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"},child:[]}]})(t)}function uK(t){return Er({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function cK(t){return Er({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 216v16c0 13.255-10.745 24-24 24h-8l-26.113 182.788C514.509 462.435 494.257 480 470.37 480H105.63c-23.887 0-44.139-17.565-47.518-41.212L32 256h-8c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h67.341l106.78-146.821c10.395-14.292 30.407-17.453 44.701-7.058 14.293 10.395 17.453 30.408 7.058 44.701L170.477 192h235.046L326.12 82.821c-10.395-14.292-7.234-34.306 7.059-44.701 14.291-10.395 34.306-7.235 44.701 7.058L484.659 192H552c13.255 0 24 10.745 24 24zM312 392V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm112 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm-224 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24z"},child:[]}]})(t)}function pb(t){return Er({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function fK(t){return Er({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const dK=()=>{const t=ps(),[e,n]=S.useState(!1),[r,i]=S.useState(!1),s=async()=>{await k7(cy),console.log("تم تسجيل الخروج")},l=[{label:"المبيعات والمنتجات",path:"/qichi-tala/products",icon:A.jsx(cK,{})},{label:"إضافة جديد",path:"/qichi-tala/add",icon:A.jsx(uK,{})},{label:"المحاسبة",path:"/qichi-tala/accounting",icon:A.jsx(iK,{})}];return A.jsxs("nav",{className:"bg-cyan-900 text-white shadow-md transition-all",children:[A.jsxs("div",{className:"container mx-auto px-4 py-2 flex items-center justify-between",children:[A.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"لوحة التحكم"}),A.jsx("button",{className:"sm:hidden text-white text-xl cursor-pointer",onClick:()=>n(!e),"aria-label":"قائمة التنقل",children:e?A.jsx(fK,{}):A.jsx(nK,{})})]}),A.jsxs("div",{className:`sm:hidden overflow-hidden transition-all duration-500 ease-in-out relative ${e?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:[A.jsx("ul",{className:"flex flex-col items-end gap-4 px-4 py-2",dir:"rtl",children:l.map(c=>{const f=t.pathname===c.path;return A.jsx("li",{children:A.jsxs("a",{href:c.path,className:`flex items-center justify-between gap-3 px-3 py-2 rounded hover:text-cyan-300 transition-colors duration-200 ${f?"bg-cyan-700 text-cyan-100":""}`,children:[A.jsx("span",{className:"text-sm sm:text-base",children:c.label}),c.icon]})},c.path)})}),A.jsx("div",{className:"flex justify-end",children:A.jsx("button",{onClick:()=>i(!0),className:"flex items-center justify-between group w-fit p-3 m-2 hover:bg-red-400  rounded-lg transition-all duration-200 cursor-pointer",children:A.jsxs("div",{className:"flex group-hover:text- items-center gap-3",children:[A.jsx("div",{className:"bg-red-500 p-2 rounded-lg",children:A.jsx(pb,{className:"text-lg"})}),A.jsx("span",{className:"font-medium text-red-100 hover:",children:"تسجيل الخروج"})]})})})]}),A.jsxs("ul",{className:"hidden sm:flex sm:items-center gap-6 px-4 py-2 flex-row flex-wrap",dir:"rtl",children:[l.map(c=>{const f=t.pathname===c.path;return A.jsx("li",{children:A.jsxs("a",{href:c.path,className:`flex items-center justify-between gap-3 px-3 py-2 rounded hover:text-cyan-300 transition-colors duration-200 ${f?"bg-cyan-700 text-cyan-100":""}`,children:[A.jsx("span",{className:"text-sm sm:text-base",children:c.label}),c.icon]})},c.path)}),A.jsx("li",{children:A.jsx("button",{onClick:()=>i(!0),className:"flex items-center justify-between group w-fit p-3 m-2 hover:bg-red-400  rounded-lg transition-all duration-200 cursor-pointer",children:A.jsxs("div",{className:"flex flex-row-reverse group-hover:text- items-center gap-3",children:[A.jsx("div",{className:"bg-red-500 p-2 rounded-lg",children:A.jsx(pb,{className:"text-lg"})}),A.jsx("span",{className:"font-medium text-red-100 hover:",children:"تسجيل الخروج"})]})})})]}),r&&A.jsx("div",{class:"absolute inset-0 z-10 w-screen bg-gray-50/70 overflow-y-auto",children:A.jsx("div",{class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0",children:A.jsxs("div",{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[A.jsx("div",{class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:A.jsxs("div",{class:"sm:flex sm:items-start",children:[A.jsx("div",{class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:A.jsx(pb,{className:"text-red-600 text-lg"})}),A.jsxs("div",{class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[A.jsx("h3",{id:"modal-title",class:"text-base font-semibold leading-6 text-gray-900",children:"تسجيل الخروج"}),A.jsx("div",{class:"mt-2",children:A.jsx("p",{class:"text-sm text-gray-500",children:"هل تريد تسجيل الخروج؟"})})]})]})}),A.jsxs("div",{class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[A.jsx("button",{class:"inline-flex w-full cursor-pointer justify-center rounded bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",type:"button",onClick:()=>s(),children:"تسجيل الخروج"}),A.jsx("button",{onClick:()=>i(!1),class:"mt-3 inline-flex w-full cursor-pointer justify-center rounded bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",type:"button",children:"الغاء"})]})]})})})]})};function hK(t){return Er({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"},child:[]}]})(t)}const mK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,s]=S.useState(null);S.useEffect(()=>{const c=jo(Ct(Xe,"items2"),f=>{const d=f.docs.map(m=>({id:m.id,name:m.data().name,consumable:m.data().consumable??!1}));e(d),r(!1)},f=>{console.error("Firestore error:",f),r(!1)});return()=>c()},[]);const l=async c=>{s(c.id);try{const f=cr(Xe,"items2",c.id);await _H(f,{consumable:!c.consumable}),Ae.success(`تم تحديث ${c.name} إلى ${c.consumable?"غير قابل للاستهلاك":"قابل للاستهلاك"}`,{rtl:!0})}catch(f){Ae.error("فشل في تحديث المنتج: "+f.message,{rtl:!0})}s(null)};return A.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-cyan-100 max-w-md mx-auto",children:[A.jsx("div",{className:"bg-cyan-800 text-white px-4 py-2 text-right",children:A.jsx("h3",{className:"font-semibold",children:"المنتجات"})}),A.jsx("div",{className:"p-4",children:n?A.jsxs("div",{className:"flex items-center gap-2 text-cyan-700",children:[A.jsx("span",{children:"جار التحميل..."}),A.jsx("img",{src:"https://media.tenor.com/WX_LDjYUrMsAAAAm/loading.webp",alt:"loading",className:"h-6 w-6"})]}):t.length===0?A.jsx("span",{className:"text-gray-500 text-sm",children:"لا توجد منتجات"}):A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsxs("div",{className:`flex justify-center items-center gap-1 w-fit p-1 px-2 mx-auto \r
            text-sm text-cyan-900 bg-amber-300 rounded `,children:[A.jsx(hK,{size:20}),"المنتجات القابلة للأستهلاك هي التي تستخدم في الخدمات"]}),t.map(c=>A.jsxs("div",{className:"flex justify-between items-center shadow rounded px-3 py-2",children:[A.jsx("span",{className:"text-sm font-medium",children:c.name}),A.jsx("button",{disabled:i===c.id,onClick:()=>l(c),className:`text-xs px-3 py-2 font-bold rounded cursor-pointer transition-colors duration-200 ${c.consumable?"bg-green-200 text-green-900 hover:bg-green-400":"bg-red-300 text-red-900 hover:bg-red-400"}`,children:i===c.id?"جارٍ التحديث...":c.consumable?"قابل للاستهلاك":"غير قابل للاستهلاك"})]},c.id))]})})]})},pK=()=>{const{register:t,handleSubmit:e,reset:n}=gs(),r=async i=>{if(i.name.trim()===""){Ae.error("الرجاء إدخال اسم المنتج",{position:"top-right",autoClose:3e3,rtl:!0});return}try{await jc(Ct(Xe,"items2"),{name:i.name,consumable:!1}),Ae.success("تمت إضافة المنتج بنجاح",{position:"top-right",autoClose:2e3,rtl:!0}),n()}catch(s){Ae.error("فشل في إضافة المنتج: "+s.message,{position:"top-right",autoClose:4e3,rtl:!0})}};return A.jsxs(A.Fragment,{children:[A.jsx("form",{onSubmit:e(r),className:"space-y-4 p-4",children:A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-cyan-800 text-right",children:"اسم المنتج"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{id:"name",type:"text",...t("name"),className:"flex-1 p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-right",placeholder:"أدخل اسم المنتج",dir:"rtl"}),A.jsx("button",{type:"submit",className:"bg-cyan-700 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"إضافة"})]})]})}),A.jsx(mK,{})]})},gK=()=>{const[t,e]=S.useState([]);S.useEffect(()=>{n()},[]);const n=()=>jo(Ct(Xe,"packages2"),f=>{const d=[];f.forEach(m=>{var v;const g={id:m.id,...m.data()};g.consumedAt=(g==null?void 0:g.consumed)===void 0?"لم يتم الاستهلاك":(v=g==null?void 0:g.consumedAt)==null?void 0:v.toDate().toDateString(),d.push(g)}),d.sort((m,g)=>{var E,w;const v=(E=m.created_date)!=null&&E.toDate?m.created_date.toDate():new Date(m.created_date);return((w=g.created_date)!=null&&w.toDate?g.created_date.toDate():new Date(g.created_date))-v}),e(d)}),r={bought_price:"سعر الشراء",createdAt:"تاريخ الإنشاء",created_date:"تاريخ الإنشاء",item_name:"اسم المنتج",quantity:"الكمية المتبقية",sold:"المبيعات السابقة",count:"العدد",date:"التاريخ",price:"السعر",consumed:"مستخدم شخصيى",consumedAt:"اخر تاريخ استهلاك"},i=new Set(["id","itemId"]),s=c=>Array.isArray(c)?c.length===0?A.jsx("em",{children:"لا توجد عناصر"}):A.jsx("ul",{className:"list-disc list-inside space-y-1 max-h-48 overflow-y-auto pr-5 text-sm",children:c.map((f,d)=>A.jsx("li",{className:"border-b border-gray-200 pb-1",children:typeof f=="object"?l(f):String(f)},d))}):typeof c=="object"&&c!==null?l(c):A.jsx("span",{children:String(c)}),l=c=>A.jsx("table",{className:"w-full text-sm border border-gray-300 rounded-md mt-1",children:A.jsx("tbody",{children:Object.entries(c).map(([f,d])=>i.has(f)||f==="createdAt"?null:A.jsxs("tr",{className:"odd:bg-gray-50 even:bg-white",children:[A.jsx("td",{className:"border px-2 py-1 font-semibold text-gray-700 w-1/3 pr-3 text-right",children:r[f]||f.replace(/_/g," ")}),A.jsx("td",{className:"border px-2 py-1 text-right",children:s(d)})]},f))})});return A.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 text-right font-sans",children:[A.jsx("h1",{className:"text-3xl font-bold text-cyan-800 mb-6",children:"قائمة البكجات"}),t.length===0?A.jsx("p",{className:"text-gray-500 text-center",children:"لا توجد بكجات لعرضها."}):t.map(c=>A.jsxs("div",{className:"bg-cyan-50 rounded-lg shadow-md border border-cyan-300 p-5 hover:shadow-lg transition-shadow duration-300",children:[A.jsx("h2",{className:"text-xl font-semibold text-cyan-700 mb-3",children:"بكج جديد"}),A.jsx("div",{className:"overflow-x-auto",children:l(c)})]},c.id))]})},yK=()=>{const{register:t,control:e,handleSubmit:n,reset:r}=gs({defaultValues:{packages:[{itemId:"",quantity:"",purchase_price:""}]}}),{fields:i,append:s,remove:l}=kE({control:e,name:"packages"}),[c,f]=S.useState([]),[d,m]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const E=(await Ur(Ct(Xe,"items2"))).docs.map(w=>({id:w.id,name:w.data().name}));f(E)}catch{Ae.error("فشل في تحميل قائمة المنتجات",{rtl:!0})}})()},[]);const g=async v=>{const{packages:_}=v,E=_.filter(x=>x.itemId&&x.quantity&&x.purchase_price);if(E.length===0){Ae.warning("يجب إدخال منتج واحد على الأقل",{rtl:!0});return}m(!0);const w=Ae.loading("جاري إضافة المنتجات...",{rtl:!0});try{const x=new Date().toLocaleString();await Promise.all(E.map(async C=>{const R=c.find(k=>k.id===C.itemId);await jc(Ct(Xe,"packages2"),{created_date:x,itemId:C.itemId,item_name:(R==null?void 0:R.name)||"",bought_price:C.purchase_price,quantity:C.quantity,createdAt:new Date})})),Ae.update(w,{render:"تمت إضافة المنتجات بنجاح",type:"success",isLoading:!1,autoClose:2e3,rtl:!0}),r()}catch(x){Ae.update(w,{render:`حدث خطأ: ${x.message}`,type:"error",isLoading:!1,autoClose:4e3,rtl:!0}),console.error("خطأ:",x)}finally{m(!1)}};return A.jsxs(A.Fragment,{children:[A.jsxs("form",{onSubmit:n(g),className:"space-y-4 p-4",children:[A.jsx("h3",{className:"text-xl font-semibold text-cyan-800 text-right",children:"إضافة مشتريات متعددة"}),i.map((v,_)=>A.jsxs("div",{className:"p-4 border border-cyan-200 rounded-lg space-y-4 bg-white",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("h4",{className:"font-bold text-cyan-700 text-right",children:["منتج #",_+1]}),i.length>1&&A.jsxs("button",{type:"button",onClick:()=>l(_),className:`text-white bg-red-500 hover:bg-red-600 cursor-pointer\r
             px-3 py-2 rounded-lg transition-colors duration-200 flex gap-1 items-center justify-center`,children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"حذف"]})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{className:"block text-sm font-medium text-cyan-800",children:"اختر المنتج"}),A.jsxs("select",{...t(`packages.${_}.itemId`,{required:!0}),className:"w-full p-2 border border-cyan-300 rounded-lg",dir:"rtl",children:[A.jsx("option",{value:"",children:"اختر منتج..."}),c.map(E=>A.jsx("option",{value:E.id,children:E.name},E.id))]})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{className:"block text-sm font-medium text-cyan-800",children:"الكمية"}),A.jsx("input",{type:"number",min:"1",...t(`packages.${_}.quantity`,{required:!0}),className:"w-full p-2 border border-cyan-300 rounded-lg",placeholder:"أدخل الكمية",dir:"rtl"})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{className:"block text-sm font-medium text-cyan-800",children:"سعر الشراء"}),A.jsx("input",{type:"number",min:"0",...t(`packages.${_}.purchase_price`,{required:!0}),className:"w-full p-2 border border-cyan-300 rounded-lg",placeholder:"أدخل سعر الشراء",dir:"rtl"})]})]},v.id)),A.jsx("div",{className:"flex justify-end",children:A.jsx("button",{type:"button",onClick:()=>s({itemId:"",quantity:"",purchase_price:""}),className:"mt-2 px-4 py-2 bg-cyan-100 text-cyan-800 rounded hover:bg-cyan-200 transition flex items-center justify-center gap-1 text-right mr-auto",children:"+ إضافة منتج آخر"})}),A.jsx("button",{type:"submit",disabled:d,className:`w-full py-2 px-4 bg-cyan-700 hover:bg-cyan-600 text-white rounded-lg transition-colors duration-200 ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"جاري الإضافة...":"إضافة كل المنتجات"})]}),A.jsx(gK,{})]})},vK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0);return S.useEffect(()=>{const i=jo(Ct(Xe,"service2"),s=>{const l=[];s.forEach(c=>{l.push({id:c.id,name:c.data().name})}),e(l),r(!1)},s=>{console.error("Error fetching services:",s),r(!1)});return()=>i()},[]),A.jsxs("div",{className:"bg-cyan-50 p-4",children:[A.jsx("div",{className:"mb-4 text-center",children:A.jsx("h2",{className:"text-xl font-bold text-cyan-900",children:"الخدمات "})}),n?A.jsx("div",{className:"text-center py-4 text-cyan-700",children:"جاري التحميل..."}):A.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-sm overflow-hidden border border-cyan-100",children:[t.map(i=>A.jsx("div",{className:"px-4 py-3 border-b border-cyan-50 last:border-b-0 text-right hover:bg-cyan-50",children:A.jsx("span",{className:"text-cyan-800 font-medium",children:i.name})},i.id)),t.length===0&&A.jsx("div",{className:"px-4 py-3 text-center text-cyan-700",children:"لا توجد خدمات متاحة"})]})]})},bK=()=>{const{register:t,handleSubmit:e,reset:n}=gs(),r=async i=>{if(i.name.trim()===""){Ae.warning("الرجاء إدخال اسم الخدمة",{rtl:!0});return}try{await jc(Ct(Xe,"service2"),{name:i.name,createdAt:new Date}),Ae.success("تمت إضافة الخدمة بنجاح",{rtl:!0}),n()}catch(s){Ae.error("فشل في الإضافة: "+s.message,{rtl:!0})}};return A.jsxs(A.Fragment,{children:[A.jsxs("form",{onSubmit:e(r),className:"p-4 ",children:[A.jsx("h3",{className:"text-xl text-cyan-800 font-bold text-right mb-4",children:"إضافة خدمة جديدة"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{...t("name"),className:"flex-1 p-2 border border-cyan-300 rounded-lg text-right",placeholder:"اسم الخدمة",dir:"rtl"}),A.jsx("button",{type:"submit",className:"bg-cyan-700 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg transition",children:"حفظ"})]})]}),A.jsx(vK,{})]})},_K=({products:t,onChange:e})=>{const[n,r]=S.useState([]),[i,s]=S.useState([]),[l,c]=S.useState([]),[f,d]=S.useState(null);S.useEffect(()=>{m()},[]),S.useEffect(()=>{let E=[];const w={};i.forEach(x=>{t.forEach(k=>{x.itemId===k.id&&E.push(k)});const C=x.itemId,R=Number(x.quantity)||0;w[C]?w[C].quantity+=R:w[C]={quantity:R,name:x.item_name}}),d(w),c(E)},[i]),S.useEffect(()=>{e(n)},[n]);const m=async()=>{const E=await Ur(Ct(Xe,"packages2")),w=[];E.forEach(x=>{w==null||w.push({id:x.id,...x.data()})}),s(w)},g=(E,w,x)=>{const C=[...n];C[E][w]=x,r(C)},v=()=>{r([...n,{productId:"",quantity:1}])},_=E=>{r(n.filter((w,x)=>x!==E))};return A.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[A.jsx("h2",{className:"text-xl font-bold pt-3 text-cyan-800 text-right",children:"المنتجات المستهلكة للخدمة"}),n.map((E,w)=>A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("select",{value:E.productId,onChange:x=>g(w,"productId",x.target.value),className:"border p-2 rounded w-full border-cyan-300 focus:ring-2 focus:ring-cyan-500 text-right",dir:"rtl",children:[A.jsx("option",{value:"",children:"اختر منتج"}),t.filter(x=>(l==null?void 0:l.includes(x))&(x==null?void 0:x.consumable)===!0).map(x=>{var C;return A.jsxs("option",{value:x.id,children:[x.name," ",`( ${(C=f[x.id])==null?void 0:C.quantity} متاح)`]},x.id)}),t.filter(x=>(l==null?void 0:l.includes(x))&(x==null?void 0:x.consumable)===!1).map(x=>{var C;return A.jsxs("option",{value:x.id,children:[x.name," ",`( ${(C=f[x.id])==null?void 0:C.quantity} متاح)`]},x.id)}),t.filter(x=>!(l!=null&&l.includes(x))).map(x=>A.jsxs("option",{value:x.id,disabled:!0,children:[x.name," (غير متوفر)"]},x.id))]}),A.jsx("input",{type:"number",min:"1",value:E.quantity,onChange:x=>g(w,"quantity",x.target.value),className:"w-24 p-2 border rounded border-cyan-300 focus:ring-2 focus:ring-cyan-500 text-right",dir:"rtl"}),A.jsxs("button",{type:"button",onClick:()=>_(w),className:`text-white bg-red-500 hover:bg-red-600 cursor-pointer\r
             px-3 py-2 rounded-lg transition-colors duration-200 flex gap-1 items-center justify-center`,children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"حذف"]})]},w)),A.jsxs("button",{type:"button",onClick:v,className:"mt-2 px-4 py-2 cursor-pointer bg-cyan-100 text-cyan-800 rounded hover:bg-cyan-200 transition flex items-center justify-center gap-1 text-right mr-auto",dir:"rtl",children:[A.jsx("span",{children:"+"}),A.jsx("span",{children:"إضافة منتج مستهلك"})]})]})},wK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{const l=new Date;l.setDate(l.getDate()-7);const c=us(Ct(Xe,"servicepackages2"),CE("created_date","desc")),f=jo(c,d=>{const m=[];d.forEach(v=>{m.push({id:v.id,...v.data()})});const g=m.filter(v=>v.created_date?new Date(v.created_date)>=l:!1);g.sort((v,_)=>new Date(_.created_date)-new Date(v.created_date)),e(g),r(!1)},d=>{console.error("خطأ في تحميل البيانات:",d),r(!1)});return()=>f()},[]);const i=l=>{Ae.info(A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"mb-2",children:"هل أنت متأكد من الحذف؟"}),A.jsxs("div",{className:"flex justify-center gap-2",children:[A.jsx("button",{onClick:()=>s(l),className:"bg-red-500 text-white px-3 py-1 rounded",children:"تأكيد"}),A.jsx("button",{onClick:()=>Ae.dismiss(),className:"bg-gray-300 text-black px-3 py-1 rounded",children:"إلغاء"})]})]}),{autoClose:!1,closeOnClick:!1,draggable:!1,position:"top-center"})},s=async l=>{Ae.dismiss();try{await lh(cr(Xe,"servicepackages2",l)),Ae.success("تم حذف باقة الخدمة بنجاح")}catch(c){console.error("خطأ في الحذف:",c),Ae.error("فشل في حذف باقة الخدمة")}};return A.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-cyan-100",children:[A.jsx("div",{className:"bg-cyan-800 text-white px-4 py-2 text-right",children:A.jsx("h3",{className:"font-semibold",children:"الخدمات المقدمة اخر سبع ايام"})}),A.jsx("div",{className:"p-4",children:n?A.jsxs("div",{className:"flex items-center gap-2 text-cyan-700",children:[A.jsx("span",{children:"جار التحميل..."}),A.jsx("img",{src:"https://media.tenor.com/WX_LDjYUrMsAAAAm/loading.webp",alt:"loading",className:"h-6 w-6"})]}):t.length>0?A.jsx("div",{className:"space-y-4",children:t.map(l=>A.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 shadow-sm",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[A.jsx(ao,{color:"bg-sky-300",label:"اسم الخدمة",value:l.service_name}),A.jsx(ao,{color:"bg-amber-500",label:"التاريخ",value:l.created_date}),A.jsx(ao,{color:"bg-blue-300",label:"سعر البيع",value:l.sold_price}),A.jsx(ao,{color:"bg-emerald-300",label:"الكمية المباعة",value:l.sold_quantity}),A.jsx(ao,{color:"bg-amber-300",label:"الربح",value:l.profit}),(l==null?void 0:l.itemId)&&A.jsxs(A.Fragment,{children:[A.jsx(ao,{color:"bg-fuchsia-300",label:"رقم المنتج",value:l.itemId}),A.jsx(ao,{color:"bg-lime-300",label:"اسم المنتج",value:l.item_name}),A.jsx(ao,{color:"bg-indigo-300",label:"تكلفة المواد المستهلكة",value:l.consumed_total_price})]})]}),A.jsx("button",{onClick:()=>i(l.id),className:"mt-4 w-full bg-red-200 hover:bg-red-300 text-red-600 py-2 rounded-lg transition-colors cursor-pointer duration-200",type:"button",children:"حذف باقة الخدمة"})]},l.id))}):A.jsx("span",{className:"text-gray-500 text-sm",children:"لا توجد بيانات"})})]})},ao=({color:t,label:e,value:n})=>A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`${t} px-2 py-0.5 text-white rounded-full`,children:e}),A.jsx("span",{className:"font-semibold",children:n})]}),EK=()=>{const{register:t,handleSubmit:e,control:n,reset:r,watch:i}=gs({defaultValues:{packages:[{date:new Date().toLocaleString(),serviceId:"",sold_price:"",sold_quantity:1,consumed:[]}]}}),{fields:s,append:l,remove:c}=kE({control:n,name:"packages"}),[f,d]=S.useState([]),[m,g]=S.useState([]),[v,_]=S.useState(!1);S.useEffect(()=>{E(),w()},[]);const E=async()=>{try{const q=await Ur(Ct(Xe,"service2"));d(q.docs.map(M=>({id:M.id,...M.data()})))}catch(q){throw Ae.error("فشل في تحميل الخدمات",{rtl:!0}),q}},w=async()=>{try{const q=await Ur(Ct(Xe,"items2"));g(q.docs.map(M=>({id:M.id,...M.data()})))}catch(q){throw Ae.error("فشل في تحميل المنتجات",{rtl:!0}),q}},x=async q=>{if(!(q!=null&&q.length))return[];const M=us(Ct(Xe,"packages2"),aa("itemId","in",q));return(await Ur(M)).docs.map(P=>({id:P.id,...P.data()}))},C=async(q,M,U)=>{try{const P=cr(Xe,q,U),N=await ly(P);if(N.exists()){const D=cr(Xe,M,U);await Kl(D,N.data()),await lh(P)}}catch(P){throw Ae.error(`خطأ في نقل العنصر: ${P.message}`,{rtl:!0}),P}},R=async q=>{var U;if(!q.packages||q.packages.length===0){Ae.warning("الرجاء تعبئة على الأقل باقة واحدة",{rtl:!0});return}_(!0);const M=Ae.loading("جاري حفظ باقات الخدمة...",{rtl:!0});try{for(const P of q.packages){if(!P.serviceId||!P.sold_quantity){Ae.warning("الرجاء تعبئة جميع الحقول المطلوبة في كل باقة",{rtl:!0}),_(!1),Ae.dismiss(M);return}const N=P.consumed||[],D=[],L=[];N.forEach(xe=>{if(xe!=null&&xe.productId&&(xe!=null&&xe.quantity)){const H=m.find(({id:oe})=>oe===xe.productId);H&&(H.count=Number(xe.quantity),L.push(H),D.push(H.id))}});const z=await x(D);let F=0;L.forEach(xe=>{const H=z.find(ye=>ye.itemId===xe.id),oe=Number((H==null?void 0:H.bought_price)||0),ue=Number(xe.count||0);xe.price=oe,F+=oe*ue});const _e=Number(P.sold_price)*Number(P.sold_quantity)-F,me={created_date:P.date,createdAt:wt.fromDate(new Date(P.date)),serviceId:P.serviceId,service_name:((U=f.find(({id:xe})=>xe===P.serviceId))==null?void 0:U.name)||"",sold_price:Number(P.sold_price),sold_quantity:Number(P.sold_quantity),profit:_e,consumed:L},te=[],he=[];L.forEach(xe=>{const H=Number(xe.count),oe=z.filter(ye=>ye.itemId===xe.id).sort((ye,we)=>new Date(ye.created_date)-new Date(we.created_date));let ue=H;for(let ye of oe){if(ue<=0)break;const we=Number(ye.quantity),Me=Math.min(we,ue),ze=we-Me;he.push(Kl(cr(Xe,"packages2",ye.id),{quantity:ze},{merge:!0})),ze<=0&&te.push(ye.id),ue-=Me}}),await Promise.all(he),await jc(Ct(Xe,"servicepackages2"),me);const ve=te.map(xe=>C("packages2","consumedpackages2",xe));await Promise.all(ve)}Ae.success("تمت إضافة جميع باقات الخدمة بنجاح",{rtl:!0}),r()}catch(P){Ae.error(`حدث خطأ: ${P.message}`,{rtl:!0}),console.error("حدث خطأ أثناء الإضافة:",P)}finally{Ae.dismiss(M),_(!1)}},k=(q,M)=>{const U=i("packages");U[q].consumed=M};return A.jsxs(A.Fragment,{children:[A.jsxs("form",{onSubmit:e(R),className:"p-4 space-y-6 mb-4",children:[A.jsx("h3",{className:"text-2xl font-bold text-cyan-800 text-right",children:"إضافة باقات خدمة جديدة"}),s.map((q,M)=>A.jsxs("div",{className:"shadow bg-cyan-50 p-4 rounded-lg space-y-4",children:[A.jsxs("h4",{className:"font-semibold text-cyan-700 text-right",children:["باقة رقم ",M+1]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{htmlFor:`packages.${M}.date`,className:"block text-sm font-medium text-cyan-800",children:"التاريخ"}),A.jsx("input",{id:`packages.${M}.date`,disabled:!0,className:"w-full p-2 border border-cyan-300 rounded-lg bg-gray-100 text-right",...t(`packages.${M}.date`),defaultValue:new Date().toLocaleString()})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{htmlFor:`packages.${M}.serviceId`,className:"block text-sm font-medium text-cyan-800",children:"الخدمة"}),A.jsxs("select",{id:`packages.${M}.serviceId`,className:"w-full p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-right",...t(`packages.${M}.serviceId`,{required:!0}),dir:"rtl",defaultValue:"",children:[A.jsx("option",{value:"",disabled:!0,children:"اختر خدمة..."}),f.map(U=>A.jsx("option",{value:U.id,children:U.name},U.id))]})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{htmlFor:`packages.${M}.sold_price`,className:"block text-sm font-medium text-cyan-800",children:"سعر البيع"}),A.jsx("input",{id:`packages.${M}.sold_price`,type:"number",className:"w-full p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-right",...t(`packages.${M}.sold_price`),placeholder:"أدخل سعر البيع",dir:"rtl",min:"0",defaultValue:""})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{htmlFor:`packages.${M}.sold_quantity`,className:"block text-sm font-medium text-cyan-800",children:"الكمية المباعة"}),A.jsx("input",{id:`packages.${M}.sold_quantity`,type:"number",className:"w-full p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-right",...t(`packages.${M}.sold_quantity`),placeholder:"أدخل الكمية المباعة",dir:"rtl",min:"1",defaultValue:1})]}),f.length>0&&m.length>0&&A.jsx(_K,{products:m,onChange:U=>k(M,U)}),s.length>1&&A.jsxs("button",{type:"button",onClick:()=>c(M),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:["حذف هذه الباقة ",A.jsx("span",{className:"font-bold text-lg",children:"-"})]})]},q.id)),A.jsx("button",{type:"button",onClick:()=>l({date:new Date().toLocaleString(),serviceId:"",sold_price:"",sold_quantity:1,consumed:[]}),className:"mt-2 px-4 py-2 cursor-pointer bg-cyan-100 text-cyan-800 rounded hover:bg-cyan-200 transition flex items-center justify-center gap-1 text-right mr-auto",children:"إضافة باقة خدمة جديدة +"}),A.jsx("button",{type:"submit",disabled:v,className:`w-full py-3 px-4 cursor-pointer bg-cyan-700 hover:bg-cyan-600 text-white rounded-lg transition-colors duration-200 ${v?"opacity-50 cursor-not-allowed":""}`,children:v?"جاري الحفظ...":"إضافة جميع الباقات"})]}),A.jsx(wK,{})]})},xK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0);return S.useEffect(()=>{const i=us(Ct(Xe,"expense2"),CE("createdAt","desc")),s=jo(i,l=>{const c=l.docs.map(f=>({id:f.id,...f.data()}));e(c),r(!1)});return()=>s()},[]),A.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-cyan-100",children:[A.jsx("div",{className:"bg-cyan-800 text-white px-4 py-2 text-right",children:A.jsx("h3",{className:"font-semibold",children:"المصاريف"})}),A.jsx("div",{className:"p-4",children:n?A.jsxs("div",{className:"flex items-center gap-2 text-cyan-700",children:[A.jsx("span",{children:"جار التحميل..."}),A.jsx("img",{src:"https://media.tenor.com/WX_LDjYUrMsAAAAm/loading.webp",alt:"loading",className:"h-6 w-6"})]}):A.jsx("div",{className:"flex flex-wrap gap-2",children:t.length>0?t.map(i=>A.jsx("span",{className:"bg-indigo-200 text-indigo-800 px-3 py-1 rounded-full text-sm",children:i.name},i.id)):A.jsx("span",{className:"text-gray-500 text-sm",children:"لا توجد مصاريف"})})})]})},TK=()=>{const{register:t,handleSubmit:e,reset:n}=gs(),r=async i=>{if(i.name.trim()===""){Ae.error("اسم المصروف مطلوب",{rtl:!0});return}try{await jc(Ct(Xe,"expense2"),{name:i.name,createdAt:new Date}),Ae.success("تم إضافة المصروف",{rtl:!0,icon:"💰"}),n()}catch(s){Ae.error("خطأ في الحفظ: "+s.message,{rtl:!0})}};return A.jsxs(A.Fragment,{children:[A.jsxs("form",{onSubmit:e(r),className:"p-4",children:[A.jsx("h3",{className:"text-xl font-bold text-cyan-800 text-right",children:"إضافة مصروف جديد"}),A.jsxs("div",{className:"mt-4 flex gap-2",children:[A.jsx("input",{...t("name"),className:"flex-1 p-2 border border-cyan-300 rounded-lg text-right",placeholder:"وصف المصروف",dir:"rtl"}),A.jsx("button",{type:"submit",className:"bg-cyan-700 text-white px-4 py-2 rounded-lg hover:bg-cyan-600 transition",children:"إضافة"})]})]}),A.jsx(xK,{})]})},AK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{const s=us(Ct(Xe,"expensepackages2"),CE("date","desc")),l=jo(s,c=>{const f=c.docs.map(d=>({id:d.id,...d.data()}));e(f),r(!1)});return()=>l()},[]);const i=s=>{Ae(({closeToast:l})=>A.jsxs("div",{className:"flex flex-col gap-3 p-2 w-100",children:[A.jsx("span",{className:"text-lg",children:"هل أنت متأكد من حذف هذا البكج؟"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:async()=>{try{await lh(cr(Xe,"expensepackages2",s)),Ae.success("تم الحذف بنجاح",{rtl:!0})}catch(c){Ae.error("خطأ في الحذف: "+c.message,{rtl:!0})}l()},className:"bg-red-600 text-white px-3 py-1 rounded",children:"حذف"}),A.jsx("button",{onClick:l,className:"bg-gray-400 text-white px-3 py-1 rounded",children:"إلغاء"})]})]}),{rtl:!0,autoClose:!1,closeOnClick:!1,draggable:!1})};return A.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-cyan-100",children:[A.jsx("div",{className:"bg-cyan-800 text-white px-4 py-2 text-right",children:A.jsx("h3",{className:"font-semibold",children:"بكجات المصاريف"})}),A.jsx("div",{className:"p-4",children:n?A.jsxs("div",{className:"flex items-center gap-2 text-cyan-700",children:[A.jsx("span",{children:"جار التحميل..."}),A.jsx("img",{src:"https://media.tenor.com/WX_LDjYUrMsAAAAm/loading.webp",alt:"loading",className:"h-6 w-6"})]}):t.length>0?A.jsx("div",{className:"space-y-4",children:t.map(s=>A.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 shadow-sm",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[A.jsx(Wm,{color:"bg-sky-300",label:"المنتج",value:s.item_name}),A.jsx(Wm,{color:"bg-amber-500",label:"التاريخ",value:s.date}),A.jsx(Wm,{color:"bg-blue-300",label:"السعر",value:s.price}),(s==null?void 0:s.quantity)&&A.jsx(Wm,{color:"bg-emerald-300",label:"الكمية",value:s.quantity})]}),A.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[A.jsx("a",{href:`/qichi-tala/expserv/${s.id}`,className:`bg-emerald-600 text-white px-4 py-1.5 rounded-md shadow-md\r
                    hover:scale-105 transition-all shadow-[5px_5px_rgba(0,_98,_90,_0.4),_10px_10px_rgba(0,_98,_90,_0.3)]`,children:"تعديل"}),A.jsx("button",{onClick:()=>i(s.id),className:`text-red-600 bg-red-100 hover:bg-red-300 cursor-pointer px-4 py-1.5 rounded-md shadow-md\r
                    hover:scale-105 transition-all shadow-[5px_5px_rgba(153,_27,_27,_0.4),_10px_10px_rgba(153,_27,_27,_0.3)]`,children:"حذف"})]})]},s.id))}):A.jsx("span",{className:"text-gray-500 text-sm",children:"لا توجد بيانات"})})]})},Wm=({color:t,label:e,value:n})=>A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`${t} px-2 py-0.5 text-white rounded-full`,children:e}),A.jsx("span",{className:"font-semibold",children:n})]}),SK=()=>{const{register:t,handleSubmit:e,reset:n}=gs(),[r,i]=S.useState([]),[s,l]=S.useState(!1);S.useEffect(()=>{f()},[]);const c=async d=>{if(!d.itemId||!d.price){Ae.warning("الرجاء تعبئة جميع الحقول المطلوبة",{position:"top-left",rtl:!0});return}l(!0);try{const m=r.find(({id:g})=>g===d.itemId);await jc(Ct(Xe,"expensepackages2"),{date:d.date,itemId:d.itemId,item_name:(m==null?void 0:m.name)||"",price:Number(d.price),createdAt:new Date}),Ae.success("تمت إضافة باقة المصروفات بنجاح",{position:"top-left",rtl:!0}),n()}catch(m){Ae.error(`حدث خطأ: ${m.message}`,{position:"top-left",rtl:!0}),console.error("حدث خطأ أثناء الإضافة:",m)}finally{l(!1)}},f=async()=>{try{const m=(await Ur(Ct(Xe,"expense2"))).docs.map(g=>({id:g.id,name:g.data().name}));i(m)}catch{Ae.error("فشل في تحميل أنواع المصروفات",{position:"top-left",rtl:!0})}};return A.jsxs(A.Fragment,{children:[A.jsxs("form",{onSubmit:e(c),className:"p-4 pb-6 space-y-6",children:[A.jsx("h3",{className:"text-2xl font-bold text-cyan-800 text-right",children:"إضافة باقة مصروفات جديدة"}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-cyan-800",children:"التاريخ"}),A.jsx("input",{id:"date",disabled:!0,className:"w-full p-2 border border-cyan-300 rounded-lg bg-gray-100 text-right",...t("date"),value:new Date(Date.now()).toLocaleString()})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{htmlFor:"itemId",className:"block text-sm font-medium text-cyan-800",children:"نوع المصروف"}),A.jsxs("select",{id:"itemId",className:"w-full p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-right",...t("itemId",{required:!0}),dir:"rtl",children:[A.jsx("option",{value:"",disabled:!0,children:"اختر نوع المصروف..."}),r.map(d=>A.jsx("option",{value:d.id,children:d.name},d.id))]})]}),A.jsxs("div",{className:"space-y-2 text-right",children:[A.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-cyan-800",children:"المبلغ"}),A.jsx("input",{id:"price",type:"number",className:"w-full p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-right",...t("price"),placeholder:"أدخل المبلغ",dir:"rtl",min:"0",step:"0.01"})]}),A.jsx("button",{type:"submit",disabled:s,className:`w-full py-3 px-4 bg-cyan-700 hover:bg-cyan-600 text-white rounded-lg transition-colors duration-200 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"جاري الحفظ...":"إضافة باقة المصروفات"})]}),A.jsx(AK,{})]})},AO=[{label:"منتج",icon:A.jsx(rK,{}),component:A.jsx(pK,{})},{label:"باقة مشتريات",icon:A.jsx(sK,{}),component:A.jsx(yK,{})},{label:"خدمة",icon:A.jsx(tK,{}),component:A.jsx(bK,{})},{label:"باقة خدمات",icon:A.jsx(aK,{}),component:A.jsx(EK,{})},{label:"مصروف",icon:A.jsx(oK,{}),component:A.jsx(TK,{})},{label:"باقة مصروفات",icon:A.jsx(lK,{}),component:A.jsx(SK,{})}],SO=()=>{const[t,e]=S.useState(0);return A.jsxs("div",{className:" bg-cyan-50 p-4 sm:p-6",children:[A.jsxs("div",{className:"max-w-4xl mx-auto mb-6 text-center",children:[A.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-cyan-900 mb-2",children:"إضافة عناصر جديدة"}),A.jsx("p",{className:"text-sm text-cyan-700",children:"اختر نوع العنصر ثم قم بتعبئة النموذج الخاص به"})]}),A.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:AO.map((n,r)=>A.jsxs("button",{onClick:()=>e(r),className:`flex items-center cursor-pointer gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200
              ${t===r?"bg-cyan-800 text-white shadow":"bg-cyan-100 text-cyan-800 hover:bg-cyan-200"}`,children:[n.icon,n.label]},r))}),A.jsx("div",{className:"max-w-3xl mx-auto rounded-lg",children:AO[t].component})]})};var gb={},yb={},CO;function CK(){return CO||(CO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(yb)),yb}var vb={},OO;function $k(){return OO||(OO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(vb)),vb}var bb={},IO;function Hk(){return IO||(IO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e}(bb)),bb}var _b={},RO;function ME(){return RO||(RO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,l="",c="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const d=n[s];c?d==="\\"&&s+1<i?(s++,l+=n[s]):d===c?c="":l+=d:f?d==='"'||d==="'"?c=d:d==="]"?(f=!1,r.push(l),l=""):l+=d:d==="["?(f=!0,l&&(r.push(l),l="")):d==="."?l&&(r.push(l),l=""):l+=d,s++}return l&&r.push(l),r}t.toPath=e}(_b)),_b}var PO;function jE(){return PO||(PO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CK(),n=$k(),r=Hk(),i=ME();function s(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const m=c[f];return m===void 0?n.isDeepKey(f)?s(c,i.toPath(f),d):d:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=c[f];return m===void 0?d:m}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const m=c[f];return m===void 0?d:m}}}function l(c,f,d){if(f.length===0)return d;let m=c;for(let g=0;g<f.length;g++){if(m==null||e.isUnsafeProperty(f[g]))return d;m=m[f[g]]}return m===void 0?d:m}t.get=s}(gb)),gb}var wb,NO;function OK(){return NO||(NO=1,wb=jE().get),wb}var IK=OK();const Gl=ms(IK);var Eb={exports:{}},Tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO;function RK(){if(DO)return Tt;DO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function E(w){if(typeof w=="object"&&w!==null){var x=w.$$typeof;switch(x){case t:switch(w=w.type,w){case n:case i:case r:case f:case d:case v:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case g:case m:return w;case s:return w;default:return x}}case e:return x}}}return Tt.ContextConsumer=s,Tt.ContextProvider=l,Tt.Element=t,Tt.ForwardRef=c,Tt.Fragment=n,Tt.Lazy=g,Tt.Memo=m,Tt.Portal=e,Tt.Profiler=i,Tt.StrictMode=r,Tt.Suspense=f,Tt.SuspenseList=d,Tt.isContextConsumer=function(w){return E(w)===s},Tt.isContextProvider=function(w){return E(w)===l},Tt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Tt.isForwardRef=function(w){return E(w)===c},Tt.isFragment=function(w){return E(w)===n},Tt.isLazy=function(w){return E(w)===g},Tt.isMemo=function(w){return E(w)===m},Tt.isPortal=function(w){return E(w)===e},Tt.isProfiler=function(w){return E(w)===i},Tt.isStrictMode=function(w){return E(w)===r},Tt.isSuspense=function(w){return E(w)===f},Tt.isSuspenseList=function(w){return E(w)===d},Tt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===d||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===m||w.$$typeof===l||w.$$typeof===s||w.$$typeof===c||w.$$typeof===_||w.getModuleId!==void 0)},Tt.typeOf=E,Tt}var kO;function PK(){return kO||(kO=1,Eb.exports=RK()),Eb.exports}var NK=PK(),ci=t=>t===0?0:t>0?1:-1,pi=t=>typeof t=="number"&&t!=+t,Ol=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!pi(t),ya=t=>je(t)||typeof t=="string",DK=0,Ld=t=>{var e=++DK;return"".concat(t||"").concat(e)},Po=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return r;var s;if(Ol(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return pi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Kk=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Jf(t,e,n){return je(t)&&je(e)?t+n*(e-t):e}function Gk(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Gl(r,e))===n)}var cn=t=>t===null||typeof t>"u",LE=t=>cn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),kK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function VE(t){if(typeof t!="string")return!1;var e=kK;return e.includes(t)}var MK=["viewBox","children"],MO=["points","pathLength"],xb={svg:MK,polygon:MO,polyline:MO},UE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{VE(i)&&(r[i]=s=>n[i](n,s))}),r},jK=(t,e,n)=>r=>(t(e,n,r),null),LK=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];VE(i)&&typeof s=="function"&&(r||(r={}),r[i]=jK(s,e,n))}),r},VK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Yk(t){if(typeof t!="string")return!1;var e=VK;return e.includes(t)}function Lc(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Yk(r)});return Object.fromEntries(e)}var jO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",LO=null,Tb=null,Wk=t=>{if(t===LO&&Array.isArray(Tb))return Tb;var e=[];return S.Children.forEach(t,n=>{cn(n)||(NK.isFragment(n)?e=e.concat(Wk(n.props.children)):e.push(n))}),Tb=e,LO=t,e};function Xk(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>jO(i)):r=[jO(e)],Wk(t).forEach(i=>{var s=Gl(i,"type.displayName")||Gl(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var Qk=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,UK=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=r&&(xb==null?void 0:xb[r]))!==null&&i!==void 0?i:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&s.includes(e)||Yk(e)),f=!!n&&VE(e);return l||c||f},Dn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(S.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var l;UK((l=r)===null||l===void 0?void 0:l[s],s,e,n)&&(i[s]=r[s])}),i},BK=["children","width","height","viewBox","className","style","title","desc"];function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(null,arguments)}function zK(t,e){if(t==null)return{};var n,r,i=FK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zk=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:f,desc:d}=t,m=zK(t,BK),g=s||{width:r,height:i,x:0,y:0},v=pt("recharts-surface",l);return S.createElement("svg",D1({},Dn(m,!0,"svg"),{className:v,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),S.createElement("title",null,f),S.createElement("desc",null,d),n)}),qK=["children","className"];function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k1.apply(null,arguments)}function $K(t,e){if(t==null)return{};var n,r,i=HK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yc=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$K(t,qK),s=pt("recharts-layer",r);return S.createElement("g",k1({className:s},Dn(i,!0),{ref:e}),n)}),KK=S.createContext(null);function Wt(t){return function(){return t}}const M1=Math.PI,j1=2*M1,El=1e-6,GK=j1-El;function Jk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function YK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Jk;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class WK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Jk:YK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,d=i-n,m=l-e,g=c-n,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>El)if(!(Math.abs(g*f-d*m)>El)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=i-c,w=f*f+d*d,x=_*_+E*E,C=Math.sqrt(w),R=Math.sqrt(v),k=s*Math.tan((M1-Math.acos((w+v-x)/(2*C*R)))/2),q=k/R,M=k/C;Math.abs(q-1)>El&&this._append`L${e+q*m},${n+q*g}`,this._append`A${s},${s},0,0,${+(g*_>m*E)},${this._x1=e+M*f},${this._y1=n+M*d}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),d=e+c,m=n+f,g=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>El||Math.abs(this._y1-m)>El)&&this._append`L${d},${m}`,r&&(v<0&&(v=v%j1+j1),v>GK?this._append`A${r},${r},0,1,${g},${e-c},${n-f}A${r},${r},0,1,${g},${this._x1=d},${this._y1=m}`:v>El&&this._append`A${r},${r},0,${+(v>=M1)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function eM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new WK(e)}function BE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tM(t){this._context=t}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fy(t){return new tM(t)}function nM(t){return t[0]}function rM(t){return t[1]}function iM(t,e){var n=Wt(!0),r=null,i=fy,s=null,l=eM(c);t=typeof t=="function"?t:t===void 0?nM:Wt(t),e=typeof e=="function"?e:e===void 0?rM:Wt(e);function c(f){var d,m=(f=BE(f)).length,g,v=!1,_;for(r==null&&(s=i(_=l())),d=0;d<=m;++d)!(d<m&&n(g=f[d],d,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(g,d,f),+e(g,d,f));if(_)return s=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Wt(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function Xm(t,e,n){var r=null,i=Wt(!0),s=null,l=fy,c=null,f=eM(d);t=typeof t=="function"?t:t===void 0?nM:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?rM:Wt(+n);function d(g){var v,_,E,w=(g=BE(g)).length,x,C=!1,R,k=new Array(w),q=new Array(w);for(s==null&&(c=l(R=f())),v=0;v<=w;++v){if(!(v<w&&i(x=g[v],v,g))===C)if(C=!C)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=v-1;E>=_;--E)c.point(k[E],q[E]);c.lineEnd(),c.areaEnd()}C&&(k[v]=+t(x,v,g),q[v]=+e(x,v,g),c.point(r?+r(x,v,g):k[v],n?+n(x,v,g):q[v]))}if(R)return c=null,R+""||null}function m(){return iM().defined(i).curve(l).context(s)}return d.x=function(g){return arguments.length?(t=typeof g=="function"?g:Wt(+g),r=null,d):t},d.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Wt(+g),d):t},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Wt(+g),d):r},d.y=function(g){return arguments.length?(e=typeof g=="function"?g:Wt(+g),n=null,d):e},d.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Wt(+g),d):e},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Wt(+g),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Wt(!!g),d):i},d.curve=function(g){return arguments.length?(l=g,s!=null&&(c=l(s)),d):l},d.context=function(g){return arguments.length?(g==null?s=c=null:c=l(s=g),d):s},d}class aM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function XK(t){return new aM(t,!0)}function QK(t){return new aM(t,!1)}function Qp(){}function Zp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sM(t){this._context=t}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZK(t){return new sM(t)}function oM(t){this._context=t}oM.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JK(t){return new oM(t)}function lM(t){this._context=t}lM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eG(t){return new lM(t)}function uM(t){this._context=t}uM.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tG(t){return new uM(t)}function VO(t){return t<0?-1:1}function UO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(VO(s)+VO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function BO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ab(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function Jp(t){this._context=t}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ab(this,this._t0,BO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ab(this,BO(this,n=UO(this,t,e)),n);break;default:Ab(this,this._t0,n=UO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cM(t){this._context=new fM(t)}(cM.prototype=Object.create(Jp.prototype)).point=function(t,e){Jp.prototype.point.call(this,e,t)};function fM(t){this._context=t}fM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function nG(t){return new Jp(t)}function rG(t){return new cM(t)}function dM(t){this._context=t}dM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zO(t),i=zO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function iG(t){return new dM(t)}function dy(t,e){this._context=t,this._t=e}dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function aG(t){return new dy(t,.5)}function sG(t){return new dy(t,0)}function oG(t){return new dy(t,1)}function vc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function L1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function lG(t,e){return t[e]}function uG(t){const e=[];return e.key=t,e}function cG(){var t=Wt([]),e=L1,n=vc,r=lG;function i(s){var l=Array.from(t.apply(this,arguments),uG),c,f=l.length,d=-1,m;for(const g of s)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(g,l[c].key,d,s)]).data=g;for(c=0,m=BE(e(l));c<f;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Wt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?L1:typeof s=="function"?s:Wt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??vc,i):n},i}function fG(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}vc(t,e)}}function dG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}vc(t,e)}}function hG(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,d=0;c<l;++c){for(var m=t[e[c]],g=m[r][1]||0,v=m[r-1][1]||0,_=(g-v)/2,E=0;E<c;++E){var w=t[e[E]],x=w[r][1]||0,C=w[r-1][1]||0;_+=x-C}f+=g,d+=_*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,vc(t,e)}}var Sb={},Cb={},FO;function mG(){return FO||(FO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e}(Cb)),Cb}var Ob={},qO;function hM(){return qO||(qO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Ob)),Ob}var Ib={},Rb={},Pb={},$O;function pG(){return $O||($O=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Pb)),Pb}var HO;function zE(){return HO||(HO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pG();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(Rb)),Rb}var Nb={},KO;function gG(){return KO||(KO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(Nb)),Nb}var GO;function yG(){return GO||(GO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zE(),n=gG();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(Ib)),Ib}var Db={},kb={},YO;function vG(){return YO||(YO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE();function n(r){return function(i){return e.get(i,r)}}t.property=n}(kb)),kb}var Mb={},jb={},Lb={},Vb={},WO;function mM(){return WO||(WO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Vb)),Vb}var Ub={},XO;function pM(){return XO||(XO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(Ub)),Ub}var Bb={},QO;function FE(){return QO||(QO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Bb)),Bb}var ZO;function bG(){return ZO||(ZO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qE(),n=mM(),r=pM(),i=FE();function s(g,v,_){return typeof _!="function"?e.isMatch(g,v):l(g,v,function E(w,x,C,R,k,q){const M=_(w,x,C,R,k,q);return M!==void 0?!!M:l(w,x,E,q)},new Map)}function l(g,v,_,E){if(v===g)return!0;switch(typeof v){case"object":return c(g,v,_,E);case"function":return Object.keys(v).length>0?l(g,{...v},_,E):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function c(g,v,_,E){if(v==null)return!0;if(Array.isArray(v))return d(g,v,_,E);if(v instanceof Map)return f(g,v,_,E);if(v instanceof Set)return m(g,v,_,E);const w=Object.keys(v);if(g==null)return w.length===0;if(w.length===0)return!0;if(E&&E.has(v))return E.get(v)===g;E&&E.set(v,g);try{for(let x=0;x<w.length;x++){const C=w[x];if(!r.isPrimitive(g)&&!(C in g)||v[C]===void 0&&g[C]!==void 0||v[C]===null&&g[C]!==null||!_(g[C],v[C],C,g,v,E))return!1}return!0}finally{E&&E.delete(v)}}function f(g,v,_,E){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,x]of v.entries()){const C=g.get(w);if(_(C,x,w,g,v,E)===!1)return!1}return!0}function d(g,v,_,E){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let x=0;x<v.length;x++){const C=v[x];let R=!1;for(let k=0;k<g.length;k++){if(w.has(k))continue;const q=g[k];let M=!1;if(_(q,C,x,g,v,E)&&(M=!0),M){w.add(k),R=!0;break}}if(!R)return!1}return!0}function m(g,v,_,E){return v.size===0?!0:g instanceof Set?d([...g],[...v],_,E):!1}t.isMatchWith=s,t.isSetMatch=m}(Lb)),Lb}var JO;function qE(){return JO||(JO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bG();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(jb)),jb}var zb={},Fb={},qb={},eI;function gM(){return eI||(eI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(qb)),qb}var $b={},tI;function $E(){return tI||(tI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}($b)),$b}var Hb={},nI;function HE(){return nI||(nI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",_="[object Object]",E="[object Error]",w="[object DataView]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",k="[object Uint32Array]",q="[object BigUint64Array]",M="[object Int8Array]",U="[object Int16Array]",P="[object Int32Array]",N="[object BigInt64Array]",D="[object Float32Array]",L="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=w,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=L,t.functionTag=g,t.int16ArrayTag=U,t.int32ArrayTag=P,t.int8ArrayTag=M,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=R,t.uint32ArrayTag=k,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=C}(Hb)),Hb}var Kb={},rI;function _G(){return rI||(rI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Kb)),Kb}var iI;function yM(){return iI||(iI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gM(),n=$E(),r=HE(),i=pM(),s=_G();function l(m,g){return c(m,void 0,m,new Map,g)}function c(m,g,v,_=new Map,E=void 0){const w=E==null?void 0:E(m,g,v,_);if(w!=null)return w;if(i.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const x=new Array(m.length);_.set(m,x);for(let C=0;C<m.length;C++)x[C]=c(m[C],C,v,_,E);return Object.hasOwn(m,"index")&&(x.index=m.index),Object.hasOwn(m,"input")&&(x.input=m.input),x}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const x=new RegExp(m.source,m.flags);return x.lastIndex=m.lastIndex,x}if(m instanceof Map){const x=new Map;_.set(m,x);for(const[C,R]of m)x.set(C,c(R,C,v,_,E));return x}if(m instanceof Set){const x=new Set;_.set(m,x);for(const C of m)x.add(c(C,void 0,v,_,E));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const x=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,x);for(let C=0;C<m.length;C++)x[C]=c(m[C],C,v,_,E);return x}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const x=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,x),f(x,m,v,_,E),x}if(typeof File<"u"&&m instanceof File){const x=new File([m],m.name,{type:m.type});return _.set(m,x),f(x,m,v,_,E),x}if(m instanceof Blob){const x=new Blob([m],{type:m.type});return _.set(m,x),f(x,m,v,_,E),x}if(m instanceof Error){const x=new m.constructor;return _.set(m,x),x.message=m.message,x.name=m.name,x.stack=m.stack,x.cause=m.cause,f(x,m,v,_,E),x}if(typeof m=="object"&&d(m)){const x=Object.create(Object.getPrototypeOf(m));return _.set(m,x),f(x,m,v,_,E),x}return m}function f(m,g,v=m,_,E){const w=[...Object.keys(g),...e.getSymbols(g)];for(let x=0;x<w.length;x++){const C=w[x],R=Object.getOwnPropertyDescriptor(m,C);(R==null||R.writable)&&(m[C]=c(g[C],C,v,_,E))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f}(Fb)),Fb}var aI;function wG(){return aI||(aI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(zb)),zb}var sI;function EG(){return sI||(sI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qE(),n=wG();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r}(Mb)),Mb}var Gb={},Yb={},Wb={},oI;function xG(){return oI||(oI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yM(),n=HE();function r(i,s){return e.cloneDeepWith(i,(l,c,f,d)=>{const m=s==null?void 0:s(l,c,f,d);if(m!=null)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r}(Wb)),Wb}var lI;function TG(){return lI||(lI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xG();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(Yb)),Yb}var Xb={},Qb={},uI;function vM(){return uI||(uI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(Qb)),Qb}var Zb={},cI;function AG(){return cI||(cI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$E();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(Zb)),Zb}var fI;function SG(){return fI||(fI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$k(),n=vM(),r=AG(),i=ME();function s(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?f=i.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let m=0;m<f.length;m++){const g=f[m];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}t.has=s}(Xb)),Xb}var dI;function CG(){return dI||(dI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qE(),n=Hk(),r=TG(),i=jE(),s=SG();function l(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const m=i.get(d,c);return m===void 0?s.has(d,c):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=l}(Gb)),Gb}var hI;function OG(){return hI||(hI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hM(),n=vG(),r=EG(),i=CG();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s}(Db)),Db}var mI;function IG(){return mI||(mI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mG(),n=hM(),r=yG(),i=OG();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s}(Sb)),Sb}var Jb,pI;function RG(){return pI||(pI=1,Jb=IG().uniqBy),Jb}var PG=RG();const gI=ms(PG);function NG(t,e,n){return e===!0?gI(t,n):typeof e=="function"?gI(t,e):t}var e_={exports:{}},t_={},n_={exports:{}},r_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function DG(){if(yI)return r_;yI=1;var t=Tc();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(g,v){var _=v(),E=r({inst:{value:_,getSnapshot:v}}),w=E[0].inst,x=E[1];return s(function(){w.value=_,w.getSnapshot=v,f(w)&&x({inst:w})},[g,_,v]),i(function(){return f(w)&&x({inst:w}),g(function(){f(w)&&x({inst:w})})},[g]),l(_),_}function f(g){var v=g.getSnapshot;g=g.value;try{var _=v();return!n(g,_)}catch{return!0}}function d(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return r_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,r_}var vI;function kG(){return vI||(vI=1,n_.exports=DG()),n_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function MG(){if(bI)return t_;bI=1;var t=Tc(),e=kG();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return t_.useSyncExternalStoreWithSelector=function(d,m,g,v,_){var E=s(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=c(function(){function C(U){if(!R){if(R=!0,k=U,U=v(U),_!==void 0&&w.hasValue){var P=w.value;if(_(P,U))return q=P}return q=U}if(P=q,r(k,U))return P;var N=v(U);return _!==void 0&&_(P,N)?(k=U,P):(k=U,q=N)}var R=!1,k,q,M=g===void 0?null:g;return[function(){return C(m())},M===null?void 0:function(){return C(M())}]},[m,g,v,_]);var x=i(d,E[0],E[1]);return l(function(){w.hasValue=!0,w.value=x},[x]),f(x),x},t_}var _I;function jG(){return _I||(_I=1,e_.exports=MG()),e_.exports}var LG=jG(),KE=S.createContext(null),VG=t=>t,dr=()=>{var t=S.useContext(KE);return t?t.store.dispatch:VG},Ep=()=>{},UG=()=>Ep,BG=(t,e)=>t===e;function Be(t){var e=S.useContext(KE);return LG.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:UG,e?e.store.getState:Ep,e?e.store.getState:Ep,e?t:Ep,BG)}function zG(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function FG(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function qG(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var wI=t=>Array.isArray(t)?t:[t];function $G(t){const e=Array.isArray(t[0])?t[0]:t;return qG(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function HG(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var KG=class{constructor(t){this.value=t}deref(){return this.value}},GG=typeof WeakRef<"u"?WeakRef:KG,YG=0,EI=1;function Qm(){return{s:YG,v:void 0,o:null,p:null}}function bM(t,e={}){let n=Qm();const{resultEqualityCheck:r}=e;let i,s=0;function l(){var g;let c=n;const{length:f}=arguments;for(let v=0,_=f;v<_;v++){const E=arguments[v];if(typeof E=="function"||typeof E=="object"&&E!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const x=w.get(E);x===void 0?(c=Qm(),w.set(E,c)):c=x}else{let w=c.p;w===null&&(c.p=w=new Map);const x=w.get(E);x===void 0?(c=Qm(),w.set(E,c)):c=x}}const d=c;let m;if(c.s===EI)m=c.v;else if(m=t.apply(null,arguments),s++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,m)&&(m=v,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new GG(m):m}return d.s=EI,d.v=m,m}return l.clearCache=()=>{n=Qm(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function WG(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),zG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:_=bM,argsMemoizeOptions:E=[]}=m,w=wI(v),x=wI(E),C=$G(i),R=g(function(){return s++,d.apply(null,arguments)},...w),k=_(function(){l++;const M=HG(C,arguments);return c=R.apply(null,M),c},...x);return Object.assign(k,{resultFunc:d,memoizedResultFunc:R,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ie=WG(bM),XG=Object.assign((t,e=ie)=>{FG(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>XG}),i_={},a_={},s_={},xI;function QG(){return xI||(xI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n}(s_)),s_}var o_={},l_={},TI;function _M(){return TI||(TI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(l_)),l_}var AI;function ZG(){return AI||(AI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_M(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i}(o_)),o_}var SI;function JG(){return SI||(SI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QG(),n=ZG(),r=ME();function i(s,l,c,f){if(s==null)return[];c=f?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,E)=>{let w=_;for(let x=0;x<E.length&&w!=null;++x)w=w[E[x]];return w},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:d(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?d(E,_):typeof E=="object"?E[_]:E,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let w=0;w<g.length;w++){const x=e.compareValues(_.criteria[w],E.criteria[w],c[w]);if(x!==0)return x}return 0}).map(_=>_.original)}t.orderBy=i}(a_)),a_}var u_={},CI;function eY(){return CI||(CI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&f<s?l(m,f+1):i.push(m)}};return l(n,0),i}t.flatten=e}(u_)),u_}var c_={},OI;function wM(){return OI||(OI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vM(),n=zE(),r=mM(),i=FE();function s(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=s}(c_)),c_}var II;function tY(){return II||(II=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JG(),n=eY(),r=wM();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i}(i_)),i_}var f_,RI;function nY(){return RI||(RI=1,f_=tY().sortBy),f_}var rY=nY();const hy=ms(rY);var EM=t=>t.legend.settings,iY=t=>t.legend.size,aY=t=>t.legend.payload;ie([aY,EM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?hy(r,n):r});var Zm=1;function sY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Zm||Math.abs(l.left-e.left)>Zm||Math.abs(l.top-e.top)>Zm||Math.abs(l.width-e.width)>Zm)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Un(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var oY=typeof Symbol=="function"&&Symbol.observable||"@@observable",PI=oY,d_=()=>Math.random().toString(36).substring(7).split("").join("."),lY={INIT:`@@redux/INIT${d_()}`,REPLACE:`@@redux/REPLACE${d_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${d_()}`},eg=lY;function GE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function xM(t,e,n){if(typeof t!="function")throw new Error(Un(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Un(1));return n(xM)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,f=!1;function d(){l===s&&(l=new Map,s.forEach((x,C)=>{l.set(C,x)}))}function m(){if(f)throw new Error(Un(3));return i}function g(x){if(typeof x!="function")throw new Error(Un(4));if(f)throw new Error(Un(5));let C=!0;d();const R=c++;return l.set(R,x),function(){if(C){if(f)throw new Error(Un(6));C=!1,d(),l.delete(R),s=null}}}function v(x){if(!GE(x))throw new Error(Un(7));if(typeof x.type>"u")throw new Error(Un(8));if(typeof x.type!="string")throw new Error(Un(17));if(f)throw new Error(Un(9));try{f=!0,i=r(i,x)}finally{f=!1}return(s=l).forEach(R=>{R()}),x}function _(x){if(typeof x!="function")throw new Error(Un(10));r=x,v({type:eg.REPLACE})}function E(){const x=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Un(11));function R(){const q=C;q.next&&q.next(m())}return R(),{unsubscribe:x(R)}},[PI](){return this}}}return v({type:eg.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:_,[PI]:E}}function uY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:eg.INIT})>"u")throw new Error(Un(12));if(typeof n(void 0,{type:eg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Un(13))})}function TM(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{uY(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let f=!1;const d={};for(let m=0;m<r.length;m++){const g=r[m],v=n[g],_=l[g],E=v(_,c);if(typeof E>"u")throw c&&c.type,new Error(Un(14));d[g]=E,f=f||E!==_}return f=f||r.length!==Object.keys(l).length,f?d:l}}function tg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function cY(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Un(15))};const l={getState:i.getState,dispatch:(f,...d)=>s(f,...d)},c=t.map(f=>f(l));return s=tg(...c)(i.dispatch),{...i,dispatch:s}}}function AM(t){return GE(t)&&"type"in t&&typeof t.type=="string"}var SM=Symbol.for("immer-nothing"),NI=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function Ri(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var bc=Object.getPrototypeOf;function Yl(t){return!!t&&!!t[zr]}function cs(t){var e;return t?CM(t)||Array.isArray(t)||!!t[NI]||!!((e=t.constructor)!=null&&e[NI])||py(t)||gy(t):!1}var fY=Object.prototype.constructor.toString();function CM(t){if(!t||typeof t!="object")return!1;const e=bc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===fY}function ng(t,e){my(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function my(t){const e=t[zr];return e?e.type_:Array.isArray(t)?1:py(t)?2:gy(t)?3:0}function V1(t,e){return my(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function OM(t,e,n){const r=my(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function dY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function py(t){return t instanceof Map}function gy(t){return t instanceof Set}function xl(t){return t.copy_||t.base_}function U1(t,e){if(py(t))return new Map(t);if(gy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=CM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[zr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(bc(t),r)}else{const r=bc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function YE(t,e=!1){return yy(t)||Yl(t)||!cs(t)||(my(t)>1&&(t.set=t.add=t.clear=t.delete=hY),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>YE(r,!0))),t}function hY(){Ri(2)}function yy(t){return Object.isFrozen(t)}var mY={};function Wl(t){const e=mY[t];return e||Ri(0,t),e}var Vd;function IM(){return Vd}function pY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DI(t,e){e&&(Wl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function B1(t){z1(t),t.drafts_.forEach(gY),t.drafts_=null}function z1(t){t===Vd&&(Vd=t.parent_)}function kI(t){return Vd=pY(Vd,t)}function gY(t){const e=t[zr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function MI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[zr].modified_&&(B1(e),Ri(4)),cs(t)&&(t=rg(e,t),e.parent_||ig(e,t)),e.patches_&&Wl("Patches").generateReplacementPatches_(n[zr].base_,t,e.patches_,e.inversePatches_)):t=rg(e,n,[]),B1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==SM?t:void 0}function rg(t,e,n){if(yy(e))return e;const r=e[zr];if(!r)return ng(e,(i,s)=>jI(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ig(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,l=!1;r.type_===3&&(s=new Set(i),i.clear(),l=!0),ng(s,(c,f)=>jI(t,r,i,c,f,n,l)),ig(t,i,!1),n&&t.patches_&&Wl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function jI(t,e,n,r,i,s,l){if(Yl(i)){const c=s&&e&&e.type_!==3&&!V1(e.assigned_,r)?s.concat(r):void 0,f=rg(t,i,c);if(OM(n,r,f),Yl(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(cs(i)&&!yy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;rg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ig(t,i)}}function ig(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&YE(e,n)}function yY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:IM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=WE;n&&(i=[r],s=Ud);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var WE={get(t,e){if(e===zr)return t;const n=xl(t);if(!V1(n,e))return vY(t,n,e);const r=n[e];return t.finalized_||!cs(r)?r:r===h_(t.base_,e)?(m_(t),t.copy_[e]=q1(r,t)):r},has(t,e){return e in xl(t)},ownKeys(t){return Reflect.ownKeys(xl(t))},set(t,e,n){const r=RM(xl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=h_(xl(t),e),s=i==null?void 0:i[zr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(dY(n,i)&&(n!==void 0||V1(t.base_,e)))return!0;m_(t),F1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return h_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,m_(t),F1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ri(11)},getPrototypeOf(t){return bc(t.base_)},setPrototypeOf(){Ri(12)}},Ud={};ng(WE,(t,e)=>{Ud[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ud.deleteProperty=function(t,e){return Ud.set.call(this,t,e,void 0)};Ud.set=function(t,e,n){return WE.set.call(this,t[0],e,n,t[0])};function h_(t,e){const n=t[zr];return(n?xl(n):t)[e]}function vY(t,e,n){var i;const r=RM(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function RM(t,e){if(!(e in t))return;let n=bc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=bc(n)}}function F1(t){t.modified_||(t.modified_=!0,t.parent_&&F1(t.parent_))}function m_(t){t.copy_||(t.copy_=U1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...d){return l.produce(f,m=>n.call(this,m,...d))}}typeof n!="function"&&Ri(6),r!==void 0&&typeof r!="function"&&Ri(7);let i;if(cs(e)){const s=kI(this),l=q1(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?B1(s):z1(s)}return DI(s,r),MI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===SM&&(i=void 0),this.autoFreeze_&&YE(i,!0),r){const s=[],l=[];Wl("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Ri(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){cs(t)||Ri(8),Yl(t)&&(t=es(t));const e=kI(this),n=q1(t,void 0);return n[zr].isManual_=!0,z1(e),n}finishDraft(t,e){const n=t&&t[zr];(!n||!n.isManual_)&&Ri(9);const{scope_:r}=n;return DI(r,e),MI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Wl("Patches").applyPatches_;return Yl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function q1(t,e){const n=py(t)?Wl("MapSet").proxyMap_(t,e):gy(t)?Wl("MapSet").proxySet_(t,e):yY(t,e);return(e?e.scope_:IM()).drafts_.push(n),n}function es(t){return Yl(t)||Ri(10,t),PM(t)}function PM(t){if(!cs(t)||yy(t))return t;const e=t[zr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=U1(t,e.scope_.immer_.useStrictShallowCopy_)}else n=U1(t,!0);return ng(n,(r,i)=>{OM(n,r,PM(i))}),e&&(e.finalized_=!1),n}var Fr=new bY,NM=Fr.produce;Fr.produceWithPatches.bind(Fr);Fr.setAutoFreeze.bind(Fr);Fr.setUseStrictShallowCopy.bind(Fr);Fr.applyPatches.bind(Fr);Fr.createDraft.bind(Fr);Fr.finishDraft.bind(Fr);function DM(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var _Y=DM(),wY=DM,EY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tg:tg.apply(null,arguments)};function gi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Br(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>AM(r)&&r.type===t,n}var kM=class hd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,hd.prototype)}static get[Symbol.species](){return hd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new hd(...e[0].concat(this)):new hd(...e.concat(this))}};function LI(t){return cs(t)?NM(t,()=>{}):t}function Jm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function xY(t){return typeof t=="boolean"}var TY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new kM;return n&&(xY(n)?l.push(_Y):l.push(wY(n.extraArgument))),l},AY="RTK_autoBatch",VI=t=>e=>{setTimeout(e,t)},SY=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VI(10):t.type==="callback"?t.queueNotification:VI(t.timeout),d=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),v=r.subscribe(g);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){var g;try{return i=!((g=m==null?void 0:m.meta)!=null&&g[AY]),s=!i,s&&(l||(l=!0,f(d))),r.dispatch(m)}finally{i=!0}}})},CY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new kM(t);return r&&i.push(SY(typeof r=="object"?r:void 0)),i};function OY(t){const e=TY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(GE(n))c=TM(n);else throw new Error(Br(1));let f;typeof r=="function"?f=r(e):f=e();let d=tg;i&&(d=EY({trace:!1,...typeof i=="object"&&i}));const m=cY(...f),g=CY(m);let v=typeof l=="function"?l(g):g();const _=d(...v);return xM(c,s,_)}function MM(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Br(28));if(c in e)throw new Error(Br(29));return e[c]=l,i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function IY(t){return typeof t=="function"}function RY(t,e){let[n,r,i]=MM(e),s;if(IY(t))s=()=>LI(t());else{const c=LI(t);s=()=>c}function l(c=s(),f){let d=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[i]),d.reduce((m,g)=>{if(g)if(Yl(m)){const _=g(m,f);return _===void 0?m:_}else{if(cs(m))return NM(m,v=>g(v,f));{const v=g(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return l.getInitialState=s,l}var PY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NY=(t=21)=>{let e="",n=t;for(;n--;)e+=PY[Math.random()*64|0];return e},DY=Symbol.for("rtk-slice-createasyncthunk");function kY(t,e){return`${t}/${e}`}function MY({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[DY];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(Br(11));const c=(typeof i.reducers=="function"?i.reducers(LY()):i.reducers)||{},f=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(q,M){const U=typeof q=="string"?q:q.type;if(!U)throw new Error(Br(12));if(U in d.sliceCaseReducersByType)throw new Error(Br(13));return d.sliceCaseReducersByType[U]=M,m},addMatcher(q,M){return d.sliceMatchers.push({matcher:q,reducer:M}),m},exposeAction(q,M){return d.actionCreators[q]=M,m},exposeCaseReducer(q,M){return d.sliceCaseReducersByName[q]=M,m}};f.forEach(q=>{const M=c[q],U={reducerName:q,type:kY(s,q),createNotation:typeof i.reducers=="function"};UY(M)?zY(U,M,m,e):VY(U,M,m)});function g(){const[q={},M=[],U=void 0]=typeof i.extraReducers=="function"?MM(i.extraReducers):[i.extraReducers],P={...q,...d.sliceCaseReducersByType};return RY(i.initialState,N=>{for(let D in P)N.addCase(D,P[D]);for(let D of d.sliceMatchers)N.addMatcher(D.matcher,D.reducer);for(let D of M)N.addMatcher(D.matcher,D.reducer);U&&N.addDefaultCase(U)})}const v=q=>q,_=new Map,E=new WeakMap;let w;function x(q,M){return w||(w=g()),w(q,M)}function C(){return w||(w=g()),w.getInitialState()}function R(q,M=!1){function U(N){let D=N[q];return typeof D>"u"&&M&&(D=Jm(E,U,C)),D}function P(N=v){const D=Jm(_,M,()=>new WeakMap);return Jm(D,N,()=>{const L={};for(const[z,F]of Object.entries(i.selectors??{}))L[z]=jY(F,N,()=>Jm(E,N,C),M);return L})}return{reducerPath:q,getSelectors:P,get selectors(){return P(U)},selectSlice:U}}const k={name:s,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...R(l),injectInto(q,{reducerPath:M,...U}={}){const P=M??l;return q.inject({reducerPath:P,reducer:x},U),{...k,...R(P,!0)}}};return k}}function jY(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var qr=MY();function LY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function VY({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!BY(r))throw new Error(Br(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?gi(t,l):gi(t))}function UY(t){return t._reducerDefinitionType==="asyncThunk"}function BY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function zY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Br(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:f,settled:d,options:m}=n,g=i(t,s,m);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),c&&r.addCase(g.pending,c),f&&r.addCase(g.rejected,f),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(e,{fulfilled:l||ep,pending:c||ep,rejected:f||ep,settled:d||ep})}function ep(){}var FY="task",jM="listener",LM="completed",XE="cancelled",qY=`task-${XE}`,$Y=`task-${LM}`,$1=`${jM}-${XE}`,HY=`${jM}-${LM}`,vy=class{constructor(t){M0(this,"name","TaskAbortError");M0(this,"message");this.code=t,this.message=`${FY} ${XE} (reason: ${t})`}},QE=(t,e)=>{if(typeof t!="function")throw new TypeError(Br(32))},ag=()=>{},VM=(t,e=ag)=>(t.catch(e),t),UM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ml=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},jl=t=>{if(t.aborted){const{reason:e}=t;throw new vy(e)}};function BM(t,e){let n=ag;return new Promise((r,i)=>{const s=()=>i(new vy(t.reason));if(t.aborted){s();return}n=UM(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ag})}var KY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof vy?"cancelled":"rejected",error:n}}finally{e==null||e()}},sg=t=>e=>VM(BM(t,e).then(n=>(jl(t),n))),zM=t=>{const e=sg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:uc}=Object,UI={},by="listenerMiddleware",GY=(t,e)=>{const n=r=>UM(t,()=>Ml(r,t.reason));return(r,i)=>{QE(r);const s=new AbortController;n(s);const l=KY(async()=>{jl(t),jl(s.signal);const c=await r({pause:sg(s.signal),delay:zM(s.signal),signal:s.signal});return jl(s.signal),c},()=>Ml(s,$Y));return i!=null&&i.autoJoin&&e.push(l.catch(ag)),{result:sg(t)(l),cancel(){Ml(s,qY)}}}},YY=(t,e)=>{const n=async(r,i)=>{jl(e);let s=()=>{};const c=[new Promise((f,d)=>{let m=t({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});s=()=>{m(),d()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await BM(e,Promise.race(c));return jl(e),f}finally{s()}};return(r,i)=>VM(n(r,i))},FM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=gi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Br(21));return QE(s),{predicate:i,type:e,effect:s}},qM=uc(t=>{const{type:e,predicate:n,effect:r}=FM(t);return{id:NY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Br(22))}}},{withTypes:()=>qM}),BI=(t,e)=>{const{type:n,effect:r,predicate:i}=FM(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},H1=t=>{t.pending.forEach(e=>{Ml(e,$1)})},WY=t=>()=>{t.forEach(H1),t.clear()},zI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},$M=uc(gi(`${by}/add`),{withTypes:()=>$M}),XY=gi(`${by}/removeAll`),HM=uc(gi(`${by}/remove`),{withTypes:()=>HM}),QY=(...t)=>{console.error(`${by}/error`,...t)},fh=(t={})=>{const e=new Map,{extra:n,onError:r=QY}=t;QE(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&H1(m)}),s=m=>{const g=BI(e,m)??qM(m);return i(g)};uc(s,{withTypes:()=>s});const l=m=>{const g=BI(e,m);return g&&(g.unsubscribe(),m.cancelActive&&H1(g)),!!g};uc(l,{withTypes:()=>l});const c=async(m,g,v,_)=>{const E=new AbortController,w=YY(s,E.signal),x=[];try{m.pending.add(E),await Promise.resolve(m.effect(g,uc({},v,{getOriginalState:_,condition:(C,R)=>w(C,R).then(Boolean),take:w,delay:zM(E.signal),pause:sg(E.signal),extra:n,signal:E.signal,fork:GY(E.signal,x),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((C,R,k)=>{C!==E&&(Ml(C,$1),k.delete(C))})},cancel:()=>{Ml(E,$1),m.pending.delete(E)},throwIfCancelled:()=>{jl(E.signal)}})))}catch(C){C instanceof vy||zI(r,C,{raisedBy:"effect"})}finally{await Promise.all(x),Ml(E,HY),m.pending.delete(E)}},f=WY(e);return{middleware:m=>g=>v=>{if(!AM(v))return g(v);if($M.match(v))return s(v.payload);if(XY.match(v)){f();return}if(HM.match(v))return l(v.payload);let _=m.getState();const E=()=>{if(_===UI)throw new Error(Br(23));return _};let w;try{if(w=g(v),e.size>0){const x=m.getState(),C=Array.from(e.values());for(const R of C){let k=!1;try{k=R.predicate(v,x,_)}catch(q){k=!1,zI(r,q,{raisedBy:"predicate"})}k&&c(R,v,m,E)}}}finally{_=UI}return w},startListening:s,stopListening:l,clearListeners:f}};function Br(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ZY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KM=qr({name:"chartLayout",initialState:ZY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:JY,setLayout:eW,setChartSize:tW,setScale:nW}=KM.actions,rW=KM.reducer;function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){iW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iW(t,e,n){return(e=aW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aW(t){var e=sW(t,"string");return typeof e=="symbol"?e:e+""}function sW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var og=Math.PI/180,oW=t=>t*180/Math.PI,$n=(t,e,n,r)=>({x:t+Math.cos(-og*r)*n,y:e+Math.sin(-og*r)*n}),lW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},uW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},cW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=uW({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>s&&(f=2*Math.PI-f),{radius:l,angle:oW(f),angleInRadian:f}},fW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},dW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},hW=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=cW({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:d}=fW(e),m=s,g;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}return g?qI(qI({},e),{},{radius:i,angle:dW(m,e)}):null};function GM(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){mW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mW(t,e,n){return(e=pW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pW(t){var e=gW(t,"string");return typeof e=="symbol"?e:e+""}function gW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fr(t,e,n){return cn(t)||cn(e)?n:ya(e)?Gl(t,e,n):typeof e=="function"?e(t):n}var yW=(t,e,n,r,i)=>{var s,l=-1,c=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var d=f>0?n[f-1].coordinate:n[c-1].coordinate,m=n[f].coordinate,g=f>=c-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(ci(m-d)!==ci(g-m)){var _=[];if(ci(g-m)===ci(i[1]-i[0])){v=g;var E=m+i[1]-i[0];_[0]=Math.min(E,(E+d)/2),_[1]=Math.max(E,(E+d)/2)}else{v=d;var w=g+i[1]-i[0];_[0]=Math.min(m,(w+m)/2),_[1]=Math.max(m,(w+m)/2)}var x=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>x[0]&&t<=x[1]||t>=_[0]&&t<=_[1]){({index:l}=n[f]);break}}else{var C=Math.min(d,g),R=Math.max(d,g);if(t>(C+m)/2&&t<=(R+m)/2){({index:l}=n[f]);break}}}else if(e){for(var k=0;k<c;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<c-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===c-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:l}=e[k]);break}}return l},vW=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&je(t[s]))return oi(oi({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&je(t[l]))return oi(oi({},t),{},{[l]:t[l]+(i||0)})}return t},Lo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",YM=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,s,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate));return i||l.push(e),s||l.push(n),l},WM=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:c,isCategorical:f,categoricalDomain:d,tickCount:m,ticks:g,niceTicks:v,axisType:_}=t;if(!l)return null;var E=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=i==="category"&&l.bandwidth?l.bandwidth()/E:0;if(w=_==="angleAxis"&&s&&s.length>=2?ci(s[0]-s[1])*2*w:w,g||v){var x=(g||v||[]).map((C,R)=>{var k=r?r.indexOf(C):C;return{coordinate:l(k)+w,value:C,offset:w,index:R}});return x.filter(C=>!pi(C.coordinate))}return f&&d?d.map((C,R)=>({coordinate:l(C)+w,value:C,index:R,offset:w})):l.ticks&&m!=null?l.ticks(m).map((C,R)=>({coordinate:l(C)+w,value:C,offset:w,index:R})):l.domain().map((C,R)=>({coordinate:l(C)+w,value:r?r[C]:C,index:R,offset:w}))},HI=1e-4,bW=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-HI,s=Math.max(r[0],r[1])+HI,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},_W=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,l=0;l<e;++l){var c=pi(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},wW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var l=pi(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},EW={sign:_W,expand:fG,none:vc,silhouette:dG,wiggle:hG,positive:wW},xW=(t,e,n)=>{var r=EW[n],i=cG().keys(e).value((s,l)=>+fr(s,l,0)).order(L1).offset(r);return i(t)};function KI(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cn(i[e.dataKey])){var c=Gk(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=fr(i,cn(l)?e.dataKey:l);return cn(f)?null:e.scale(f)}var TW=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},AW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],SW=(t,e,n)=>{if(t!=null)return AW(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:l}=s,c=l.reduce((f,d)=>{var m=GM(d,e,n),g=TW(m);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},GI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K1=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=hy(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var f=i[l],d=i[l-1];s=Math.min((f.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function WI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return oi(oi({},e),{},{dataKey:n,payload:r,value:i,name:s})}function XM(t,e){if(t)return String(t);if(typeof e=="string")return e}function CW(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?hW({x:t,y:e},r):null}var OW=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:l}=r;return oi(oi(oi({},r),$n(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:f}=r;return oi(oi(oi({},r),$n(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{x:0,y:0}},IW=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ys=t=>t.layout.width,vs=t=>t.layout.height,RW=t=>t.layout.scale,QM=t=>t.layout.margin,ZE=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),JE=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),PW="data-recharts-item-index",NW="data-recharts-item-data-key",_y=60;function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){DW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DW(t,e,n){return(e=kW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kW(t){var e=MW(t,"string");return typeof e=="symbol"?e:e+""}function MW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jW=t=>t.brush.height,Kn=ie([ys,vs,QM,jW,ZE,JE,EM,iY],(t,e,n,r,i,s,l,c)=>{var f=s.reduce((E,w)=>{var{orientation:x}=w;if(!w.mirror&&!w.hide){var C=typeof w.width=="number"?w.width:_y;return so(so({},E),{},{[x]:E[x]+C})}return E},{left:n.left||0,right:n.right||0}),d=i.reduce((E,w)=>{var{orientation:x}=w;return!w.mirror&&!w.hide?so(so({},E),{},{[x]:Gl(E,"".concat(x))+w.height}):E},{top:n.top||0,bottom:n.bottom||0}),m=so(so({},d),f),g=m.bottom;m.bottom+=r,m=vW(m,l,c);var v=t-m.left-m.right,_=e-m.top-m.bottom;return so(so({brushBottom:g},m),{},{width:Math.max(v,0),height:Math.max(_,0)})}),LW=ie(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ZM=ie(ys,vs,(t,e)=>({x:0,y:0,width:t,height:e})),VW=S.createContext(null),bi=()=>S.useContext(VW)!=null,wy=t=>t.brush,Ey=ie([wy,Kn,QM],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:je(t.width)?t.width:e.width})),ex=()=>{var t,e=bi(),n=Be(LW),r=Be(Ey),i=(t=Be(wy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},UW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JM=()=>{var t;return(t=Be(Kn))!==null&&t!==void 0?t:UW},e3=()=>Be(ys),t3=()=>Be(vs),kt=t=>t.layout.layoutType,tx=()=>Be(kt),BW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},n3=qr({name:"legend",initialState:BW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=es(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:_oe,setLegendSettings:woe,addLegendPayload:zW,removeLegendPayload:FW}=n3.actions,qW=n3.reducer;function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(null,arguments)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){$W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $W(t,e,n){return(e=HW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=KW(t,"string");return typeof e=="symbol"?e:e+""}function KW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GW(t){return Array.isArray(t)&&ya(t[0])&&ya(t[1])?t.join(" ~ "):t}var YW=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:m,labelFormatter:g,accessibilityLayer:v=!1}=t,_=()=>{if(s&&s.length){var M={padding:0,margin:0},U=(c?hy(s,c):s).map((P,N)=>{if(P.type==="none")return null;var D=P.formatter||l||GW,{value:L,name:z}=P,F=L,B=z;if(D){var _e=D(L,z,P,N,s);if(Array.isArray(_e))[F,B]=_e;else if(_e!=null)F=_e;else return null}var me=p_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:me},ya(B)?S.createElement("span",{className:"recharts-tooltip-item-name"},B):null,ya(B)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},F),S.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:M},U)}return null},E=p_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=p_({margin:0},i),x=!cn(m),C=x?m:"",R=pt("recharts-default-tooltip",f),k=pt("recharts-tooltip-label",d);x&&g&&s!==void 0&&s!==null&&(C=g(m,s));var q=v?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",G1({className:R,style:E},q),S.createElement("p",{className:k,style:w},S.isValidElement(C)?C:"".concat(C)),_())},ed="recharts-tooltip-wrapper",WW={visibility:"hidden"};function XW(t){var{coordinate:e,translateX:n,translateY:r}=t;return pt(ed,{["".concat(ed,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(ed,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(ed,"-bottom")]:je(r)&&e&&je(e.y)&&r>=e.y,["".concat(ed,"-top")]:je(r)&&e&&je(e.y)&&r<e.y})}function ZI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=t;if(s&&je(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?m:g;var v=f[r];if(v==null)return 0;if(l[r]){var _=m,E=v;return _<E?Math.max(g,v):Math.max(m,v)}if(d==null)return 0;var w=g+c,x=v+d;return w>x?Math.max(m,v):Math.max(g,v)}function QW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ZW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:f}=t,d,m,g;return l.height>0&&l.width>0&&n?(m=ZI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=ZI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=QW({translateX:m,translateY:g,useTranslate3d:c})):d=WW,{cssProperties:d,cssClasses:XW({translateX:m,translateY:g,coordinate:n})}}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){Y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tX extends S.PureComponent{constructor(){super(...arguments),Y1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Y1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:m,reverseDirection:g,useTranslate3d:v,viewBox:_,wrapperStyle:E,lastBoundingBox:w,innerRef:x,hasPortalFromProps:C}=this.props,{cssClasses:R,cssProperties:k}=ZW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:_}),q=C?{}:tp(tp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=tp(tp({},q),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:M,ref:x},s)}}var nX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),dh={isSsr:nX()},r3=()=>Be(t=>t.rootProps.accessibilityLayer);function ji(t){return Number.isFinite(t)}function lg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(null,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){rX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rX(t,e,n){return(e=iX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iX(t){var e=aX(t,"string");return typeof e=="symbol"?e:e+""}function aX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nR={curveBasisClosed:JK,curveBasisOpen:eG,curveBasis:ZK,curveBumpX:XK,curveBumpY:QK,curveLinearClosed:tG,curveLinear:fy,curveMonotoneX:nG,curveMonotoneY:rG,curveNatural:iG,curveStep:aG,curveStepAfter:oG,curveStepBefore:sG},np=t=>ji(t.x)&&ji(t.y),td=t=>t.x,nd=t=>t.y,sX=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(LE(t));return(n==="curveMonotone"||n==="curveBump")&&e?nR["".concat(n).concat(e==="vertical"?"Y":"X")]:nR[n]||fy},oX=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=sX(e,i),c=s?n.filter(np):n,f;if(Array.isArray(r)){var d=s?r.filter(g=>np(g)):r,m=c.map((g,v)=>tR(tR({},g),{},{base:d[v]}));return i==="vertical"?f=Xm().y(nd).x1(td).x0(g=>g.base.x):f=Xm().x(td).y1(nd).y0(g=>g.base.y),f.defined(np).curve(l),f(m)}return i==="vertical"&&je(r)?f=Xm().y(nd).x1(td).x0(r):je(r)?f=Xm().x(td).y1(nd).y0(r):f=iM().x(td).y(nd),f.defined(np).curve(l),f(c)},i3=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?oX(t):r;return S.createElement("path",W1({},Lc(t),UE(t),{className:pt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},lX=["x","y","top","left","width","height","className"];function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(null,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){cX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cX(t,e,n){return(e=fX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hX(t,e){if(t==null)return{};var n,r,i=mX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pX=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),gX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,f=hX(t,lX),d=uX({x:e,y:n,top:r,left:i,width:s,height:l},f);return!je(e)||!je(n)||!je(s)||!je(l)||!je(r)||!je(i)?null:S.createElement("path",X1({},Dn(d,!0),{className:pt("recharts-cross",c),d:pX(e,n,s,l,r,i)}))};function yX(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){bX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bX(t,e,n){return(e=_X(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=wX(t,"string");return typeof e=="symbol"?e:e+""}function wX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vo(t,e){var n=vX({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var g_={},y_={},v_={},aR;function EX(){return aR||(aR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(v_)),v_}var sR;function xX(){return sR||(sR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EX(),n=gM(),r=$E(),i=HE(),s=FE();function l(d,m,g){return c(d,m,void 0,void 0,void 0,void 0,g)}function c(d,m,g,v,_,E,w){const x=w(d,m,g,v,_,E);if(x!==void 0)return x;if(typeof d==typeof m)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===m;case"number":return d===m||Object.is(d,m);case"function":return d===m;case"object":return f(d,m,E,w)}return f(d,m,E,w)}function f(d,m,g,v){if(Object.is(d,m))return!0;let _=r.getTag(d),E=r.getTag(m);if(_===i.argumentsTag&&(_=i.objectTag),E===i.argumentsTag&&(E=i.objectTag),_!==E)return!1;switch(_){case i.stringTag:return d.toString()===m.toString();case i.numberTag:{const C=d.valueOf(),R=m.valueOf();return s.eq(C,R)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),m.valueOf());case i.regexpTag:return d.source===m.source&&d.flags===m.flags;case i.functionTag:return d===m}g=g??new Map;const w=g.get(d),x=g.get(m);if(w!=null&&x!=null)return w===m;g.set(d,m),g.set(m,d);try{switch(_){case i.mapTag:{if(d.size!==m.size)return!1;for(const[C,R]of d.entries())if(!m.has(C)||!c(R,m.get(C),C,d,m,g,v))return!1;return!0}case i.setTag:{if(d.size!==m.size)return!1;const C=Array.from(d.values()),R=Array.from(m.values());for(let k=0;k<C.length;k++){const q=C[k],M=R.findIndex(U=>c(q,U,void 0,d,m,g,v));if(M===-1)return!1;R.splice(M,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(m)||d.length!==m.length)return!1;for(let C=0;C<d.length;C++)if(!c(d[C],m[C],C,d,m,g,v))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==m.byteLength?!1:f(new Uint8Array(d),new Uint8Array(m),g,v);case i.dataViewTag:return d.byteLength!==m.byteLength||d.byteOffset!==m.byteOffset?!1:f(new Uint8Array(d),new Uint8Array(m),g,v);case i.errorTag:return d.name===m.name&&d.message===m.message;case i.objectTag:{if(!(f(d.constructor,m.constructor,g,v)||e.isPlainObject(d)&&e.isPlainObject(m)))return!1;const R=[...Object.keys(d),...n.getSymbols(d)],k=[...Object.keys(m),...n.getSymbols(m)];if(R.length!==k.length)return!1;for(let q=0;q<R.length;q++){const M=R[q],U=d[M];if(!Object.hasOwn(m,M))return!1;const P=m[M];if(!c(U,P,M,d,m,g,v))return!1}return!0}default:return!1}}finally{g.delete(d),g.delete(m)}}t.isEqualWith=l}(y_)),y_}var b_={},oR;function TX(){return oR||(oR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(b_)),b_}var lR;function AX(){return lR||(lR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xX(),n=TX();function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r}(g_)),g_}var __,uR;function SX(){return uR||(uR=1,__=AX().isEqual),__}var CX=SX();const OX=ms(CX);var ug=1e-4,a3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],s3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),cR=(t,e)=>n=>{var r=a3(t,e);return s3(r,n)},IX=(t,e)=>n=>{var r=a3(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return s3(i,n)},fR=function(){for(var e,n,r,i,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else l.length===4&&([e,r,n,i]=l);var d=cR(e,n),m=cR(r,i),g=IX(e,n),v=E=>E>1?1:E<0?0:E,_=E=>{for(var w=E>1?1:E,x=w,C=0;C<8;++C){var R=d(x)-w,k=g(x);if(Math.abs(R-w)<ug||k<ug)return m(x);x=v(x-R/k)}return m(x)};return _.isStepper=!1,_},RX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,f)=>{var d=-(l-c)*n,m=f*r,g=f+(d-m)*i/1e3,v=f*i/1e3+l;return Math.abs(v-c)<ug&&Math.abs(g)<ug?[c,0]:[v,g]};return s.isStepper=!0,s.dt=i,s},o3=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fR(t);case"spring":return RX();default:if(t.split("(")[0]==="cubic-bezier")return fR(t)}return typeof t=="function"?t:null};function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){PX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PX(t,e,n){return(e=NX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NX(t){var e=DX(t,"string");return typeof e=="symbol"?e:e+""}function DX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),MX=(t,e,n)=>t.map(r=>"".concat(kX(r)," ").concat(e,"ms ").concat(n)).join(","),jX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Bd=(t,e)=>Object.keys(e).reduce((n,r)=>hR(hR({},n),{},{[r]:t(r,e[r])}),{});function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){LX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LX(t,e,n){return(e=VX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VX(t){var e=UX(t,"string");return typeof e=="symbol"?e:e+""}function UX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cg=(t,e,n)=>t+(e-t)*n,Q1=t=>{var{from:e,to:n}=t;return e!==n},l3=(t,e,n)=>{var r=Bd((i,s)=>{if(Q1(s)){var[l,c]=t(s.from,s.to,s.velocity);return Fn(Fn({},s),{},{from:l,velocity:c})}return s},e);return n<1?Bd((i,s)=>Q1(s)?Fn(Fn({},s),{},{velocity:cg(s.velocity,r[i].velocity,n),from:cg(s.from,r[i].from,n)}):s,e):l3(t,r,n-1)};function BX(t,e,n,r,i,s){var l,c=r.reduce((v,_)=>Fn(Fn({},v),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>Bd((v,_)=>_.from,c),d=()=>!Object.values(c).filter(Q1).length,m=null,g=v=>{l||(l=v);var _=v-l,E=_/n.dt;c=l3(n,c,E),i(Fn(Fn(Fn({},t),e),f())),l=v,d()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{m()})}function zX(t,e,n,r,i,s,l){var c=null,f=i.reduce((g,v)=>Fn(Fn({},g),{},{[v]:[t[v],e[v]]}),{}),d,m=g=>{d||(d=g);var v=(g-d)/r,_=Bd((w,x)=>cg(...x,n(v)),f);if(s(Fn(Fn(Fn({},t),e),_)),v<1)c=l.setTimeout(m);else{var E=Bd((w,x)=>cg(...x,n(1)),f);s(Fn(Fn(Fn({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{c()})}const u3=(t,e,n,r,i,s)=>{var l=jX(t,e);return n.isStepper===!0?BX(t,e,n,l,i,s):zX(t,e,n,r,l,i,s)};function FX(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){i=t.setTimeout(s.bind(null,d),f);return}s(f),i=t.setTimeout(s.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class qX{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function $X(){return FX(new qX)}var HX=S.createContext($X);function c3(t,e){var n=S.useContext(HX);return S.useMemo(()=>e??n(t),[t,e,n])}var KX=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z1.apply(null,arguments)}function GX(t,e){if(t==null)return{};var n,r,i=YX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Il(t,e,n){return(e=WX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=XX(t,"string");return typeof e=="symbol"?e:e+""}function XX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nx extends S.PureComponent{constructor(e,n){super(e,n),Il(this,"mounted",!1),Il(this,"manager",void 0),Il(this,"stopJSAnimation",null),Il(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:l,children:c,duration:f,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(s){if(typeof c=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:l,from:c}=this.props,{style:f}=this.state;if(r){if(!n){var d={style:i?{[i]:l}:l};this.state&&f&&(i&&f[i]!==l||!i&&f!==l)&&this.setState(d);return}if(!(OX(e.to,l)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||s?c:e.to;if(this.state&&f){var v={style:i?{[i]:g}:g};(i&&f[i]!==g||!i&&f!==g)&&this.setState(v)}this.runAnimation(oo(oo({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:f}=e,d=u3(n,r,o3(s),i,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=d()};this.manager.start([f,l,m,i,c])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:l,onAnimationStart:c,onAnimationEnd:f,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof d=="function"||l==="spring"){this.runJSAnimation(e);return}var m=i?{[i]:s}:s,g=MX(Object.keys(m),r,l);this.manager.start([c,n,oo(oo({},m),{},{transition:g}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:l,isActive:c,from:f,to:d,canBegin:m,onAnimationEnd:g,shouldReAnimate:v,onAnimationReStart:_,animationManager:E}=e,w=GX(e,KX),x=S.Children.count(n),C=this.state.style;if(typeof n=="function")return n(C);if(!c||x===0||i<=0)return n;var R=k=>{var{style:q={},className:M}=k.props,U=S.cloneElement(k,oo(oo({},w),{},{style:oo(oo({},q),C),className:M}));return U};return x===1?R(S.Children.only(n)):S.createElement("div",null,S.Children.map(n,k=>R(k)))}}Il(nx,"displayName","Animate");Il(nx,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function gR(t){var e,n=c3((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return S.createElement(nx,Z1({},t,{animationManager:n}))}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(null,arguments)}var yR=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=i[g]>s?s:i[g];d="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+c*m[0],",").concat(e)),d+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*m[1])),d+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),d+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*m[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);d="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*_," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},QX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZX=t=>{var e=Vo(t,QX),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&i(C)}catch{}},[]);var{x:s,y:l,width:c,height:f,radius:d,className:m}=e,{animationEasing:g,animationDuration:v,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:w}=e;if(s!==+s||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var x=pt("recharts-rectangle",m);return w?S.createElement(gR,{canBegin:r>0,from:{width:c,height:f,x:s,y:l},to:{width:c,height:f,x:s,y:l},duration:v,animationEasing:g,isActive:w},C=>{var{width:R,height:k,x:q,y:M}=C;return S.createElement(gR,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,isActive:E,easing:g},S.createElement("path",fg({},Dn(e,!0),{className:x,d:yR(q,M,R,k,d),ref:n})))}):S.createElement("path",fg({},Dn(e,!0),{className:x,d:yR(s,l,c,f,d)}))};function f3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=$n(e,n,r,i),c=$n(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(null,arguments)}var JX=(t,e)=>{var n=ci(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},rp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,d=c*(l?1:-1)+r,m=Math.asin(c/d)/og,g=f?i:i+s*m,v=$n(e,n,d,g),_=$n(e,n,r,g),E=f?i-s*m:i,w=$n(e,n,d*Math.cos(m*og),E);return{center:v,circleTangency:_,lineTangency:w,theta:m}},d3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=JX(s,l),f=s+c,d=$n(e,n,i,s),m=$n(e,n,i,f),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=$n(e,n,r,s),_=$n(e,n,r,f);g+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},eQ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=t,m=ci(d-f),{circleTangency:g,lineTangency:v,theta:_}=rp({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:E,lineTangency:w,theta:x}=rp({cx:e,cy:n,radius:i,angle:d,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=c?Math.abs(f-d):Math.abs(f-d)-_-x;if(C<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):d3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var R="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:q,theta:M}=rp({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:U,lineTangency:P,theta:N}=rp({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=c?Math.abs(f-d):Math.abs(f-d)-M-N;if(D<0&&s===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},tQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nQ=t=>{var e=Vo(t,tQ),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:m,className:g}=e;if(s<i||d===m)return null;var v=pt("recharts-sector",g),_=s-i,E=Po(l,_,0,!0),w;return E>0&&Math.abs(d-m)<360?w=eQ({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:m}):w=d3({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:m}),S.createElement("path",J1({},Dn(e,!0),{className:v,d:w}))};function rQ(t,e,n){var r,i,s,l;if(t==="horizontal")r=e.x,s=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:f,innerRadius:d,outerRadius:m,angle:g}=e,v=$n(c,f,d,g),_=$n(c,f,m,g);r=v.x,i=v.y,s=_.x,l=_.y}else return f3(e);return[{x:r,y:i},{x:s,y:l}]}var w_={},E_={},x_={},vR;function iQ(){return vR||(vR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_M();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(x_)),x_}var bR;function aQ(){return bR||(bR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iQ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(E_)),E_}var _R;function sQ(){return _R||(_R=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wM(),n=aQ();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=i,i+=l;return f}t.range=r}(w_)),w_}var T_,wR;function oQ(){return wR||(wR=1,T_=sQ().range),T_}var lQ=oQ();const h3=ms(lQ);function Eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rx(t){let e,n,r;t.length!==2?(e=Eo,n=(c,f)=>Eo(t(c),f),r=(c,f)=>t(c)-f):(e=t===Eo||t===uQ?t:cQ,n=t,r=t);function i(c,f,d=0,m=c.length){if(d<m){if(e(f,f)!==0)return m;do{const g=d+m>>>1;n(c[g],f)<0?d=g+1:m=g}while(d<m)}return d}function s(c,f,d=0,m=c.length){if(d<m){if(e(f,f)!==0)return m;do{const g=d+m>>>1;n(c[g],f)<=0?d=g+1:m=g}while(d<m)}return d}function l(c,f,d=0,m=c.length){const g=i(c,f,d,m-1);return g>d&&r(c[g-1],f)>-r(c[g],f)?g-1:g}return{left:i,center:l,right:s}}function cQ(){return 0}function m3(t){return t===null?NaN:+t}function*fQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const dQ=rx(Eo),hh=dQ.right;rx(m3).center;class ER extends Map{constructor(e,n=pQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(xR(this,e))}has(e){return super.has(xR(this,e))}set(e,n){return super.set(hQ(this,e),n)}delete(e){return super.delete(mQ(this,e))}}function xR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gQ(t=Eo){if(t===Eo)return p3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function p3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yQ=Math.sqrt(50),vQ=Math.sqrt(10),bQ=Math.sqrt(2);function dg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=yQ?10:s>=vQ?5:s>=bQ?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/l,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?dg(t,e,n*2):[c,f,d]}function ew(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?dg(e,t,n):dg(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(s-d)/-l;else for(let d=0;d<c;++d)f[d]=(s-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(i+d)/-l;else for(let d=0;d<c;++d)f[d]=(i+d)*l;return f}function tw(t,e,n){return e=+e,t=+t,n=+n,dg(t,e,n)[2]}function nw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tw(e,t,n):tw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function TR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function AR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function g3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?p3:gQ(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,m=Math.log(f),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(f-g)/f)*(d-f/2<0?-1:1),_=Math.max(n,Math.floor(e-d*g/f+v)),E=Math.min(r,Math.floor(e+(f-d)*g/f+v));g3(t,e,_,E,i)}const s=t[e];let l=n,c=r;for(rd(t,n,e),i(t[r],s)>0&&rd(t,n,r);l<c;){for(rd(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?rd(t,n,c):(++c,rd(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function rd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _Q(t,e,n){if(t=Float64Array.from(fQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return AR(t);if(e>=1)return TR(t);var r,i=(r-1)*e,s=Math.floor(i),l=TR(g3(t,s).subarray(0,s+1)),c=AR(t.subarray(s+1));return l+(c-l)*(i-s)}}function wQ(t,e,n=m3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function EQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function _i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rw=Symbol("implicit");function ix(){var t=new ER,e=[],n=[],r=rw;function i(s){let l=t.get(s);if(l===void 0){if(r!==rw)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ER;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ix(e,n).unknown(r)},_i.apply(i,arguments),i}function ax(){var t=ix().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,d=0,m=.5;delete t.unknown;function g(){var v=e().length,_=i<r,E=_?i:r,w=_?r:i;s=(w-E)/Math.max(1,v-f+d*2),c&&(s=Math.floor(s)),E+=(w-E-s*(v-f))*m,l=s*(1-f),c&&(E=Math.round(E),l=Math.round(l));var x=EQ(v).map(function(C){return E+s*C});return n(_?x.reverse():x)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(v){return arguments.length?(c=!!v,g()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),g()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},t.paddingOuter=function(v){return arguments.length?(d=+v,g()):d},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},t.copy=function(){return ax(e(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(m)},_i.apply(g(),arguments)}function y3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y3(e())},t}function xQ(){return y3(ax.apply(null,arguments).paddingInner(1))}function sx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mh(){}var zd=.7,hg=1/zd,cc="\\s*([+-]?\\d+)\\s*",Fd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TQ=/^#([0-9a-f]{3,8})$/,AQ=new RegExp(`^rgb\\(${cc},${cc},${cc}\\)$`),SQ=new RegExp(`^rgb\\(${ma},${ma},${ma}\\)$`),CQ=new RegExp(`^rgba\\(${cc},${cc},${cc},${Fd}\\)$`),OQ=new RegExp(`^rgba\\(${ma},${ma},${ma},${Fd}\\)$`),IQ=new RegExp(`^hsl\\(${Fd},${ma},${ma}\\)$`),RQ=new RegExp(`^hsla\\(${Fd},${ma},${ma},${Fd}\\)$`),SR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sx(mh,qd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CR,formatHex:CR,formatHex8:PQ,formatHsl:NQ,formatRgb:OR,toString:OR});function CR(){return this.rgb().formatHex()}function PQ(){return this.rgb().formatHex8()}function NQ(){return b3(this).formatHsl()}function OR(){return this.rgb().formatRgb()}function qd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=TQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IR(e):n===3?new br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ip(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ip(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AQ.exec(t))?new br(e[1],e[2],e[3],1):(e=SQ.exec(t))?new br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CQ.exec(t))?ip(e[1],e[2],e[3],e[4]):(e=OQ.exec(t))?ip(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IQ.exec(t))?NR(e[1],e[2]/100,e[3]/100,1):(e=RQ.exec(t))?NR(e[1],e[2]/100,e[3]/100,e[4]):SR.hasOwnProperty(t)?IR(SR[t]):t==="transparent"?new br(NaN,NaN,NaN,0):null}function IR(t){return new br(t>>16&255,t>>8&255,t&255,1)}function ip(t,e,n,r){return r<=0&&(t=e=n=NaN),new br(t,e,n,r)}function DQ(t){return t instanceof mh||(t=qd(t)),t?(t=t.rgb(),new br(t.r,t.g,t.b,t.opacity)):new br}function iw(t,e,n,r){return arguments.length===1?DQ(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}sx(br,iw,v3(mh,{brighter(t){return t=t==null?hg:Math.pow(hg,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zd:Math.pow(zd,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new br(Ll(this.r),Ll(this.g),Ll(this.b),mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RR,formatHex:RR,formatHex8:kQ,formatRgb:PR,toString:PR}));function RR(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}`}function kQ(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}${Rl((isNaN(this.opacity)?1:this.opacity)*255)}`}function PR(){const t=mg(this.opacity);return`${t===1?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${t===1?")":`, ${t})`}`}function mg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ll(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rl(t){return t=Ll(t),(t<16?"0":"")+t.toString(16)}function NR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pi(t,e,n,r)}function b3(t){if(t instanceof Pi)return new Pi(t.h,t.s,t.l,t.opacity);if(t instanceof mh||(t=qd(t)),!t)return new Pi;if(t instanceof Pi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new Pi(l,c,f,t.opacity)}function MQ(t,e,n,r){return arguments.length===1?b3(t):new Pi(t,e,n,r??1)}function Pi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sx(Pi,MQ,v3(mh,{brighter(t){return t=t==null?hg:Math.pow(hg,t),new Pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zd:Math.pow(zd,t),new Pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new br(A_(t>=240?t-240:t+120,i,r),A_(t,i,r),A_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Pi(DR(this.h),ap(this.s),ap(this.l),mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mg(this.opacity);return`${t===1?"hsl(":"hsla("}${DR(this.h)}, ${ap(this.s)*100}%, ${ap(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DR(t){return t=(t||0)%360,t<0?t+360:t}function ap(t){return Math.max(0,Math.min(1,t||0))}function A_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ox=t=>()=>t;function jQ(t,e){return function(n){return t+n*e}}function LQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VQ(t){return(t=+t)==1?_3:function(e,n){return n-e?LQ(e,n,t):ox(isNaN(e)?n:e)}}function _3(t,e){var n=e-t;return n?jQ(t,n):ox(isNaN(t)?e:t)}const kR=function t(e){var n=VQ(e);function r(i,s){var l=n((i=iw(i)).r,(s=iw(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),d=_3(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=t,r}(1);function UQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function BQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Vc(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function FQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Vc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var aw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S_=new RegExp(aw.source,"g");function $Q(t){return function(){return t}}function HQ(t){return function(e){return t(e)+""}}function KQ(t,e){var n=aw.lastIndex=S_.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=aw.exec(t))&&(i=S_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:pg(r,i)})),n=S_.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?HQ(f[0].x):$Q(e):(e=f.length,function(d){for(var m=0,g;m<e;++m)c[(g=f[m]).i]=g.x(d);return c.join("")})}function Vc(t,e){var n=typeof e,r;return e==null||n==="boolean"?ox(e):(n==="number"?pg:n==="string"?(r=qd(e))?(e=r,kR):KQ:e instanceof qd?kR:e instanceof Date?FQ:BQ(e)?UQ:Array.isArray(e)?zQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qQ:pg)(t,e)}function lx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function GQ(t,e){e===void 0&&(e=t,t=Vc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function YQ(t){return function(){return t}}function gg(t){return+t}var MR=[0,1];function ur(t){return t}function sw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:YQ(isNaN(e)?NaN:.5)}function WQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function XQ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=sw(i,r),s=n(l,s)):(r=sw(r,i),s=n(s,l)),function(c){return s(r(c))}}function QQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=sw(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=hh(t,c,1,r)-1;return s[f](i[f](c))}}function ph(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xy(){var t=MR,e=MR,n=Vc,r,i,s,l=ur,c,f,d;function m(){var v=Math.min(t.length,e.length);return l!==ur&&(l=WQ(t[0],t[v-1])),c=v>2?QQ:XQ,f=d=null,g}function g(v){return v==null||isNaN(v=+v)?s:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return g.invert=function(v){return l(i((d||(d=c(e,t.map(r),pg)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,gg),m()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=lx,m()},g.clamp=function(v){return arguments.length?(l=v?!0:ur,m()):l!==ur},g.interpolate=function(v){return arguments.length?(n=v,m()):n},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,_){return r=v,i=_,m()}}function ux(){return xy()(ur,ur)}function ZQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _c(t){return t=yg(Math.abs(t)),t?t[1]:NaN}function JQ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function eZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $d(t){if(!(e=tZ.exec(t)))throw new Error("invalid format: "+t);var e;return new cx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$d.prototype=cx.prototype;function cx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var w3;function rZ(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(w3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+yg(t,Math.max(0,e+s-1))[0]}function jR(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const LR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ZQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jR(t*100,e),r:jR,s:rZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function VR(t){return t}var UR=Array.prototype.map,BR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function iZ(t){var e=t.grouping===void 0||t.thousands===void 0?VR:JQ(UR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?VR:eZ(UR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(g){g=$d(g);var v=g.fill,_=g.align,E=g.sign,w=g.symbol,x=g.zero,C=g.width,R=g.comma,k=g.precision,q=g.trim,M=g.type;M==="n"?(R=!0,M="g"):LR[M]||(k===void 0&&(k=12),q=!0,M="g"),(x||v==="0"&&_==="=")&&(x=!0,v="0",_="=");var U=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",P=w==="$"?r:/[%p]/.test(M)?l:"",N=LR[M],D=/[defgprs%]/.test(M);k=k===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function L(z){var F=U,B=P,_e,me,te;if(M==="c")B=N(z)+B,z="";else{z=+z;var he=z<0||1/z<0;if(z=isNaN(z)?f:N(Math.abs(z),k),q&&(z=nZ(z)),he&&+z==0&&E!=="+"&&(he=!1),F=(he?E==="("?E:c:E==="-"||E==="("?"":E)+F,B=(M==="s"?BR[8+w3/3]:"")+B+(he&&E==="("?")":""),D){for(_e=-1,me=z.length;++_e<me;)if(te=z.charCodeAt(_e),48>te||te>57){B=(te===46?i+z.slice(_e+1):z.slice(_e))+B,z=z.slice(0,_e);break}}}R&&!x&&(z=e(z,1/0));var ve=F.length+z.length+B.length,xe=ve<C?new Array(C-ve+1).join(v):"";switch(R&&x&&(z=e(xe+z,xe.length?C-B.length:1/0),xe=""),_){case"<":z=F+z+B+xe;break;case"=":z=F+xe+z+B;break;case"^":z=xe.slice(0,ve=xe.length>>1)+F+z+B+xe.slice(ve);break;default:z=xe+F+z+B;break}return s(z)}return L.toString=function(){return g+""},L}function m(g,v){var _=d((g=$d(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(_c(v)/3)))*3,w=Math.pow(10,-E),x=BR[8+E/3];return function(C){return _(w*C)+x}}return{format:d,formatPrefix:m}}var sp,fx,E3;aZ({thousands:",",grouping:[3],currency:["$",""]});function aZ(t){return sp=iZ(t),fx=sp.format,E3=sp.formatPrefix,sp}function sZ(t){return Math.max(0,-_c(Math.abs(t)))}function oZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_c(e)/3)))*3-_c(Math.abs(t)))}function lZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_c(e)-_c(t))+1}function x3(t,e,n,r){var i=nw(t,e,n),s;switch(r=$d(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=oZ(i,l))&&(r.precision=s),E3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=lZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=sZ(i))&&(r.precision=s-(r.type==="%")*2);break}}return fx(r)}function Uo(t){var e=t.domain;return t.ticks=function(n){var r=e();return ew(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return x3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,d,m=10;for(c<l&&(d=l,l=c,c=d,d=i,i=s,s=d);m-- >0;){if(d=tw(l,c,n),d===f)return r[i]=l,r[s]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function T3(){var t=ux();return t.copy=function(){return ph(t,T3())},_i.apply(t,arguments),Uo(t)}function A3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,gg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return A3(t).unknown(e)},t=arguments.length?Array.from(t,gg):[0,1],Uo(n)}function S3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function zR(t){return Math.log(t)}function FR(t){return Math.exp(t)}function uZ(t){return-Math.log(-t)}function cZ(t){return-Math.exp(-t)}function fZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dZ(t){return t===10?fZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qR(t){return(e,n)=>-t(-e,n)}function dx(t){const e=t(zR,FR),n=e.domain;let r=10,i,s;function l(){return i=hZ(r),s=dZ(r),n()[0]<0?(i=qR(i),s=qR(s),t(uZ,cZ)):t(zR,FR),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let d=f[0],m=f[f.length-1];const g=m<d;g&&([d,m]=[m,d]);let v=i(d),_=i(m),E,w;const x=c==null?10:+c;let C=[];if(!(r%1)&&_-v<x){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(E=1;E<r;++E)if(w=v<0?E/s(-v):E*s(v),!(w<d)){if(w>m)break;C.push(w)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(w=v>0?E/s(-v):E*s(v),!(w<d)){if(w>m)break;C.push(w)}C.length*2<x&&(C=ew(d,m,x))}else C=ew(v,_,Math.min(_-v,x)).map(s);return g?C.reverse():C},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=$d(f)).precision==null&&(f.trim=!0),f=fx(f)),c===1/0)return f;const d=Math.max(1,r*c/e.ticks().length);return m=>{let g=m/s(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=d?f(m):""}},e.nice=()=>n(S3(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function C3(){const t=dx(xy()).domain([1,10]);return t.copy=()=>ph(t,C3()).base(t.base()),_i.apply(t,arguments),t}function $R(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function HR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hx(t){var e=1,n=t($R(e),HR(e));return n.constant=function(r){return arguments.length?t($R(e=+r),HR(e)):e},Uo(n)}function O3(){var t=hx(xy());return t.copy=function(){return ph(t,O3()).constant(t.constant())},_i.apply(t,arguments)}function KR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pZ(t){return t<0?-t*t:t*t}function mx(t){var e=t(ur,ur),n=1;function r(){return n===1?t(ur,ur):n===.5?t(mZ,pZ):t(KR(n),KR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Uo(e)}function px(){var t=mx(xy());return t.copy=function(){return ph(t,px()).exponent(t.exponent())},_i.apply(t,arguments),t}function gZ(){return px.apply(null,arguments).exponent(.5)}function GR(t){return Math.sign(t)*t*t}function yZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function I3(){var t=ux(),e=[0,1],n=!1,r;function i(s){var l=yZ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(GR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,gg)).map(GR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return I3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},_i.apply(i,arguments),Uo(i)}function R3(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=wQ(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[hh(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Eo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return R3().domain(t).range(e).unknown(r)},_i.apply(s,arguments)}function P3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[hh(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return P3().domain([t,e]).range(i).unknown(s)},_i.apply(Uo(l),arguments)}function N3(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[hh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return N3().domain(t).range(e).unknown(n)},_i.apply(i,arguments)}const C_=new Date,O_=new Date;function _n(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let d;do f.push(d=new Date(+s)),e(s,c),t(s);while(d<s&&s<l);return f},i.filter=s=>_n(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(C_.setTime(+s),O_.setTime(+l),t(C_),t(O_),Math.floor(n(C_,O_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const vg=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):vg);vg.range;const Xa=1e3,fi=Xa*60,Qa=fi*60,fs=Qa*24,gx=fs*7,YR=fs*30,I_=fs*365,Pl=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xa)},(t,e)=>(e-t)/Xa,t=>t.getUTCSeconds());Pl.range;const yx=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xa)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getMinutes());yx.range;const vx=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCMinutes());vx.range;const bx=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xa-t.getMinutes()*fi)},(t,e)=>{t.setTime(+t+e*Qa)},(t,e)=>(e-t)/Qa,t=>t.getHours());bx.range;const _x=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qa)},(t,e)=>(e-t)/Qa,t=>t.getUTCHours());_x.range;const gh=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fi)/fs,t=>t.getDate()-1);gh.range;const Ty=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>t.getUTCDate()-1);Ty.range;const D3=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>Math.floor(t/fs));D3.range;function iu(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fi)/gx)}const Ay=iu(0),bg=iu(1),vZ=iu(2),bZ=iu(3),wc=iu(4),_Z=iu(5),wZ=iu(6);Ay.range;bg.range;vZ.range;bZ.range;wc.range;_Z.range;wZ.range;function au(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/gx)}const Sy=au(0),_g=au(1),EZ=au(2),xZ=au(3),Ec=au(4),TZ=au(5),AZ=au(6);Sy.range;_g.range;EZ.range;xZ.range;Ec.range;TZ.range;AZ.range;const wx=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wx.range;const Ex=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ex.range;const ds=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ds.range;const hs=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});hs.range;function k3(t,e,n,r,i,s){const l=[[Pl,1,Xa],[Pl,5,5*Xa],[Pl,15,15*Xa],[Pl,30,30*Xa],[s,1,fi],[s,5,5*fi],[s,15,15*fi],[s,30,30*fi],[i,1,Qa],[i,3,3*Qa],[i,6,6*Qa],[i,12,12*Qa],[r,1,fs],[r,2,2*fs],[n,1,gx],[e,1,YR],[e,3,3*YR],[t,1,I_]];function c(d,m,g){const v=m<d;v&&([d,m]=[m,d]);const _=g&&typeof g.range=="function"?g:f(d,m,g),E=_?_.range(d,+m+1):[];return v?E.reverse():E}function f(d,m,g){const v=Math.abs(m-d)/g,_=rx(([,,x])=>x).right(l,v);if(_===l.length)return t.every(nw(d/I_,m/I_,g));if(_===0)return vg.every(Math.max(nw(d,m,g),1));const[E,w]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return E.every(w)}return[c,f]}const[SZ,CZ]=k3(hs,Ex,Sy,D3,_x,vx),[OZ,IZ]=k3(ds,wx,Ay,gh,bx,yx);function R_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function id(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function RZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,d=ad(i),m=sd(i),g=ad(s),v=sd(s),_=ad(l),E=sd(l),w=ad(c),x=sd(c),C=ad(f),R=sd(f),k={a:he,A:ve,b:xe,B:H,c:null,d:eP,e:eP,f:JZ,g:uJ,G:fJ,H:XZ,I:QZ,j:ZZ,L:M3,m:eJ,M:tJ,p:oe,q:ue,Q:rP,s:iP,S:nJ,u:rJ,U:iJ,V:aJ,w:sJ,W:oJ,x:null,X:null,y:lJ,Y:cJ,Z:dJ,"%":nP},q={a:ye,A:we,b:Me,B:ze,c:null,d:tP,e:tP,f:gJ,g:SJ,G:OJ,H:hJ,I:mJ,j:pJ,L:L3,m:yJ,M:vJ,p:Nt,q:Je,Q:rP,s:iP,S:bJ,u:_J,U:wJ,V:EJ,w:xJ,W:TJ,x:null,X:null,y:AJ,Y:CJ,Z:IJ,"%":nP},M={a:L,A:z,b:F,B,c:_e,d:ZR,e:ZR,f:KZ,g:QR,G:XR,H:JR,I:JR,j:FZ,L:HZ,m:zZ,M:qZ,p:D,q:BZ,Q:YZ,s:WZ,S:$Z,u:MZ,U:jZ,V:LZ,w:kZ,W:VZ,x:me,X:te,y:QR,Y:XR,Z:UZ,"%":GZ};k.x=U(n,k),k.X=U(r,k),k.c=U(e,k),q.x=U(n,q),q.X=U(r,q),q.c=U(e,q);function U(ge,Ie){return function(Ue){var de=[],yt=-1,et=0,Ut=ge.length,Mt,hr,K;for(Ue instanceof Date||(Ue=new Date(+Ue));++yt<Ut;)ge.charCodeAt(yt)===37&&(de.push(ge.slice(et,yt)),(hr=WR[Mt=ge.charAt(++yt)])!=null?Mt=ge.charAt(++yt):hr=Mt==="e"?" ":"0",(K=Ie[Mt])&&(Mt=K(Ue,hr)),de.push(Mt),et=yt+1);return de.push(ge.slice(et,yt)),de.join("")}}function P(ge,Ie){return function(Ue){var de=id(1900,void 0,1),yt=N(de,ge,Ue+="",0),et,Ut;if(yt!=Ue.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Ie&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(et=P_(id(de.y,0,1)),Ut=et.getUTCDay(),et=Ut>4||Ut===0?_g.ceil(et):_g(et),et=Ty.offset(et,(de.V-1)*7),de.y=et.getUTCFullYear(),de.m=et.getUTCMonth(),de.d=et.getUTCDate()+(de.w+6)%7):(et=R_(id(de.y,0,1)),Ut=et.getDay(),et=Ut>4||Ut===0?bg.ceil(et):bg(et),et=gh.offset(et,(de.V-1)*7),de.y=et.getFullYear(),de.m=et.getMonth(),de.d=et.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Ut="Z"in de?P_(id(de.y,0,1)).getUTCDay():R_(id(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Ut+5)%7:de.w+de.U*7-(Ut+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,P_(de)):R_(de)}}function N(ge,Ie,Ue,de){for(var yt=0,et=Ie.length,Ut=Ue.length,Mt,hr;yt<et;){if(de>=Ut)return-1;if(Mt=Ie.charCodeAt(yt++),Mt===37){if(Mt=Ie.charAt(yt++),hr=M[Mt in WR?Ie.charAt(yt++):Mt],!hr||(de=hr(ge,Ue,de))<0)return-1}else if(Mt!=Ue.charCodeAt(de++))return-1}return de}function D(ge,Ie,Ue){var de=d.exec(Ie.slice(Ue));return de?(ge.p=m.get(de[0].toLowerCase()),Ue+de[0].length):-1}function L(ge,Ie,Ue){var de=_.exec(Ie.slice(Ue));return de?(ge.w=E.get(de[0].toLowerCase()),Ue+de[0].length):-1}function z(ge,Ie,Ue){var de=g.exec(Ie.slice(Ue));return de?(ge.w=v.get(de[0].toLowerCase()),Ue+de[0].length):-1}function F(ge,Ie,Ue){var de=C.exec(Ie.slice(Ue));return de?(ge.m=R.get(de[0].toLowerCase()),Ue+de[0].length):-1}function B(ge,Ie,Ue){var de=w.exec(Ie.slice(Ue));return de?(ge.m=x.get(de[0].toLowerCase()),Ue+de[0].length):-1}function _e(ge,Ie,Ue){return N(ge,e,Ie,Ue)}function me(ge,Ie,Ue){return N(ge,n,Ie,Ue)}function te(ge,Ie,Ue){return N(ge,r,Ie,Ue)}function he(ge){return l[ge.getDay()]}function ve(ge){return s[ge.getDay()]}function xe(ge){return f[ge.getMonth()]}function H(ge){return c[ge.getMonth()]}function oe(ge){return i[+(ge.getHours()>=12)]}function ue(ge){return 1+~~(ge.getMonth()/3)}function ye(ge){return l[ge.getUTCDay()]}function we(ge){return s[ge.getUTCDay()]}function Me(ge){return f[ge.getUTCMonth()]}function ze(ge){return c[ge.getUTCMonth()]}function Nt(ge){return i[+(ge.getUTCHours()>=12)]}function Je(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ie=U(ge+="",k);return Ie.toString=function(){return ge},Ie},parse:function(ge){var Ie=P(ge+="",!1);return Ie.toString=function(){return ge},Ie},utcFormat:function(ge){var Ie=U(ge+="",q);return Ie.toString=function(){return ge},Ie},utcParse:function(ge){var Ie=P(ge+="",!0);return Ie.toString=function(){return ge},Ie}}}var WR={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,PZ=/^%/,NZ=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function DZ(t){return t.replace(NZ,"\\$&")}function ad(t){return new RegExp("^(?:"+t.map(DZ).join("|")+")","i")}function sd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kZ(t,e,n){var r=kn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function MZ(t,e,n){var r=kn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jZ(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function LZ(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function VZ(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function XR(t,e,n){var r=kn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function QR(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function UZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function BZ(t,e,n){var r=kn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function zZ(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ZR(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function FZ(t,e,n){var r=kn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function JR(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qZ(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $Z(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function HZ(t,e,n){var r=kn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function KZ(t,e,n){var r=kn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function GZ(t,e,n){var r=PZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function YZ(t,e,n){var r=kn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function WZ(t,e,n){var r=kn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function eP(t,e){return gt(t.getDate(),e,2)}function XZ(t,e){return gt(t.getHours(),e,2)}function QZ(t,e){return gt(t.getHours()%12||12,e,2)}function ZZ(t,e){return gt(1+gh.count(ds(t),t),e,3)}function M3(t,e){return gt(t.getMilliseconds(),e,3)}function JZ(t,e){return M3(t,e)+"000"}function eJ(t,e){return gt(t.getMonth()+1,e,2)}function tJ(t,e){return gt(t.getMinutes(),e,2)}function nJ(t,e){return gt(t.getSeconds(),e,2)}function rJ(t){var e=t.getDay();return e===0?7:e}function iJ(t,e){return gt(Ay.count(ds(t)-1,t),e,2)}function j3(t){var e=t.getDay();return e>=4||e===0?wc(t):wc.ceil(t)}function aJ(t,e){return t=j3(t),gt(wc.count(ds(t),t)+(ds(t).getDay()===4),e,2)}function sJ(t){return t.getDay()}function oJ(t,e){return gt(bg.count(ds(t)-1,t),e,2)}function lJ(t,e){return gt(t.getFullYear()%100,e,2)}function uJ(t,e){return t=j3(t),gt(t.getFullYear()%100,e,2)}function cJ(t,e){return gt(t.getFullYear()%1e4,e,4)}function fJ(t,e){var n=t.getDay();return t=n>=4||n===0?wc(t):wc.ceil(t),gt(t.getFullYear()%1e4,e,4)}function dJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function tP(t,e){return gt(t.getUTCDate(),e,2)}function hJ(t,e){return gt(t.getUTCHours(),e,2)}function mJ(t,e){return gt(t.getUTCHours()%12||12,e,2)}function pJ(t,e){return gt(1+Ty.count(hs(t),t),e,3)}function L3(t,e){return gt(t.getUTCMilliseconds(),e,3)}function gJ(t,e){return L3(t,e)+"000"}function yJ(t,e){return gt(t.getUTCMonth()+1,e,2)}function vJ(t,e){return gt(t.getUTCMinutes(),e,2)}function bJ(t,e){return gt(t.getUTCSeconds(),e,2)}function _J(t){var e=t.getUTCDay();return e===0?7:e}function wJ(t,e){return gt(Sy.count(hs(t)-1,t),e,2)}function V3(t){var e=t.getUTCDay();return e>=4||e===0?Ec(t):Ec.ceil(t)}function EJ(t,e){return t=V3(t),gt(Ec.count(hs(t),t)+(hs(t).getUTCDay()===4),e,2)}function xJ(t){return t.getUTCDay()}function TJ(t,e){return gt(_g.count(hs(t)-1,t),e,2)}function AJ(t,e){return gt(t.getUTCFullYear()%100,e,2)}function SJ(t,e){return t=V3(t),gt(t.getUTCFullYear()%100,e,2)}function CJ(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function OJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ec(t):Ec.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function IJ(){return"+0000"}function nP(){return"%"}function rP(t){return+t}function iP(t){return Math.floor(+t/1e3)}var Xu,U3,B3;RJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RJ(t){return Xu=RZ(t),U3=Xu.format,Xu.parse,B3=Xu.utcFormat,Xu.utcParse,Xu}function PJ(t){return new Date(t)}function NJ(t){return t instanceof Date?+t:+new Date(+t)}function xx(t,e,n,r,i,s,l,c,f,d){var m=ux(),g=m.invert,v=m.domain,_=d(".%L"),E=d(":%S"),w=d("%I:%M"),x=d("%I %p"),C=d("%a %d"),R=d("%b %d"),k=d("%B"),q=d("%Y");function M(U){return(f(U)<U?_:c(U)<U?E:l(U)<U?w:s(U)<U?x:r(U)<U?i(U)<U?C:R:n(U)<U?k:q)(U)}return m.invert=function(U){return new Date(g(U))},m.domain=function(U){return arguments.length?v(Array.from(U,NJ)):v().map(PJ)},m.ticks=function(U){var P=v();return t(P[0],P[P.length-1],U??10)},m.tickFormat=function(U,P){return P==null?M:d(P)},m.nice=function(U){var P=v();return(!U||typeof U.range!="function")&&(U=e(P[0],P[P.length-1],U??10)),U?v(S3(P,U)):m},m.copy=function(){return ph(m,xx(t,e,n,r,i,s,l,c,f,d))},m}function DJ(){return _i.apply(xx(OZ,IZ,ds,wx,Ay,gh,bx,yx,Pl,U3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kJ(){return _i.apply(xx(SZ,CZ,hs,Ex,Sy,Ty,_x,vx,Pl,B3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cy(){var t=0,e=1,n,r,i,s,l=ur,c=!1,f;function d(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(g){return arguments.length?(c=!!g,d):c},d.interpolator=function(g){return arguments.length?(l=g,d):l};function m(g){return function(v){var _,E;return arguments.length?([_,E]=v,l=g(_,E),d):[l(0),l(1)]}}return d.range=m(Vc),d.rangeRound=m(lx),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),d}}function Bo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function z3(){var t=Uo(Cy()(ur));return t.copy=function(){return Bo(t,z3())},bs.apply(t,arguments)}function F3(){var t=dx(Cy()).domain([1,10]);return t.copy=function(){return Bo(t,F3()).base(t.base())},bs.apply(t,arguments)}function q3(){var t=hx(Cy());return t.copy=function(){return Bo(t,q3()).constant(t.constant())},bs.apply(t,arguments)}function Tx(){var t=mx(Cy());return t.copy=function(){return Bo(t,Tx()).exponent(t.exponent())},bs.apply(t,arguments)}function MJ(){return Tx.apply(null,arguments).exponent(.5)}function $3(){var t=[],e=ur;function n(r){if(r!=null&&!isNaN(r=+r))return e((hh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Eo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_Q(t,s/r))},n.copy=function(){return $3(e).domain(t)},bs.apply(n,arguments)}function Oy(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,d=ur,m,g=!1,v;function _(w){return isNaN(w=+w)?v:(w=.5+((w=+m(w))-s)*(r*w<r*s?c:f),d(g?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([t,e,n]=w,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(w){return arguments.length?(g=!!w,_):g},_.interpolator=function(w){return arguments.length?(d=w,_):d};function E(w){return function(x){var C,R,k;return arguments.length?([C,R,k]=x,d=GQ(w,[C,R,k]),_):[d(0),d(.5),d(1)]}}return _.range=E(Vc),_.rangeRound=E(lx),_.unknown=function(w){return arguments.length?(v=w,_):v},function(w){return m=w,i=w(t),s=w(e),l=w(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function H3(){var t=Uo(Oy()(ur));return t.copy=function(){return Bo(t,H3())},bs.apply(t,arguments)}function K3(){var t=dx(Oy()).domain([.1,1,10]);return t.copy=function(){return Bo(t,K3()).base(t.base())},bs.apply(t,arguments)}function G3(){var t=hx(Oy());return t.copy=function(){return Bo(t,G3()).constant(t.constant())},bs.apply(t,arguments)}function Ax(){var t=mx(Oy());return t.copy=function(){return Bo(t,Ax()).exponent(t.exponent())},bs.apply(t,arguments)}function jJ(){return Ax.apply(null,arguments).exponent(.5)}const md=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ax,scaleDiverging:H3,scaleDivergingLog:K3,scaleDivergingPow:Ax,scaleDivergingSqrt:jJ,scaleDivergingSymlog:G3,scaleIdentity:A3,scaleImplicit:rw,scaleLinear:T3,scaleLog:C3,scaleOrdinal:ix,scalePoint:xQ,scalePow:px,scaleQuantile:R3,scaleQuantize:P3,scaleRadial:I3,scaleSequential:z3,scaleSequentialLog:F3,scaleSequentialPow:Tx,scaleSequentialQuantile:$3,scaleSequentialSqrt:MJ,scaleSequentialSymlog:q3,scaleSqrt:gZ,scaleSymlog:O3,scaleThreshold:N3,scaleTime:DJ,scaleUtc:kJ,tickFormat:x3},Symbol.toStringTag,{value:"Module"}));var zo=t=>t.chartData,LJ=ie([zo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Sx=(t,e,n,r)=>r?LJ(t):zo(t);function xc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ji(e)&&ji(n))return!0}return!1}function aP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function VJ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(ji(n))i=n;else if(typeof n=="function")return;if(ji(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(xc(l))return l}}function UJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(xc(r))return aP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(je(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&GI.test(i)){var f=GI.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(je(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&YI.test(s)){var m=YI.exec(s);if(m==null||e==null)c=void 0;else{var g=+m[1];c=e[1]+g}}else c=e==null?void 0:e[1];var v=[l,c];if(xc(v))return e==null?v:aP(v,e,n)}}}var Uc=1e9,BJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ox,Lt=!0,yi="[DecimalError] ",Vl=yi+"Invalid argument: ",Cx=yi+"Exponent out of range: ",Bc=Math.floor,Tl=Math.pow,zJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,Nn=1e7,Dt=7,Y3=9007199254740991,wg=Bc(Y3/Dt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return ts(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Ot(ts(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return fn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mr))throw Error(yi+"NaN");if(n.s<1)throw Error(yi+(n.s?"NaN":"-Infinity"));return n.eq(Mr)?new r(0):(Lt=!1,e=ts(Hd(n,s),Hd(t,s),s),Lt=!0,Ot(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q3(e,t):W3(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(yi+"NaN");return n.s?(Lt=!1,e=ts(n,t,0,1).times(t),Lt=!0,n.minus(e)):Ot(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return X3(this)};Pe.naturalLogarithm=Pe.ln=function(){return Hd(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W3(e,t):Q3(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Vl+t);if(e=fn(i)+1,r=i.d.length-1,n=r*Dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(yi+"NaN")}for(t=fn(c),Lt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=oa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(ts(c,s,l+2)).times(.5),oa(s.d).slice(0,l)===(e=oa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ot(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Lt=!0,Ot(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,s,l,c,f,d,m=this,g=m.constructor,v=m.d,_=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,f=v.length,d=_.length,f<d&&(s=v,v=_,_=s,l=f,f=d,d=l),s=[],l=f+d,r=l;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+_[r]*v[i-r-1]+e,s[i--]=c%Nn|0,e=c/Nn|0;s[i]=(s[i]+e)%Nn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Lt?Ot(t,g.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(va(t,0,Uc),e===void 0?e=r.rounding:va(e,0,8),Ot(n,t+fn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xl(r,!0):(va(t,0,Uc),e===void 0?e=i.rounding:va(e,0,8),r=Ot(new i(r),t+1,e),n=Xl(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Xl(i):(va(t,0,Uc),e===void 0?e=s.rounding:va(e,0,8),r=Ot(new s(i),t+fn(i)+1,e),n=Xl(r.abs(),!1,t+fn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),fn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,d=12,m=+(t=new f(t));if(!t.s)return new f(Mr);if(c=new f(c),!c.s){if(t.s<1)throw Error(yi+"Infinity");return c}if(c.eq(Mr))return c;if(r=f.precision,t.eq(Mr))return Ot(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=Y3){for(i=new f(Mr),e=Math.ceil(r/Dt+4),Lt=!1;n%2&&(i=i.times(c),oP(i.d,e)),n=Bc(n/2),n!==0;)c=c.times(c),oP(c.d,e);return Lt=!0,t.s<0?new f(Mr).div(i):Ot(i,r)}}else if(s<0)throw Error(yi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Lt=!1,i=t.times(Hd(c,r+d)),Lt=!0,i=X3(i),i.s=s,i};Pe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=fn(i),r=Xl(i,n<=s.toExpNeg||n>=s.toExpPos)):(va(t,1,Uc),e===void 0?e=s.rounding:va(e,0,8),i=Ot(new s(i),t,e),n=fn(i),r=Xl(i,t<=n||n<=s.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(va(t,1,Uc),e===void 0?e=r.rounding:va(e,0,8)),Ot(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fn(t),n=t.constructor;return Xl(t,e<=n.toExpNeg||e>=n.toExpPos)};function W3(t,e){var n,r,i,s,l,c,f,d,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Lt?Ot(e,g):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=d.length):(r=d,i=l,c=f.length),l=Math.ceil(g/Dt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=d.length,c-s<0&&(s=c,r=d,d=f,f=r),n=0;s;)n=(f[--s]=f[s]+d[s]+n)/Nn|0,f[s]%=Nn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Lt?Ot(e,g):e}function va(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Vl+t)}function oa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Dt-r.length,n&&(s+=lo(n)),s+=r;l=t[e],r=l+"",n=Dt-r.length,n&&(s+=lo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ts=function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Nn|0,l=s/Nn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Nn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,d,m,g,v,_,E,w,x,C,R,k,q,M,U,P,N,D=r.constructor,L=r.s==i.s?1:-1,z=r.d,F=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(yi+"Division by zero");for(f=r.e-i.e,P=F.length,M=z.length,_=new D(L),E=_.d=[],d=0;F[d]==(z[d]||0);)++d;if(F[d]>(z[d]||0)&&--f,s==null?R=s=D.precision:l?R=s+(fn(r)-fn(i))+1:R=s,R<0)return new D(0);if(R=R/Dt+2|0,d=0,P==1)for(m=0,F=F[0],R++;(d<M||m)&&R--;d++)k=m*Nn+(z[d]||0),E[d]=k/F|0,m=k%F|0;else{for(m=Nn/(F[0]+1)|0,m>1&&(F=t(F,m),z=t(z,m),P=F.length,M=z.length),q=P,w=z.slice(0,P),x=w.length;x<P;)w[x++]=0;N=F.slice(),N.unshift(0),U=F[0],F[1]>=Nn/2&&++U;do m=0,c=e(F,w,P,x),c<0?(C=w[0],P!=x&&(C=C*Nn+(w[1]||0)),m=C/U|0,m>1?(m>=Nn&&(m=Nn-1),g=t(F,m),v=g.length,x=w.length,c=e(g,w,v,x),c==1&&(m--,n(g,P<v?N:F,v))):(m==0&&(c=m=1),g=F.slice()),v=g.length,v<x&&g.unshift(0),n(w,g,x),c==-1&&(x=w.length,c=e(F,w,P,x),c<1&&(m++,n(w,P<x?N:F,x))),x=w.length):c===0&&(m++,w=[0]),E[d++]=m,c&&w[0]?w[x++]=z[q]||0:(w=[z[q]],x=1);while((q++<M||w[0]!==void 0)&&R--)}return E[0]||E.shift(),_.e=f,Ot(_,l?s+fn(_)+1:s)}}();function X3(t,e){var n,r,i,s,l,c,f=0,d=0,m=t.constructor,g=m.precision;if(fn(t)>16)throw Error(Cx+fn(t));if(!t.s)return new m(Mr);for(Lt=!1,c=g,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Tl(2,d))/Math.LN10*2+5|0,c+=r,n=i=s=new m(Mr),m.precision=c;;){if(i=Ot(i.times(t),c),n=n.times(++f),l=s.plus(ts(i,n,c)),oa(l.d).slice(0,c)===oa(s.d).slice(0,c)){for(;d--;)s=Ot(s.times(s),c);return m.precision=g,e==null?(Lt=!0,Ot(s,g)):s}s=l}}function fn(t){for(var e=t.e*Dt,n=t.d[0];n>=10;n/=10)e++;return e}function N_(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(yi+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function lo(t){for(var e="";t--;)e+="0";return e}function Hd(t,e){var n,r,i,s,l,c,f,d,m,g=1,v=10,_=t,E=_.d,w=_.constructor,x=w.precision;if(_.s<1)throw Error(yi+(_.s?"NaN":"-Infinity"));if(_.eq(Mr))return new w(0);if(e==null?(Lt=!1,d=x):d=e,_.eq(10))return e==null&&(Lt=!0),N_(w,d);if(d+=v,w.precision=d,n=oa(E),r=n.charAt(0),s=fn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=oa(_.d),r=n.charAt(0),g++;s=fn(_),r>1?(_=new w("0."+n),s++):_=new w(r+"."+n.slice(1))}else return f=N_(w,d+2,x).times(s+""),_=Hd(new w(r+"."+n.slice(1)),d-v).plus(f),w.precision=x,e==null?(Lt=!0,Ot(_,x)):_;for(c=l=_=ts(_.minus(Mr),_.plus(Mr),d),m=Ot(_.times(_),d),i=3;;){if(l=Ot(l.times(m),d),f=c.plus(ts(l,new w(i),d)),oa(f.d).slice(0,d)===oa(c.d).slice(0,d))return c=c.times(2),s!==0&&(c=c.plus(N_(w,d+2,x).times(s+""))),c=ts(c,new w(g),d),w.precision=x,e==null?(Lt=!0,Ot(c,x)):c;c=f,i+=2}}function sP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bc(n/Dt),t.d=[],r=(n+1)%Dt,n<0&&(r+=Dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Dt;r<i;)t.d.push(+e.slice(r,r+=Dt));e=e.slice(r),r=Dt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>wg||t.e<-wg))throw Error(Cx+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,i,s,l,c,f,d,m,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Dt,i=e,d=g[m=0];else{if(m=Math.ceil((r+1)/Dt),s=g.length,m>=s)return t;for(d=s=g[m],l=1;s>=10;s/=10)l++;r%=Dt,i=r-Dt+l}if(n!==void 0&&(s=Tl(10,l-i-1),c=d/s%10|0,f=e<0||g[m+1]!==void 0||d%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?d/Tl(10,l-i):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=fn(t),g.length=1,e=e-s-1,g[0]=Tl(10,(Dt-e%Dt)%Dt),t.e=Bc(-e/Dt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,s=1,m--):(g.length=m+1,s=Tl(10,Dt-r),g[m]=i>0?(d/Tl(10,l-i)%Tl(10,i)|0)*s:0),f)for(;;)if(m==0){(g[0]+=s)==Nn&&(g[0]=1,++t.e);break}else{if(g[m]+=s,g[m]!=Nn)break;g[m--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Lt&&(t.e>wg||t.e<-wg))throw Error(Cx+fn(t));return t}function Q3(t,e){var n,r,i,s,l,c,f,d,m,g,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Lt?Ot(e,_):e;if(f=t.d,g=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(m=l<0,m?(n=f,l=-l,c=g.length):(n=g,r=d,c=f.length),i=Math.max(Math.ceil(_/Dt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=g.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(f[i]!=g[i]){m=f[i]<g[i];break}l=0}for(m&&(n=f,f=g,g=n,e.s=-e.s),c=f.length,i=g.length-c;i>0;--i)f[c++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Nn-1;--f[s],f[i]+=Nn}f[i]-=g[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Lt?Ot(e,_):e):new v(0)}function Xl(t,e,n){var r,i=fn(t),s=oa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+lo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+lo(-i-1)+s,n&&(r=n-l)>0&&(s+=lo(r))):i>=l?(s+=lo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+lo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=lo(r))),t.s<0?"-"+s:s}function oP(t,e){if(t.length>e)return t.length=e,!0}function Z3(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Vl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return sP(l,s.toString())}else if(typeof s!="string")throw Error(Vl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,zJ.test(s))sP(l,s);else throw Error(Vl+s)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Z3,i.config=i.set=FJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function FJ(t){if(!t||typeof t!="object")throw Error(yi+"Object expected");var e,n,r,i=["precision",1,Uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Vl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vl+n+": "+r);return this}var Ox=Z3(BJ);Mr=new Ox(1);const _t=Ox;var qJ=t=>t,J3={},ej=t=>t===J3,lP=t=>function e(){return arguments.length===0||arguments.length===1&&ej(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},tj=(t,e)=>t===1?e:lP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==J3).length;return s>=t?e(...r):tj(t-s,lP(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=r.map(m=>ej(m)?c.shift():m);return e(...d,...c)}))}),Iy=t=>tj(t.length,t),ow=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},$J=Iy((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),HJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return qJ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),s(...arguments))}},lw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),nj=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((l,c)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[c])})||(e=i,n=t(...i)),n}};function rj(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function ij(t,e,n){for(var r=new _t(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Iy((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Iy((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Iy((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var aj=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},sj=(t,e,n)=>{if(t.lte(0))return new _t(0);var r=rj(t.toNumber()),i=new _t(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new _t(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new _t(f.toNumber()):new _t(Math.ceil(f.toNumber()))},KJ=(t,e,n)=>{var r=new _t(1),i=new _t(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new _t(10).pow(rj(t)-1),i=new _t(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new _t(Math.floor(t)))}else t===0?i=new _t(Math.floor((e-1)/2)):n||(i=new _t(Math.floor(t)));var l=Math.floor((e-1)/2),c=HJ($J(f=>i.add(new _t(f-l).mul(r)).toNumber()),ow);return c(0,e)},oj=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var l=sj(new _t(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new _t(0):(c=new _t(e).add(n).div(2),c=c.sub(new _t(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new _t(n).sub(c).div(l).toNumber()),m=f+d+1;return m>r?oj(e,n,r,i,s+1):(m<r&&(d=n>0?d+(r-m):d,f=n>0?f:f+(r-m)),{step:l,tickMin:c.sub(new _t(f).mul(l)),tickMax:c.add(new _t(d).mul(l))})};function GJ(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,c]=aj([e,n]);if(l===-1/0||c===1/0){var f=c===1/0?[l,...ow(0,r-1).map(()=>1/0)]:[...ow(0,r-1).map(()=>-1/0),c];return e>n?lw(f):f}if(l===c)return KJ(l,r,i);var{step:d,tickMin:m,tickMax:g}=oj(l,c,s,i,0),v=ij(m,g.add(new _t(.1).mul(d)),d);return e>n?lw(v):v}function YJ(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=aj([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var c=Math.max(e,2),f=sj(new _t(l).sub(s).div(c-1),i,0),d=[...ij(new _t(s),new _t(l),f),l];return i===!1&&(d=d.map(m=>Math.round(m))),n>r?lw(d):d}var WJ=nj(GJ),XJ=nj(YJ),QJ=t=>t.rootProps.barCategoryGap,Ry=t=>t.rootProps.stackOffset,Ix=t=>t.options.chartName,Rx=t=>t.rootProps.syncId,lj=t=>t.rootProps.syncMethod,Px=t=>t.options.eventEmitter,Ka={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Dr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Py=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ZJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ka.angleAxisId,includeHidden:!1,name:void 0,reversed:Ka.reversed,scale:Ka.scale,tick:Ka.tick,tickCount:void 0,ticks:void 0,type:Ka.type,unit:void 0},JJ={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dr.scale,tick:Dr.tick,tickCount:Dr.tickCount,ticks:void 0,type:Dr.type,unit:void 0},eee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ka.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ka.scale,tick:Ka.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},tee={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dr.scale,tick:Dr.tick,tickCount:Dr.tickCount,ticks:void 0,type:"category",unit:void 0},Nx=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?eee:ZJ,Dx=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?tee:JJ,Ny=t=>t.polarOptions,kx=ie([ys,vs,Kn],lW),uj=ie([Ny,kx],(t,e)=>{if(t!=null)return Po(t.innerRadius,e,0)}),cj=ie([Ny,kx],(t,e)=>{if(t!=null)return Po(t.outerRadius,e,e*.8)}),nee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},fj=ie([Ny],nee);ie([Nx,fj],Py);var dj=ie([kx,uj,cj],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([Dx,dj],Py);var hj=ie([kt,Ny,uj,cj,ys,vs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=e;return{cx:Po(l,i,i/2),cy:Po(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),dn=(t,e)=>e,Dy=(t,e,n)=>n;function mj(t){return t==null?void 0:t.id}var wn=t=>{var e=kt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},zc=t=>t.tooltip.settings.axisId,En=t=>{var e=wn(t),n=zc(t);return yh(t,e,n)};function pj(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,s=new Map;return t.forEach(l=>{var c,f=(c=l.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var d=mj(l);f.forEach((m,g)=>{var v=i==null?g:String(fr(m,i,null)),_=fr(m,l.dataKey,0),E;s.has(v)?E=s.get(v):E={},Object.assign(E,{[d]:_}),s.set(v,E)})}}),Array.from(s.values())}function Mx(t){return t.stackId!=null&&t.dataKey!=null}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ree(t,e,n){return(e=iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=aee(t,"string");return typeof e=="symbol"?e:e+""}function aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uw=[0,"auto"],Pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_s=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Pr},Nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:uw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_y},Fo=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Nr},see={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jx=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??see},xr=(t,e,n)=>{switch(e){case"xAxis":return _s(t,n);case"yAxis":return Fo(t,n);case"zAxis":return jx(t,n);case"angleAxis":return Nx(t,n);case"radiusAxis":return Dx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},oee=(t,e,n)=>{switch(e){case"xAxis":return _s(t,n);case"yAxis":return Fo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yh=(t,e,n)=>{switch(e){case"xAxis":return _s(t,n);case"yAxis":return Fo(t,n);case"angleAxis":return Nx(t,n);case"radiusAxis":return Dx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gj=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function yj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var vj=t=>t.graphicalItems.cartesianItems,lee=ie([dn,Dy],yj),bj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),vh=ie([vj,xr,lee],bj),_j=ie([vh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Mx)),wj=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Ej=ie([vh],wj),xj=t=>t.map(e=>e.data).filter(Boolean).flat(1),uee=ie([vh],xj),Tj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Lx=ie([uee,Sx],Tj),Aj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:fr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:fr(i,r)}))):t.map(r=>({value:r})),ky=ie([Lx,xr,vh],Aj);function Sj(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function su(t){return t.filter(e=>ya(e)||e instanceof Date).map(Number).filter(e=>pi(e)===!1)}function cee(t,e,n){return!n||typeof e!="number"||pi(e)?[]:n.length?su(n.flatMap(r=>{var i=fr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!ji(s)||!ji(l)))return[e-s,e+l]})):[]}var fee=ie([_j,Sx,En],pj),Cj=(t,e,n)=>{var r={},i=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,c]=s,f=c.map(mj);return[l,{stackedData:xW(t,f,n),graphicalItems:c}]}))},dee=ie([fee,_j,Ry],Cj),Oj=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=SW(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},hee=ie([dee,zo,dn],Oj),Ij=(t,e,n,r,i)=>n.length>0?t.flatMap(s=>n.flatMap(l=>{var c,f,d=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>Sj(i,g)),m=fr(s,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:m,errorDomain:cee(s,m,d)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:fr(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),My=t=>t.errorBars,Rj=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Sj(n,r));ie([Ej,My,dn],Rj);var mee=ie([Lx,xr,Ej,My,dn],Ij);function pee(t){var{value:e}=t;if(ya(e)||e instanceof Date)return e}var cP=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=su(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gee=(t,e,n)=>{var r=t.map(pee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Kk(r))?h3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Vx=t=>{var e;if(t==null||!("domain"in t))return uw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=su(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:uw},xg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},Pj=t=>t.referenceElements.dots,Fc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),yee=ie([Pj,dn,Dy],Fc),Nj=t=>t.referenceElements.areas,vee=ie([Nj,dn,Dy],Fc),Dj=t=>t.referenceElements.lines,bee=ie([Dj,dn,Dy],Fc),kj=(t,e)=>{var n=su(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_ee=ie(yee,dn,kj),Mj=(t,e)=>{var n=su(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wee=ie([vee,dn],Mj),jj=(t,e)=>{var n=su(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Eee=ie(bee,dn,jj),xee=ie(_ee,Eee,wee,(t,e,n)=>xg(t,n,e)),Tee=ie([xr],Vx),Lj=(t,e,n,r,i,s,l)=>{var c=VJ(e,t.allowDataOverflow);if(c!=null)return c;var f=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=f?xg(n,i,cP(r)):xg(i,cP(r));return UJ(e,d,t.allowDataOverflow)},Aee=ie([xr,Tee,hee,mee,xee,kt,dn],Lj),See=[0,1],Vj=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,d=Lo(e,s);return d&&c==null?h3(0,n.length):f==="category"?gee(r,t,d):i==="expand"?See:l}},Ux=ie([xr,kt,Lx,ky,Ry,dn,Aee],Vj),Uj=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(LE(s));return c in md?c:"point"}}},bh=ie([xr,kt,gj,Ix,dn],Uj);function Cee(t){if(t!=null){if(t in md)return md[t]();var e="scale".concat(LE(t));if(e in md)return md[e]()}}function Bx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Cee(e);if(i!=null){var s=i.domain(n).range(r);return bW(s),s}}}var Bj=(t,e,n)=>{var r=Vx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xc(t))return WJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xc(t))return XJ(t,e.tickCount,e.allowDecimals)}},zx=ie([Ux,yh,bh],Bj),zj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&xc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},Oee=ie([xr,Ux,zx,dn],zj),Iee=ie(ky,xr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(su(t.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),Fj=ie(Iee,kt,QJ,Kn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ji(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Po(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Ree=(t,e)=>{var n=_s(t,e);return n==null||typeof n.padding!="string"?0:Fj(t,"xAxis",e,n.padding)},Pee=(t,e)=>{var n=Fo(t,e);return n==null||typeof n.padding!="string"?0:Fj(t,"yAxis",e,n.padding)},Nee=ie(_s,Ree,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Dee=ie(Fo,Pee,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),kee=ie([Kn,Nee,Ey,wy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Mee=ie([Kn,kt,Dee,Ey,wy,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),_h=(t,e,n,r)=>{var i;switch(e){case"xAxis":return kee(t,n,r);case"yAxis":return Mee(t,n,r);case"zAxis":return(i=jx(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return fj(t);case"radiusAxis":return dj(t,n);default:return}},qj=ie([xr,_h],Py),qc=ie([xr,bh,Oee,qj],Bx);ie([vh,My,dn],Rj);function $j(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var jy=(t,e)=>e,Ly=(t,e,n)=>n,jee=ie(ZE,jy,Ly,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($j)),Lee=ie(JE,jy,Ly,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($j)),Hj=(t,e)=>({width:t.width,height:e.height}),Vee=(t,e)=>{var n=typeof e.width=="number"?e.width:_y;return{width:n,height:t.height}},Uee=ie(Kn,_s,Hj),Bee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},zee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Fee=ie(vs,Kn,jee,jy,Ly,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=Hj(e,c);l==null&&(l=Bee(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),s}),qee=ie(ys,Kn,Lee,jy,Ly,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=Vee(e,c);l==null&&(l=zee(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),s}),$ee=(t,e)=>{var n=Kn(t),r=_s(t,e);if(r!=null){var i=Fee(t,r.orientation,r.mirror),s=i[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},Hee=(t,e)=>{var n=Kn(t),r=Fo(t,e);if(r!=null){var i=qee(t,r.orientation,r.mirror),s=i[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},Kee=ie(Kn,Fo,(t,e)=>{var n=typeof e.width=="number"?e.width:_y;return{width:n,height:t.height}}),Kj=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=Lo(t,r),f=e.map(d=>d.value);if(l&&c&&s==="category"&&i&&Kk(f))return f}},Fx=ie([kt,ky,xr,dn],Kj),Gj=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Lo(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},qx=ie([kt,ky,yh,dn],Gj),fP=ie([kt,oee,bh,qc,Fx,qx,_h,zx,dn],(t,e,n,r,i,s,l,c,f)=>{if(e==null)return null;var d=Lo(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}),Gee=(t,e,n,r,i,s,l,c,f)=>{if(!(e==null||r==null)){var d=Lo(t,f),{type:m,ticks:g,tickCount:v}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=f==="angleAxis"&&s!=null&&s.length>=2?ci(s[0]-s[1])*2*E:E;var w=g||i;if(w){var x=w.map((C,R)=>{var k=l?l.indexOf(C):C;return{index:R,coordinate:r(k)+E,value:C,offset:E}});return x.filter(C=>!pi(C.coordinate))}return d&&c?c.map((C,R)=>({coordinate:r(C)+E,value:C,index:R,offset:E})):r.ticks?r.ticks(v).map(C=>({coordinate:r(C)+E,value:C,offset:E})):r.domain().map((C,R)=>({coordinate:r(C)+E,value:l?l[C]:C,index:R,offset:E}))}},Yj=ie([kt,yh,bh,qc,zx,_h,Fx,qx,dn],Gee),Yee=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Lo(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?ci(r[0]-r[1])*2*d:d,c&&s?s.map((m,g)=>({coordinate:n(m)+d,value:m,index:g,offset:d})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,g)=>({coordinate:n(m)+d,value:i?i[m]:m,index:g,offset:d}))}},Wj=ie([kt,yh,qc,_h,Fx,qx,dn],Yee),Xj=ie(xr,qc,(t,e)=>{if(!(t==null||e==null))return Eg(Eg({},t),{},{scale:e})}),Wee=ie([xr,bh,Ux,qj],Bx);ie((t,e,n)=>jx(t,n),Wee,(t,e)=>{if(!(t==null||e==null))return Eg(Eg({},t),{},{scale:e})});var Xee=ie([kt,ZE,JE],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Qj=t=>t.options.defaultTooltipEventType,Zj=t=>t.options.validateTooltipEventTypes;function Jj(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function $x(t,e){var n=Qj(t),r=Zj(t);return Jj(e,n,r)}function Qee(t){return Be(e=>$x(e,t))}var e6=(t,e)=>{var n,r=Number(e);if(!(pi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Zee=t=>t.tooltip.settings,po={active:!1,index:null,dataKey:void 0,coordinate:void 0},Jee={itemInteraction:{click:po,hover:po},axisInteraction:{click:po,hover:po},keyboardInteraction:po,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},t6=qr({name:"tooltip",initialState:Jee,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=es(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ete,removeTooltipEntrySettings:tte,setTooltipSettingsState:nte,setActiveMouseOverItemIndex:rte,mouseLeaveItem:Eoe,mouseLeaveChart:n6,setActiveClickItemIndex:xoe,setMouseOverAxisIndex:r6,setMouseClickAxisIndex:ite,setSyncInteraction:cw,setKeyboardInteraction:fw}=t6.actions,ate=t6.reducer;function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ute(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cte(t){return t.index!=null}var i6=(t,e,n,r)=>{if(e==null)return po;var i=ute(t,e,n);if(i==null)return po;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(cte(i)){if(s)return op(op({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return op(op({},po),{},{coordinate:i.coordinate})},Hx=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ji(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},a6=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var f=l[0],d=f==null?void 0:c(f.positions,s);if(d!=null)return d;var m=i==null?void 0:i[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},s6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},wh=t=>t.options.tooltipPayloadSearcher,$c=t=>t.tooltip;function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mte(t,e){return t??e}var o6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:m}=n,g=[];return t.reduce((v,_)=>{var E,{dataDefinedOnItem:w,settings:x}=_,C=mte(w,c),R=Array.isArray(C)?GM(C,d,m):C,k=(E=x==null?void 0:x.dataKey)!==null&&E!==void 0?E:r==null?void 0:r.dataKey,q=x==null?void 0:x.nameKey,M;if(r!=null&&r.dataKey&&Array.isArray(R)&&!Array.isArray(R[0])&&l==="axis"?M=Gk(R,r.dataKey,i):M=s(R,e,f,q),Array.isArray(M))M.forEach(P=>{var N=mP(mP({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(WI({tooltipEntrySettings:N,dataKey:P.dataKey,payload:P.payload,value:fr(P.payload,P.dataKey),name:P.name}))});else{var U;v.push(WI({tooltipEntrySettings:x,dataKey:k,payload:M,value:fr(M,k),name:(U=fr(M,q))!==null&&U!==void 0?U:x==null?void 0:x.name}))}return v},g)}},Kx=ie([En,kt,gj,Ix,wn],Uj),pte=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),gte=ie([wn,zc],yj),Eh=ie([pte,En,gte],bj),yte=ie([Eh],t=>t.filter(Mx)),vte=ie([Eh],xj),Hc=ie([vte,zo],Tj),bte=ie([yte,zo,En],pj),Gx=ie([Hc,En,Eh],Aj),_te=ie([En],Vx),wte=ie([Eh],t=>t.filter(Mx)),Ete=ie([bte,wte,Ry],Cj),xte=ie([Ete,zo,wn],Oj),Tte=ie([Eh],wj),Ate=ie([Hc,En,Tte,My,wn],Ij),Ste=ie([Pj,wn,zc],Fc),Cte=ie([Ste,wn],kj),Ote=ie([Nj,wn,zc],Fc),Ite=ie([Ote,wn],Mj),Rte=ie([Dj,wn,zc],Fc),Pte=ie([Rte,wn],jj),Nte=ie([Cte,Pte,Ite],xg),Dte=ie([En,_te,xte,Ate,Nte,kt,wn],Lj),l6=ie([En,kt,Hc,Gx,Ry,wn,Dte],Vj),kte=ie([l6,En,Kx],Bj),Mte=ie([En,l6,kte,wn],zj),u6=t=>{var e=wn(t),n=zc(t),r=!1;return _h(t,e,n,r)},c6=ie([En,u6],Py),f6=ie([En,Kx,Mte,c6],Bx),jte=ie([kt,Gx,En,wn],Kj),Lte=ie([kt,Gx,En,wn],Gj),Vte=(t,e,n,r,i,s,l,c)=>{if(e){var{type:f}=e,d=Lo(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ci(i[0]-i[1])*2*g:g,d&&l?l.map((v,_)=>({coordinate:r(v)+g,value:v,index:_,offset:g})):r.domain().map((v,_)=>({coordinate:r(v)+g,value:s?s[v]:v,index:_,offset:g}))}}},ws=ie([kt,En,Kx,f6,u6,jte,Lte,wn],Vte),Yx=ie([Qj,Zj,Zee],(t,e,n)=>Jj(n.shared,t,e)),d6=t=>t.tooltip.settings.trigger,Wx=t=>t.tooltip.settings.defaultIndex,Vy=ie([$c,Yx,d6,Wx],i6),Kd=ie([Vy,Hc],Hx),h6=ie([ws,Kd],e6),Ute=ie([Vy],t=>{if(t)return t.dataKey}),m6=ie([$c,Yx,d6,Wx],s6),Bte=ie([ys,vs,kt,Kn,ws,Wx,m6,wh],a6),zte=ie([Vy,Bte],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Fte=ie([Vy],t=>t.active),qte=ie([m6,Kd,zo,En,h6,wh,Yx],o6),$te=ie([qte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yte=()=>Be(En),Wte=()=>{var t=Yte(),e=Be(ws),n=Be(f6);return K1(gP(gP({},t),{},{scale:n}),e)},Xte=()=>Be(Ix),Xx=(t,e)=>e,p6=(t,e,n)=>n,Qx=(t,e,n,r)=>r,Qte=ie(ws,t=>hy(t,e=>e.coordinate)),Zx=ie([$c,Xx,p6,Qx],i6),g6=ie([Zx,Hc],Hx),Zte=(t,e,n)=>{if(e!=null){var r=$c(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},y6=ie([$c,Xx,p6,Qx],s6),Tg=ie([ys,vs,kt,Kn,ws,Qx,y6,wh],a6),Jte=ie([Zx,Tg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),v6=ie(ws,g6,e6),ene=ie([y6,g6,zo,En,v6,wh,Xx],o6),tne=ie([Zx],t=>({isActive:t.active,activeIndex:t.index})),nne=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s)){var f=CW(t.chartX,t.chartY,e,n,c);if(f){var d=IW(f,e),m=yW(d,l,s,r,i),g=OW(e,s,m,f);return{activeIndex:String(m),activeCoordinate:g}}}};function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return(e=ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=ane(t,"string");return typeof e=="symbol"?e:e+""}function ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sne(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:f,chartName:d}=t,m=e,g=n,v=r;if(!c||!m||d!=="ScatterChart"&&f!=="axis")return null;var _,E;if(d==="ScatterChart")_=m,E=gX;else if(d==="BarChart")_=yX(l,m,i,s),E=ZX;else if(l==="radial"){var{cx:w,cy:x,radius:C,startAngle:R,endAngle:k}=f3(m);_={cx:w,cy:x,startAngle:R,endAngle:k,innerRadius:C,outerRadius:C},E=nQ}else _={points:rQ(l,m,i)},E=i3;var q=typeof c=="object"&&"className"in c?c.className:void 0,M=lp(lp(lp(lp({stroke:"#ccc",pointerEvents:"none"},i),_),Dn(c,!1)),{},{payload:g,payloadIndex:v,className:pt("recharts-tooltip-cursor",q)});return S.isValidElement(c)?S.cloneElement(c,M):S.createElement(E,M)}function one(t){var e=Wte(),n=JM(),r=tx(),i=Xte();return S.createElement(sne,dw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var b6=S.createContext(null),lne=()=>S.useContext(b6),D_={exports:{}},vP;function une(){return vP||(vP=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function s(f,d,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,g||f,v),E=n?n+d:d;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],_]:f._events[E].push(_):(f._events[E]=_,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,g;if(this._eventsCount===0)return d;for(g in m=this._events)e.call(m,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,_=g.length,E=new Array(_);v<_;v++)E[v]=g[v].fn;return E},c.prototype.listenerCount=function(d){var m=n?n+d:d,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(d,m,g,v,_,E){var w=n?n+d:d;if(!this._events[w])return!1;var x=this._events[w],C=arguments.length,R,k;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),C){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,g),!0;case 4:return x.fn.call(x.context,m,g,v),!0;case 5:return x.fn.call(x.context,m,g,v,_),!0;case 6:return x.fn.call(x.context,m,g,v,_,E),!0}for(k=1,R=new Array(C-1);k<C;k++)R[k-1]=arguments[k];x.fn.apply(x.context,R)}else{var q=x.length,M;for(k=0;k<q;k++)switch(x[k].once&&this.removeListener(d,x[k].fn,void 0,!0),C){case 1:x[k].fn.call(x[k].context);break;case 2:x[k].fn.call(x[k].context,m);break;case 3:x[k].fn.call(x[k].context,m,g);break;case 4:x[k].fn.call(x[k].context,m,g,v);break;default:if(!R)for(M=1,R=new Array(C-1);M<C;M++)R[M-1]=arguments[M];x[k].fn.apply(x[k].context,R)}}return!0},c.prototype.on=function(d,m,g){return s(this,d,m,g,!1)},c.prototype.once=function(d,m,g){return s(this,d,m,g,!0)},c.prototype.removeListener=function(d,m,g,v){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!v||E.once)&&(!g||E.context===g)&&l(this,_);else{for(var w=0,x=[],C=E.length;w<C;w++)(E[w].fn!==m||v&&!E[w].once||g&&E[w].context!==g)&&x.push(E[w]);x.length?this._events[_]=x.length===1?x[0]:x:l(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(D_)),D_.exports}var cne=une();const fne=ms(cne);var Gd=new fne,hw="recharts.syncEvent.tooltip",bP="recharts.syncEvent.brush";function dne(t,e){if(e){var n=Number.parseInt(e,10);if(!pi(n))return t==null?void 0:t[n]}}var hne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_6=qr({name:"options",initialState:hne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mne=_6.reducer,{createEventEmitter:pne}=_6.actions;function gne(t){return t.tooltip.syncInteraction}var yne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},w6=qr({name:"chartData",initialState:yne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:_P,setDataStartEndIndexes:vne,setComputedData:Toe}=w6.actions,bne=w6.reducer,E6=()=>{};function _ne(){var t=Be(Rx),e=Be(Px),n=dr(),r=Be(lj),i=Be(ws),s=tx(),l=ex(),c=Be(f=>f.rootProps.className);S.useEffect(()=>{if(t==null)return E6;var f=(d,m,g)=>{if(e!==g&&t===d){if(r==="index"){n(m);return}if(i!=null){var v;if(typeof r=="function"){var _={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},E=r(i,_);v=i[E]}else r==="value"&&(v=i.find(U=>String(U.value)===m.payload.label));var{coordinate:w}=m.payload;if(v==null||m.payload.active===!1||w==null||l==null){n(cw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x,y:C}=w,R=Math.min(x,l.x+l.width),k=Math.min(C,l.y+l.height),q={x:s==="horizontal"?v.coordinate:R,y:s==="horizontal"?k:v.coordinate},M=cw({active:m.payload.active,coordinate:q,dataKey:m.payload.dataKey,index:String(v.index),label:m.payload.label});n(M)}}};return Gd.on(hw,f),()=>{Gd.off(hw,f)}},[c,n,e,t,r,i,s,l])}function wne(){var t=Be(Rx),e=Be(Px),n=dr();S.useEffect(()=>{if(t==null)return E6;var r=(i,s,l)=>{e!==l&&t===i&&n(vne(s))};return Gd.on(bP,r),()=>{Gd.off(bP,r)}},[n,e,t])}function Ene(){var t=dr();S.useEffect(()=>{t(pne())},[t]),_ne(),wne()}function xne(t,e,n,r,i,s){var l=Be(v=>Zte(v,t,e)),c=Be(Px),f=Be(Rx),d=Be(lj),m=Be(gne),g=m==null?void 0:m.active;S.useEffect(()=>{if(!g&&f!=null&&c!=null){var v=cw({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});Gd.emit(hw,f,v,c)}},[g,n,l,i,r,c,f,d,s])}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tne(t,e,n){return(e=Ane(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cne(t){return t.dataKey}function One(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(YW,e)}var xP=[],Ine={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!dh.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rne(t){var e=Vo(t,Ine),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:l,filterNull:c,isAnimationActive:f,offset:d,payloadUniqBy:m,position:g,reverseDirection:v,useTranslate3d:_,wrapperStyle:E,cursor:w,shared:x,trigger:C,defaultIndex:R,portal:k,axisId:q}=e,M=dr(),U=typeof R=="number"?String(R):R;S.useEffect(()=>{M(nte({shared:x,trigger:C,axisId:q,active:n,defaultIndex:U}))},[M,x,C,q,n,U]);var P=ex(),N=r3(),D=Qee(x),{activeIndex:L,isActive:z}=Be(Me=>tne(Me,D,C,U)),F=Be(Me=>ene(Me,D,C,U)),B=Be(Me=>v6(Me,D,C,U)),_e=Be(Me=>Jte(Me,D,C,U)),me=F,te=lne(),he=n??z,[ve,xe]=sY([me,he]),H=D==="axis"?B:void 0;xne(D,C,_e,H,L,he);var oe=k??te;if(oe==null)return null;var ue=me??xP;he||(ue=xP),c&&ue.length&&(ue=NG(me.filter(Me=>Me.value!=null&&(Me.hide!==!0||e.includeHidden)),m,Cne));var ye=ue.length>0,we=S.createElement(tX,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:f,active:he,coordinate:_e,hasPayload:ye,offset:d,position:g,reverseDirection:v,useTranslate3d:_,viewBox:P,wrapperStyle:E,lastBoundingBox:ve,innerRef:xe,hasPortalFromProps:!!k},One(l,EP(EP({},e),{},{payload:ue,label:H,active:he,coordinate:_e,accessibilityLayer:N})));return S.createElement(S.Fragment,null,m8.createPortal(we,oe),he&&S.createElement(one,{cursor:w,tooltipEventType:D,coordinate:_e,payload:me,index:L}))}var k_={},M_={},j_={},TP;function Pne(){return TP||(TP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const f=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},g=()=>{d&&m(),w()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{E(),l=void 0,c=null},x=()=>{m()},C=function(...R){if(i!=null&&i.aborted)return;l=this,c=R;const k=v==null;_(),f&&k&&m()};return C.schedule=_,C.cancel=w,C.flush=x,i==null||i.addEventListener("abort",w,{once:!0}),C}t.debounce=e}(j_)),j_}var AP;function Nne(){return AP||(AP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pne();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:f}=s,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let m,g=null;const v=e.debounce(function(...w){m=r.apply(this,w),g=null},i,{edges:d}),_=function(...w){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=r.apply(this,w),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,w),m)},E=()=>(v.flush(),m);return _.cancel=v.cancel,_.flush=E,_}t.debounce=n}(M_)),M_}var SP;function Dne(){return SP||(SP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nne();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n}(k_)),k_}var L_,CP;function kne(){return CP||(CP=1,L_=Dne().throttle),L_}var Mne=kne();const jne=ms(Mne);var xd=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lne(t,e,n){return(e=Vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vne(t){var e=Une(t,"string");return typeof e=="symbol"?e:e+""}function Une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bne=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:l=0,minHeight:c,maxHeight:f,children:d,debounce:m=0,id:g,className:v,onResize:_,style:E={}}=t,w=S.useRef(null),x=S.useRef();x.current=_,S.useImperativeHandle(e,()=>w.current);var[C,R]=S.useState({containerWidth:r.width,containerHeight:r.height}),k=S.useCallback((M,U)=>{R(P=>{var N=Math.round(M),D=Math.round(U);return P.containerWidth===N&&P.containerHeight===D?P:{containerWidth:N,containerHeight:D}})},[]);S.useEffect(()=>{var M=D=>{var L,{width:z,height:F}=D[0].contentRect;k(z,F),(L=x.current)===null||L===void 0||L.call(x,z,F)};m>0&&(M=jne(M,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),{width:P,height:N}=w.current.getBoundingClientRect();return k(P,N),U.observe(w.current),()=>{U.disconnect()}},[k,m]);var q=S.useMemo(()=>{var{containerWidth:M,containerHeight:U}=C;if(M<0||U<0)return null;xd(Ol(i)||Ol(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),xd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Ol(i)?M:i,N=Ol(s)?U:s;return n&&n>0&&(P?N=P/n:N&&(P=N*n),f&&N>f&&(N=f)),xd(P>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,N,i,s,l,c,n),S.Children.map(d,D=>S.cloneElement(D,{width:P,height:N,style:V_({width:P,height:N},D.props.style)}))},[n,d,s,f,c,l,C,i]);return S.createElement("div",{id:g?"".concat(g):void 0,className:pt("recharts-responsive-container",v),style:V_(V_({},E),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:f}),ref:w},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},q))});function zne(t,e,n){return(e=Fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $ne{constructor(e){zne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){Kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e,n){return(e=Gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=Yne(t,"string");return typeof e=="symbol"?e:e+""}function Yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wne={cacheSize:2e3,enableCache:!0},x6=Hne({},Wne),RP=new $ne(x6.cacheSize),Xne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PP="recharts_measurement_span";function Qne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var NP=(t,e)=>{try{var n=document.getElementById(PP);n||(n=document.createElement("span"),n.setAttribute("id",PP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Xne,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Td=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dh.isSsr)return{width:0,height:0};if(!x6.enableCache)return NP(e,n);var r=Qne(e,n),i=RP.get(r);if(i)return i;var s=NP(e,n);return RP.set(r,s),s},DP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,T6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ere=Object.keys(T6),nc="NaN";function tre(t,e){return t*T6[e]}class gr{static parse(e){var n,[,r,i]=(n=Jne.exec(e))!==null&&n!==void 0?n:[];return new gr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,pi(e)&&(this.unit=""),n!==""&&!Zne.test(n)&&(this.num=NaN,this.unit=""),ere.includes(n)&&(this.num=tre(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pi(this.num)}}function A6(t){if(t.includes(nc))return nc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=DP.exec(e))!==null&&n!==void 0?n:[],l=gr.parse(r??""),c=gr.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return nc;e=e.replace(DP,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,g,v]=(d=kP.exec(e))!==null&&d!==void 0?d:[],_=gr.parse(m??""),E=gr.parse(v??""),w=g==="+"?_.add(E):_.subtract(E);if(w.isNaN())return nc;e=e.replace(kP,w.toString())}return e}var MP=/\(([^()]*)\)/;function nre(t){for(var e=t,n;(n=MP.exec(e))!=null;){var[,r]=n;e=e.replace(MP,A6(r))}return e}function rre(t){var e=t.replace(/\s+/g,"");return e=nre(e),e=A6(e),e}function ire(t){try{return rre(t)}catch{return nc}}function U_(t){var e=ire(t.slice(5,-1));return e===nc?"":e}var are=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sre=["dx","dy","angle","className","breakAll"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(null,arguments)}function jP(t,e){if(t==null)return{};var n,r,i=ore(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ore(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var S6=/[ \f\n\r\t\v\u2028\u2029]+/,C6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];cn(e)||(n?i=e.toString().split(""):i=e.toString().split(S6));var s=i.map(c=>({word:c,width:Td(c,r).width})),l=n?0:Td(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},lre=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:f}=t,d=je(s),m=l,g=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((F,B)=>{var{word:_e,width:me}=B,te=F[F.length-1];if(te&&(r==null||i||te.width+me+n<Number(r)))te.words.push(_e),te.width+=me+n;else{var he={words:[_e],width:me};F.push(he)}return F},[])},v=g(e),_=L=>L.reduce((z,F)=>z.width>F.width?z:F);if(!d||i)return v;var E=v.length>s||_(v).width>Number(r);if(!E)return v;for(var w="…",x=L=>{var z=m.slice(0,L),F=C6({breakAll:f,style:c,children:z+w}).wordsWithComputedWidth,B=g(F),_e=B.length>s||_(B).width>Number(r);return[_e,B]},C=0,R=m.length-1,k=0,q;C<=R&&k<=m.length-1;){var M=Math.floor((C+R)/2),U=M-1,[P,N]=x(U),[D]=x(M);if(!P&&!D&&(C=M+1),P&&D&&(R=M-1),!P&&D){q=N;break}k++}return q||v},LP=t=>{var e=cn(t)?[]:t.toString().split(S6);return[{words:e}]},ure=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!dh.isSsr){var c,f,d=C6({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:m,spaceWidth:g}=d;c=m,f=g}else return LP(r);return lre({breakAll:s,children:r,maxLines:l,style:i},c,f,e,n)}return LP(r)},VP="#808080",Jx=S.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:f="end",fill:d=VP}=t,m=jP(t,are),g=S.useMemo(()=>ure({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:v,dy:_,angle:E,className:w,breakAll:x}=m,C=jP(m,sre);if(!ya(n)||!ya(r))return null;var R=n+(je(v)?v:0),k=r+(je(_)?_:0),q;switch(f){case"start":q=U_("calc(".concat(s,")"));break;case"middle":q=U_("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:q=U_("calc(".concat(g.length-1," * -").concat(i,")"));break}var M=[];if(l){var U=g[0].width,{width:P}=m;M.push("scale(".concat(je(P)?P/U:1,")"))}return E&&M.push("rotate(".concat(E,", ").concat(R,", ").concat(k,")")),M.length&&(C.transform=M.join(" ")),S.createElement("text",mw({},Dn(C,!0),{ref:e,x:R,y:k,className:pt("recharts-text",w),textAnchor:c,fill:d.includes("url")?VP:d}),g.map((N,D)=>{var L=N.words.join(x?"":" ");return S.createElement("tspan",{x:R,dy:D===0?q:i,key:"".concat(L,"-").concat(D)},L)}))});Jx.displayName="Text";var cre=["offset"],fre=["labelRef"];function UP(t,e){if(t==null)return{};var n,r,i=dre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(null,arguments)}var gre=t=>{var{value:e,formatter:n}=t,r=cn(t.children)?e:t.children;return typeof n=="function"?n(r):r},eT=t=>t!=null&&typeof t=="function",yre=(t,e)=>{var n=ci(e-t),r=Math.min(Math.abs(e-t),360);return n*r},vre=(t,e,n,r)=>{var{position:i,offset:s,className:l}=t,{cx:c,cy:f,innerRadius:d,outerRadius:m,startAngle:g,endAngle:v,clockWise:_}=r,E=(d+m)/2,w=yre(g,v),x=w>=0?1:-1,C,R;i==="insideStart"?(C=g+x*s,R=_):i==="insideEnd"?(C=v-x*s,R=!_):i==="end"&&(C=v+x*s,R=_),R=w<=0?R:!R;var k=$n(c,f,E,C),q=$n(c,f,E,C+(R?1:-1)*359),M="M".concat(k.x,",").concat(k.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(q.x,",").concat(q.y),U=cn(t.id)?Ld("recharts-radial-line-"):t.id;return S.createElement("text",Ga({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",l)}),S.createElement("defs",null,S.createElement("path",{id:U,d:M})),S.createElement("textPath",{xlinkHref:"#".concat(U)},e))},bre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:f}=t,d=(c+f)/2;if(n==="outside"){var{x:m,y:g}=$n(r,i,l+e,d);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:_,y:E}=$n(r,i,v,d);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},_re=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:s,y:l,width:c,height:f}=e,d=f>=0?1:-1,m=d*r,g=d>0?"end":"start",v=d>0?"start":"end",_=c>=0?1:-1,E=_*r,w=_>0?"end":"start",x=_>0?"start":"end";if(i==="top"){var C={x:s+c/2,y:l-d*r,textAnchor:"middle",verticalAnchor:g};return Yt(Yt({},C),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var R={x:s+c/2,y:l+f+m,textAnchor:"middle",verticalAnchor:v};return Yt(Yt({},R),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(i==="left"){var k={x:s-E,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return Yt(Yt({},k),n?{width:Math.max(k.x-n.x,0),height:f}:{})}if(i==="right"){var q={x:s+c+E,y:l+f/2,textAnchor:x,verticalAnchor:"middle"};return Yt(Yt({},q),n?{width:Math.max(n.x+n.width-q.x,0),height:f}:{})}var M=n?{width:c,height:f}:{};return i==="insideLeft"?Yt({x:s+E,y:l+f/2,textAnchor:x,verticalAnchor:"middle"},M):i==="insideRight"?Yt({x:s+c-E,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},M):i==="insideTop"?Yt({x:s+c/2,y:l+m,textAnchor:"middle",verticalAnchor:v},M):i==="insideBottom"?Yt({x:s+c/2,y:l+f-m,textAnchor:"middle",verticalAnchor:g},M):i==="insideTopLeft"?Yt({x:s+E,y:l+m,textAnchor:x,verticalAnchor:v},M):i==="insideTopRight"?Yt({x:s+c-E,y:l+m,textAnchor:w,verticalAnchor:v},M):i==="insideBottomLeft"?Yt({x:s+E,y:l+f-m,textAnchor:x,verticalAnchor:g},M):i==="insideBottomRight"?Yt({x:s+c-E,y:l+f-m,textAnchor:w,verticalAnchor:g},M):i&&typeof i=="object"&&(je(i.x)||Ol(i.x))&&(je(i.y)||Ol(i.y))?Yt({x:s+Po(i.x,c),y:l+Po(i.y,f),textAnchor:"end",verticalAnchor:"end"},M):Yt({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},wre=t=>"cx"in t&&je(t.cx);function kr(t){var{offset:e=5}=t,n=UP(t,cre),r=Yt({offset:e},n),{viewBox:i,position:s,value:l,children:c,content:f,className:d="",textBreakAll:m,labelRef:g}=r,v=Be(hj),_=ex(),E=s==="center"?_:v??_,w=i||E;if(!w||cn(l)&&cn(c)&&!S.isValidElement(f)&&typeof f!="function")return null;var x=Yt(Yt({},r),{},{viewBox:w});if(S.isValidElement(f)){var{labelRef:C}=x,R=UP(x,fre);return S.cloneElement(f,R)}var k;if(typeof f=="function"){if(k=S.createElement(f,x),S.isValidElement(k))return k}else k=gre(r);var q=wre(w),M=Dn(r,!0);if(q&&(s==="insideStart"||s==="insideEnd"||s==="end"))return vre(r,k,M,w);var U=q?bre(w,r.offset,r.position):_re(r,w);return S.createElement(Jx,Ga({ref:g,className:pt("recharts-label",d)},M,U,{breakAll:m}),k)}kr.displayName="Label";var O6=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:s,r:l,radius:c,innerRadius:f,outerRadius:d,x:m,y:g,top:v,left:_,width:E,height:w,clockWise:x,labelViewBox:C}=t;if(C)return C;if(je(E)&&je(w)){if(je(m)&&je(g))return{x:m,y:g,width:E,height:w};if(je(v)&&je(_))return{x:v,y:_,width:E,height:w}}if(je(m)&&je(g))return{x:m,y:g,width:0,height:0};if(je(e)&&je(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:f||0,outerRadius:d||c||l||0,clockWise:x};if(t.viewBox)return t.viewBox},Ere=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(kr,Ga({key:"label-implicit"},r)):ya(t)?S.createElement(kr,Ga({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===kr?S.cloneElement(t,Yt({key:"label-implicit"},r)):S.createElement(kr,Ga({key:"label-implicit",content:t},r)):eT(t)?S.createElement(kr,Ga({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(kr,Ga({},t,{key:"label-implicit"},r)):null},xre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:s}=e,l=O6(e),c=Xk(i,kr).map((d,m)=>S.cloneElement(d,{viewBox:n||l,key:"label-".concat(m)}));if(!r)return c;var f=Ere(e.label,n||l,s);return[f,...c]};kr.parseViewBox=O6;kr.renderCallByParent=xre;var B_={},z_={},zP;function Tre(){return zP||(zP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(z_)),z_}var F_={},FP;function Are(){return FP||(FP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(F_)),F_}var qP;function Sre(){return qP||(qP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tre(),n=Are(),r=zE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i}(B_)),B_}var q_,$P;function Cre(){return $P||($P=1,q_=Sre().last),q_}var Ore=Cre();const Ire=ms(Ore);var Rre=["valueAccessor"],Pre=["data","dataKey","clockWise","id","textBreakAll"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){Nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nre(t,e,n){return(e=Dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GP(t,e){if(t==null)return{};var n,r,i=Mre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jre=t=>Array.isArray(t.value)?Ire(t.value):t.value;function Ul(t){var{valueAccessor:e=jre}=t,n=GP(t,Rre),{data:r,dataKey:i,clockWise:s,id:l,textBreakAll:c}=n,f=GP(n,Pre);return!r||!r.length?null:S.createElement(yc,{className:"recharts-label-list"},r.map((d,m)=>{var g=cn(i)?e(d,m):fr(d&&d.payload,i),v=cn(l)?{}:{id:"".concat(l,"-").concat(m)};return S.createElement(kr,Ag({},Dn(d,!0),f,v,{parentViewBox:d.parentViewBox,value:g,textBreakAll:c,viewBox:kr.parseViewBox(cn(s)?d:KP(KP({},d),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Ul.displayName="LabelList";function Lre(t,e){return t?t===!0?S.createElement(Ul,{key:"labelList-implicit",data:e}):S.isValidElement(t)||eT(t)?S.createElement(Ul,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?S.createElement(Ul,Ag({data:e},t,{key:"labelList-implicit"})):null:null}function Vre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Xk(r,Ul).map((l,c)=>S.cloneElement(l,{data:e,key:"labelList-".concat(c)}));if(!n)return i;var s=Lre(t.label,e);return[s,...i]}Ul.renderCallByParent=Vre;function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(null,arguments)}var I6=t=>{var{cx:e,cy:n,r,className:i}=t,s=pt("recharts-dot",i);return e===+e&&n===+n&&r===+r?S.createElement("circle",pw({},Lc(t),UE(t),{className:s,cx:e,cy:n,r})):null},Ure={radiusAxis:{},angleAxis:{}},R6=qr({name:"polarAxis",initialState:Ure,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Aoe,removeRadiusAxis:Soe,addAngleAxis:Coe,removeAngleAxis:Ooe}=R6.actions,Bre=R6.reducer;function zre(t){var{fn:e,args:n}=t,r=dr(),i=bi();return S.useEffect(()=>{if(!i){var s=e(n);return r(ete(s)),()=>{r(tte(s))}}},[e,n,r,i]),null}var Fre=()=>{};function qre(t){var{legendPayload:e}=t,n=dr(),r=bi();return S.useEffect(()=>r?Fre:(n(zW(e)),()=>{n(FW(e))}),[n,r,e]),null}function $re(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Ld(e)),r=S.useRef(t);return r.current!==t&&(n.current=Ld(e),r.current=t),n.current}var $_,Hre=()=>{var[t]=S.useState(()=>Ld("uid-"));return t},Kre=($_=jL.useId)!==null&&$_!==void 0?$_:Hre;function Gre(t,e){var n=Kre();return e||(t?"".concat(t,"-").concat(n):n)}var Yre=S.createContext(void 0),Wre=t=>{var{id:e,type:n,children:r}=t,i=Gre("recharts-".concat(n),e);return S.createElement(Yre.Provider,{value:i},r(i))},Xre={cartesianItems:[],polarItems:[]},P6=qr({name:"graphicalItems",initialState:Xre,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=es(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=es(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=es(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Qre,replaceCartesianGraphicalItem:Zre,removeCartesianGraphicalItem:Jre,addPolarGraphicalItem:Ioe,removePolarGraphicalItem:Roe}=P6.actions,eie=P6.reducer;function tie(t){var e=dr(),n=S.useRef(null);return S.useEffect(()=>{n.current===null?e(Qre(t)):n.current!==t&&e(Zre({prev:n.current,next:t})),n.current=t},[e,t]),S.useEffect(()=>()=>{n.current&&(e(Jre(n.current)),n.current=null)},[e]),null}function nie(){}var rie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YP={t:0},H_={t:1};function iie(t){var e=Vo(t,rie),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=e,m=c3("JavascriptAnimate",e.animationManager),[g,v]=S.useState(n?YP:H_),_=S.useRef(null);return S.useEffect(()=>{n||v(H_)},[n]),S.useEffect(()=>{if(!n||!r)return nie;var E=u3(YP,H_,o3(s),i,v,m.getTimeoutController()),w=()=>{_.current=E()};return m.start([f,l,w,i,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,i,s,l,f,c,m]),d(g.t)}var aie=ie([Kn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),sie=ie([aie,ys,vs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),tT=()=>Be(sie),oie=()=>Be($te);function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e,n){return(e=uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=cie(t,"string");return typeof e=="symbol"?e:e+""}function cie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fie=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var l=XP(XP({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Dn(i,!1)),UE(i)),c;return S.isValidElement(i)?c=S.cloneElement(i,l):typeof i=="function"?c=i(l):c=S.createElement(I6,l),S.createElement(yc,{className:"recharts-active-dot"},c)};function die(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=Be(Kd),l=oie();if(e==null||l==null)return null;var c=e.find(f=>l.includes(f.payload));return cn(c)?null:fie({point:c,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var hie={},N6=qr({name:"errorBars",initialState:hie,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Poe,removeErrorBar:Noe}=N6.actions,mie=N6.reducer,pie=["children"];function gie(t,e){if(t==null)return{};var n,r,i=yie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bie=S.createContext(vie);function _ie(t){var{children:e}=t,n=gie(t,pie);return S.createElement(bie.Provider,{value:n},e)}function D6(t,e){var n,r,i=Be(d=>_s(d,t)),s=Be(d=>Fo(d,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Pr.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Nr.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function wie(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=tT(),{needClipX:s,needClipY:l,needClip:c}=D6(e,n);if(!c)return null;var{x:f,y:d,width:m,height:g}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:s?f:f-m/2,y:l?d:d-g/2,width:s?m:m*2,height:l?g:g*2}))}var Eie=t=>{var{chartData:e}=t,n=dr(),r=bi();return S.useEffect(()=>r?()=>{}:(n(_P(e)),()=>{n(_P(void 0))}),[e,n,r]),null},QP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},k6=qr({name:"brush",initialState:QP,reducers:{setBrushSettings(t,e){return e.payload==null?QP:e.payload}}}),{setBrushSettings:Doe}=k6.actions,xie=k6.reducer;function Tie(t,e,n){return(e=Aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t){var e=Sie(t,"string");return typeof e=="symbol"?e:e+""}function Sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nT{static create(e){return new nT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Tie(nT,"EPS",1e-4);function Cie(t){return(t%180+180)%180}var Oie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Cie(i),l=s*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Iie={dots:[],areas:[],lines:[]},M6=qr({name:"referenceElements",initialState:Iie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=es(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=es(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=es(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:koe,removeDot:Moe,addArea:joe,removeArea:Loe,addLine:Voe,removeLine:Uoe}=M6.actions,Rie=M6.reducer,Pie=S.createContext(void 0),Nie=t=>{var{children:e}=t,[n]=S.useState("".concat(Ld("recharts"),"-clip")),r=tT();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return S.createElement(Pie.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function K_(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function j6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Die(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Oie(r,n)}function kie(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Sg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Mie(t,e){return j6(t,e+1)}function jie(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,f=0,d=1,m=l,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:j6(r,d)};var w=f,x,C=()=>(x===void 0&&(x=n(E,w)),x),R=E.coordinate,k=f===0||Sg(t,R,C,m,c);k||(f=0,m=l,d+=1),k&&(m=R+t*(C()/2+i),f+=d)},v;d<=s.length;)if(v=g(),v)return v.v;return[]}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){Lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lie(t,e,n){return(e=Vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vie(t){var e=Uie(t,"string");return typeof e=="symbol"?e:e+""}function Uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bie(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:f}=e,d=function(v){var _=s[v],E,w=()=>(E===void 0&&(E=n(_,v)),E);if(v===l-1){var x=t*(_.coordinate+t*w()/2-f);s[v]=_=Xn(Xn({},_),{},{tickCoord:x>0?_.coordinate-x*t:_.coordinate})}else s[v]=_=Xn(Xn({},_),{},{tickCoord:_.coordinate});var C=Sg(t,_.tickCoord,w,c,f);C&&(f=_.tickCoord-t*(w()/2+i),s[v]=Xn(Xn({},_),{},{isShow:!0}))},m=l-1;m>=0;m--)d(m);return s}function zie(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:f,end:d}=e;if(s){var m=r[c-1],g=n(m,c-1),v=t*(m.coordinate+t*g/2-d);l[c-1]=m=Xn(Xn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var _=Sg(t,m.tickCoord,()=>g,f,d);_&&(d=m.tickCoord-t*(g/2+i),l[c-1]=Xn(Xn({},m),{},{isShow:!0}))}for(var E=s?c-1:c,w=function(R){var k=l[R],q,M=()=>(q===void 0&&(q=n(k,R)),q);if(R===0){var U=t*(k.coordinate-t*M()/2-f);l[R]=k=Xn(Xn({},k),{},{tickCoord:U<0?k.coordinate-U*t:k.coordinate})}else l[R]=k=Xn(Xn({},k),{},{tickCoord:k.coordinate});var P=Sg(t,k.tickCoord,M,f,d);P&&(f=k.tickCoord+t*(M()/2+i),l[R]=Xn(Xn({},k),{},{isShow:!0}))},x=0;x<E;x++)w(x);return l}function rT(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:f,tickFormatter:d,unit:m,angle:g}=t;if(!i||!i.length||!r)return[];if(je(f)||dh.isSsr){var v;return(v=Mie(i,je(f)?f:0))!==null&&v!==void 0?v:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",w=m&&E==="width"?Td(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(k,q)=>{var M=typeof d=="function"?d(k.value,q):k.value;return E==="width"?Die(Td(M,{fontSize:e,letterSpacing:n}),w,g):Td(M,{fontSize:e,letterSpacing:n})[E]},C=i.length>=2?ci(i[1].coordinate-i[0].coordinate):1,R=kie(s,C,E);return f==="equidistantPreserveStart"?jie(C,R,x,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=zie(C,R,x,i,l,f==="preserveStartEnd"):_=Bie(C,R,x,i,l),_.filter(k=>k.isShow))}var Fie=["viewBox"],qie=["viewBox"];function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){iT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eN(t,e){if(t==null)return{};var n,r,i=$ie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iT(t,e,n){return(e=Hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Kie(t,"string");return typeof e=="symbol"?e:e+""}function Kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qo extends S.Component{constructor(e){super(e),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=eN(e,Fie),s=this.props,{viewBox:l}=s,c=eN(s,qie);return!K_(r,l)||!K_(i,c)||!K_(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:s,orientation:l,tickSize:c,mirror:f,tickMargin:d}=this.props,m,g,v,_,E,w,x=f?-1:1,C=e.tickSize||c,R=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=g=e.coordinate,_=r+ +!f*s,v=_-x*C,w=v-x*d,E=R;break;case"left":v=_=e.coordinate,g=n+ +!f*i,m=g-x*C,E=m-x*d,w=R;break;case"right":v=_=e.coordinate,g=n+ +f*i,m=g+x*C,E=m+x*d,w=R;break;default:m=g=e.coordinate,_=r+ +f*s,v=_+x*C,w=v+x*d,E=R;break}return{line:{x1:m,y1:v,x2:g,y2:_},tick:{x:E,y:w}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c}=this.props,f=vn(vn(vn({},Dn(this.props,!1)),Dn(c,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!l||s==="bottom"&&l);f=vn(vn({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var m=+(s==="left"&&!l||s==="right"&&l);f=vn(vn({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return S.createElement("line",rc({},f,{className:pt("recharts-cartesian-axis-line",Gl(c,"className"))}))}static renderTickItem(e,n,r){var i,s=pt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,vn(vn({},n),{},{className:s}));else if(typeof e=="function")i=e(vn(vn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=pt(l,e.className)),i=S.createElement(Jx,rc({},n,{className:l}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:l,tickFormatter:c,unit:f,padding:d}=this.props,m=rT(vn(vn({},this.props),{},{ticks:r}),e,n),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),_=Lc(this.props),E=Dn(l,!1),w=vn(vn({},_),{},{fill:"none"},Dn(i,!1)),x=m.map((C,R)=>{var{line:k,tick:q}=this.getTickLineCoord(C),M=vn(vn(vn(vn({textAnchor:g,verticalAnchor:v},_),{},{stroke:"none",fill:s},E),q),{},{index:R,payload:C,visibleTicksCount:m.length,tickFormatter:c,padding:d});return S.createElement(yc,rc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},LK(this.props,C,R)),i&&S.createElement("line",rc({},w,k,{className:pt("recharts-cartesian-axis-tick-line",Gl(i,"className"))})),l&&qo.renderTickItem(l,M,"".concat(typeof c=="function"?c(C.value,R):C.value).concat(f||"")))});return x.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},x):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:l}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:S.createElement(yc,{className:pt("recharts-cartesian-axis",i),ref:c=>{if(c){var f=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var d=f[0];if(d){var m=window.getComputedStyle(d).fontSize,g=window.getComputedStyle(d).letterSpacing;(m!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),kr.renderCallByParent(this.props))}}iT(qo,"displayName","CartesianAxis");iT(qo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Gie=["x1","y1","x2","y2","key"],Yie=["offset"],Wie=["xAxisId","yAxisId"],Xie=["xAxisId","yAxisId"];function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){Qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e,n){return(e=Zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=Jie(t,"string");return typeof e=="symbol"?e:e+""}function Jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(null,arguments)}function Cg(t,e){if(t==null)return{};var n,r,i=eae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:c}=t;return S.createElement("rect",{x:r,y:i,ry:c,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function L6(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:l,key:c}=e,f=Cg(e,Gie),d=Lc(f),{offset:m}=d,g=Cg(d,Yie);n=S.createElement("line",Nl({},g,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:c}))}return n}function nae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=Cg(t,Wie),f=i.map((d,m)=>{var g=Jn(Jn({},c),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return L6(r,g)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function rae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=Cg(t,Xie),f=i.map((d,m)=>{var g=Jn(Jn({},c),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return L6(r,g)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function iae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:c,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var d=c.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==d[0]&&d.unshift(0);var m=d.map((g,v)=>{var _=!d[v+1],E=_?i+l-g:d[v+1]-g;if(E<=0)return null;var w=v%e.length;return S.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:E,width:s,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function aae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:c,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==d[0]&&d.unshift(0);var m=d.map((g,v)=>{var _=!d[v+1],E=_?i+l-g:d[v+1]-g;if(E<=0)return null;var w=v%n.length;return S.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:E,height:c,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var sae=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return YM(rT(Jn(Jn(Jn({},qo.defaultProps),n),{},{ticks:WM(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},oae=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return YM(rT(Jn(Jn(Jn({},qo.defaultProps),n),{},{ticks:WM(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},lae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function V6(t){var e=e3(),n=t3(),r=JM(),i=Jn(Jn({},Vo(t,lae)),{},{x:je(t.x)?t.x:r.left,y:je(t.y)?t.y:r.top,width:je(t.width)?t.width:r.width,height:je(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:c,y:f,width:d,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:_}=i,E=bi(),w=Be(D=>fP(D,"xAxis",s,E)),x=Be(D=>fP(D,"yAxis",l,E));if(!je(d)||d<=0||!je(m)||m<=0||!je(c)||c!==+c||!je(f)||f!==+f)return null;var C=i.verticalCoordinatesGenerator||sae,R=i.horizontalCoordinatesGenerator||oae,{horizontalPoints:k,verticalPoints:q}=i;if((!k||!k.length)&&typeof R=="function"){var M=v&&v.length,U=R({yAxis:x?Jn(Jn({},x),{},{ticks:M?v:x.ticks}):void 0,width:e,height:n,offset:r},M?!0:g);xd(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(k=U)}if((!q||!q.length)&&typeof C=="function"){var P=_&&_.length,N=C({xAxis:w?Jn(Jn({},w),{},{ticks:P?_:w.ticks}):void 0,width:e,height:n,offset:r},P?!0:g);xd(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(q=N)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(tae,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(iae,Nl({},i,{horizontalPoints:k})),S.createElement(aae,Nl({},i,{verticalPoints:q})),S.createElement(nae,Nl({},i,{offset:r,horizontalPoints:k,xAxis:w,yAxis:x})),S.createElement(rae,Nl({},i,{offset:r,verticalPoints:q,xAxis:w,yAxis:x})))}V6.displayName="CartesianGrid";var U6=(t,e,n,r)=>Xj(t,"xAxis",e,r),B6=(t,e,n,r)=>Wj(t,"xAxis",e,r),z6=(t,e,n,r)=>Xj(t,"yAxis",n,r),F6=(t,e,n,r)=>Wj(t,"yAxis",n,r),uae=ie([kt,U6,z6,B6,F6],(t,e,n,r,i)=>Lo(t,"xAxis")?K1(e,r,!1):K1(n,i,!1)),cae=(t,e,n,r,i)=>i;function fae(t){return t.type==="line"}var dae=ie([vj,cae],(t,e)=>t.filter(fae).find(n=>n.id===e)),hae=ie([kt,U6,z6,B6,F6,dae,uae,Sx],(t,e,n,r,i,s,l,c)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:m}=c;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:g,data:v}=s,_;if(v!=null&&v.length>0?_=v:_=f==null?void 0:f.slice(d,m+1),_!=null)return kae({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}}),mae=["id"],pae=["type","layout","connectNulls","needClip"],gae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aT(t,e){if(t==null)return{};var n,r,i=_ae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(null,arguments)}var wae=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:XM(n,e),payload:t}]};function Eae(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:c,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:XM(l,e),hide:c,type:t.tooltipType,color:t.stroke,unit:f}}}var q6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function xae(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Tae=(t,e,n)=>{var r=n.reduce((g,v)=>g+v);if(!r)return q6(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,c=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>s){c=[...n.slice(0,f),s-d];break}var m=c.length%2===0?[0,l]:[l];return[...xae(n,i),...c,...m].map(g=>"".concat(g,"px")).join(", ")};function Aae(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=pt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=S.createElement(I6,Ql({},e,{className:r}))}return n}function Sae(t,e){return t==null?!1:e?!0:t.length===1}function Cae(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r;if(!Sae(n,i))return null;var{id:c}=r,f=aT(r,mae),d=Qk(i),m=Lc(f),g=Dn(i,!0),v=n.map((E,w)=>{var x=Oi(Oi(Oi({key:"dot-".concat(w),r:3},m),g),{},{index:w,cx:E.x,cy:E.y,dataKey:s,value:E.value,payload:E.payload,points:n});return Aae(i,x)}),_={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return S.createElement(yc,Ql({className:"recharts-line-dots",key:"dots"},_),v)}function gw(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:l}=t,{type:c,layout:f,connectNulls:d,needClip:m}=s,g=aT(s,pae),v=Oi(Oi({},Dn(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:f,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(i3,Ql({},v,{pathRef:n})),S.createElement(Cae,{points:r,clipPathId:e,props:s}),l&&Ul.renderCallByParent(s,r))}function Oae(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Iae(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:c,isAnimationActive:f,animationBegin:d,animationDuration:m,animationEasing:g,animateNewValues:v,width:_,height:E,onAnimationEnd:w,onAnimationStart:x}=n,C=i.current,R=$re(n,"recharts-line-"),[k,q]=S.useState(!1),M=S.useCallback(()=>{typeof w=="function"&&w(),q(!1)},[w]),U=S.useCallback(()=>{typeof x=="function"&&x(),q(!0)},[x]),P=Oae(r.current),N=s.current;return S.createElement(iie,{begin:d,duration:m,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:U,key:R},D=>{var L=Jf(N,P+N,D),z=Math.min(L,P),F;if(c){var B="".concat(c).split(/[,\s]+/gim).map(te=>parseFloat(te));F=Tae(z,P,B)}else F=q6(P,z);if(C){var _e=C.length/l.length,me=D===1?l:l.map((te,he)=>{var ve=Math.floor(he*_e);if(C[ve]){var xe=C[ve];return Oi(Oi({},te),{},{x:Jf(xe.x,te.x,D),y:Jf(xe.y,te.y,D)})}return v?Oi(Oi({},te),{},{x:Jf(_*2,te.x,D),y:Jf(E/2,te.y,D)}):Oi(Oi({},te),{},{x:te.x,y:te.y})});return i.current=me,S.createElement(gw,{props:n,points:me,clipPathId:e,pathRef:r,showLabels:!k,strokeDasharray:F})}return D>0&&P>0&&(i.current=l,s.current=z),S.createElement(gw,{props:n,points:l,clipPathId:e,pathRef:r,showLabels:!k,strokeDasharray:F})})}function Rae(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,s=S.useRef(null),l=S.useRef(0),c=S.useRef(null),f=s.current;return i&&r&&r.length&&f!==r?S.createElement(Iae,{props:n,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:l,pathRef:c}):S.createElement(gw,{props:n,points:r,clipPathId:e,pathRef:c,showLabels:!0})}var Pae=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:fr(t.payload,e)});class Nae extends S.Component{render(){var e,{hide:n,dot:r,points:i,className:s,xAxisId:l,yAxisId:c,top:f,left:d,width:m,height:g,id:v,needClip:_}=this.props;if(n)return null;var E=pt("recharts-line",s),w=v,{r:x=3,strokeWidth:C=2}=(e=Dn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},R=Qk(r),k=x*2+C;return S.createElement(S.Fragment,null,S.createElement(yc,{className:E},_&&S.createElement("defs",null,S.createElement(wie,{clipPathId:w,xAxisId:l,yAxisId:c}),!R&&S.createElement("clipPath",{id:"clipPath-dots-".concat(w)},S.createElement("rect",{x:d-k/2,y:f-k/2,width:m+k,height:g+k}))),S.createElement(Rae,{props:this.props,clipPathId:w}),S.createElement(_ie,{xAxisId:l,yAxisId:c,data:i,dataPointFormatter:Pae,errorBarOffset:0},this.props.children)),S.createElement(die,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var $6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!dh.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Dae(t){var e=Vo(t,$6),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:c,dot:f,hide:d,isAnimationActive:m,label:g,legendType:v,xAxisId:_,yAxisId:E,id:w}=e,x=aT(e,gae),{needClip:C}=D6(_,E),R=tT(),k=tx(),q=bi(),M=Be(L=>hae(L,_,E,q,w));if(k!=="horizontal"&&k!=="vertical"||M==null||R==null)return null;var{height:U,width:P,x:N,y:D}=R;return S.createElement(Nae,Ql({},x,{id:w,connectNulls:c,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:d,label:g,legendType:v,xAxisId:_,yAxisId:E,points:M,layout:k,height:U,width:P,left:N,top:D,needClip:C}))}function kae(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:c,displayedData:f}=t;return f.map((d,m)=>{var g=fr(d,l);if(e==="horizontal"){var v=KI({axis:n,ticks:i,bandSize:c,entry:d,index:m}),_=cn(g)?null:r.scale(g);return{x:v,y:_,value:g,payload:d}}var E=cn(g)?null:n.scale(g),w=KI({axis:r,ticks:s,bandSize:c,entry:d,index:m});return E==null||w==null?null:{x:E,y:w,value:g,payload:d}}).filter(Boolean)}function H6(t){var e=Vo(t,$6),n=bi();return S.createElement(Wre,{id:e.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(qre,{legendPayload:wae(e)}),S.createElement(zre,{fn:Eae,args:e}),S.createElement(tie,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),S.createElement(Dae,Ql({},e,{id:r}))))}H6.displayName="Line";function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:e+""}function Lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vae={xAxis:{},yAxis:{},zAxis:{}},K6=qr({name:"cartesianAxis",initialState:Vae,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=iN(iN({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Uae,removeXAxis:Bae,addYAxis:zae,removeYAxis:Fae,addZAxis:Boe,removeZAxis:zoe,updateYAxisWidth:qae}=K6.actions,$ae=K6.reducer,Hae=["children"],Kae=["dangerouslySetInnerHTML","ticks"];function G6(t,e,n){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=Yae(t,"string");return typeof e=="symbol"?e:e+""}function Yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(null,arguments)}function Y6(t,e){if(t==null)return{};var n,r,i=Wae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xae(t){var e=dr(),n=S.useMemo(()=>{var{children:s}=t,l=Y6(t,Hae);return l},[t]),r=Be(s=>_s(s,n.id)),i=n===r;return S.useEffect(()=>(e(Uae(n)),()=>{e(Bae(n))}),[n,e]),i?t.children:null}var Qae=t=>{var{xAxisId:e,className:n}=t,r=Be(ZM),i=bi(),s="xAxis",l=Be(_=>qc(_,s,e,i)),c=Be(_=>Yj(_,s,e,i)),f=Be(_=>Uee(_,e)),d=Be(_=>$ee(_,e));if(f==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=t,v=Y6(t,Kae);return S.createElement(qo,yw({},v,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:pt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c}))},Zae=t=>{var e,n,r,i,s;return S.createElement(Xae,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},S.createElement(Qae,t))};class sT extends S.Component{render(){return S.createElement(Zae,this.props)}}G6(sT,"displayName","XAxis");G6(sT,"defaultProps",{allowDataOverflow:Pr.allowDataOverflow,allowDecimals:Pr.allowDecimals,allowDuplicatedCategory:Pr.allowDuplicatedCategory,height:Pr.height,hide:!1,mirror:Pr.mirror,orientation:Pr.orientation,padding:Pr.padding,reversed:Pr.reversed,scale:Pr.scale,tickCount:Pr.tickCount,type:Pr.type,xAxisId:0});var Jae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){e.forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var c=n?n.getBoundingClientRect().width:0,f=i+s,d=l+f+c+(n?r:0);return Math.round(d)}return 0},ese=["dangerouslySetInnerHTML","ticks"];function W6(t,e,n){return(e=tse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tse(t){var e=nse(t,"string");return typeof e=="symbol"?e:e+""}function nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(null,arguments)}function rse(t,e){if(t==null)return{};var n,r,i=ise(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ase(t){var e=dr();return S.useEffect(()=>(e(zae(t)),()=>{e(Fae(t))}),[t,e]),null}var sse=t=>{var e,{yAxisId:n,className:r,width:i,label:s}=t,l=S.useRef(null),c=S.useRef(null),f=Be(ZM),d=bi(),m=dr(),g="yAxis",v=Be(k=>qc(k,g,n,d)),_=Be(k=>Kee(k,n)),E=Be(k=>Hee(k,n)),w=Be(k=>Yj(k,g,n,d));if(S.useLayoutEffect(()=>{var k;if(!(i!=="auto"||!_||eT(s)||S.isValidElement(s))){var q=l.current,M=q==null||(k=q.tickRefs)===null||k===void 0?void 0:k.current,{tickSize:U,tickMargin:P}=q.props,N=Jae({ticks:M,label:c.current,labelGapWithTick:5,tickSize:U,tickMargin:P});Math.round(_.width)!==Math.round(N)&&m(qae({id:n,width:N}))}},[l,l==null||(e=l.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,_==null?void 0:_.width,_,m,s,n,i]),_==null||E==null)return null;var{dangerouslySetInnerHTML:x,ticks:C}=t,R=rse(t,ese);return S.createElement(qo,vw({},R,{ref:l,labelRef:c,scale:v,x:E.x,y:E.y,width:_.width,height:_.height,className:pt("recharts-".concat(g," ").concat(g),r),viewBox:f,ticks:w}))},ose=t=>{var e,n,r,i,s;return S.createElement(S.Fragment,null,S.createElement(ase,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),S.createElement(sse,t))},lse={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:Nr.allowDecimals,allowDuplicatedCategory:Nr.allowDuplicatedCategory,hide:!1,mirror:Nr.mirror,orientation:Nr.orientation,padding:Nr.padding,reversed:Nr.reversed,scale:Nr.scale,tickCount:Nr.tickCount,type:Nr.type,width:Nr.width,yAxisId:0};class oT extends S.Component{render(){return S.createElement(ose,this.props)}}W6(oT,"displayName","YAxis");W6(oT,"defaultProps",lse);var G_={exports:{}},Y_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function use(){if(aN)return Y_;aN=1;var t=Tc();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Y_.useSyncExternalStoreWithSelector=function(f,d,m,g,v){var _=i(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function x(M){if(!C){if(C=!0,R=M,M=g(M),v!==void 0&&E.hasValue){var U=E.value;if(v(U,M))return k=U}return k=M}if(U=k,n(R,M))return U;var P=g(M);return v!==void 0&&v(U,P)?(R=M,U):(R=M,k=P)}var C=!1,R,k,q=m===void 0?null:m;return[function(){return x(d())},q===null?void 0:function(){return x(q())}]},[d,m,g,v]);var w=r(f,_[0],_[1]);return s(function(){E.hasValue=!0,E.value=w},[w]),c(w),w},Y_}var sN;function cse(){return sN||(sN=1,G_.exports=use()),G_.exports}cse();function fse(t){t()}function dse(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fse(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oN={notify(){},get:()=>[]};function hse(t,e){let n,r=oN,i=0,s=!1;function l(w){m();const x=r.subscribe(w);let C=!1;return()=>{C||(C=!0,x(),g())}}function c(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function d(){return s}function m(){i++,n||(n=t.subscribe(f),r=dse())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oN)}function v(){s||(s=!0,m())}function _(){s&&(s=!1,g())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return E}var mse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pse=mse(),gse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yse=gse(),vse=()=>pse||yse?S.useLayoutEffect:S.useEffect,bse=vse(),W_=Symbol.for("react-redux-context"),X_=typeof globalThis<"u"?globalThis:{};function _se(){if(!S.createContext)return{};const t=X_[W_]??(X_[W_]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var wse=_se();function Ese(t){const{children:e,context:n,serverState:r,store:i}=t,s=S.useMemo(()=>{const f=hse(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=S.useMemo(()=>i.getState(),[i]);bse(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const c=n||wse;return S.createElement(c.Provider,{value:s},e)}var xse=Ese,Tse=(t,e)=>e,lT=ie([Tse,kt,hj,wn,c6,ws,Qte,Kn],nne),uT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},X6=gi("mouseClick"),Q6=fh();Q6.startListening({actionCreator:X6,effect:(t,e)=>{var n=t.payload,r=lT(e.getState(),uT(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(ite({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var bw=gi("mouseMove"),Z6=fh();Z6.startListening({actionCreator:bw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=$x(r,r.tooltip.settings.shared),s=lT(r,uT(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(r6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(n6()))}});function Ase(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var lN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},J6=qr({name:"rootProps",initialState:lN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:lN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Sse=J6.reducer,{updateOptions:Cse}=J6.actions,e5=qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Foe}=e5.actions,Ose=e5.reducer,t5=gi("keyDown"),n5=gi("focus"),cT=fh();cT.startListening({actionCreator:t5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(Hx(i,Hc(n))),c=ws(n);if(s==="Enter"){var f=Tg(n,"axis","hover",String(i.index));e.dispatch(fw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=Xee(n),m=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*m;if(!(c==null||v>=c.length||v<0)){var _=Tg(n,"axis","hover",String(v));e.dispatch(fw({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});cT.startListening({actionCreator:n5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Tg(n,"axis","hover",String(s));e.dispatch(fw({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var si=gi("externalEvent"),r5=fh();r5.startListening({actionCreator:si,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:zte(n),activeDataKey:Ute(n),activeIndex:Kd(n),activeLabel:h6(n),activeTooltipIndex:Kd(n),isTooltipActive:Fte(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Ise=ie([$c],t=>t.tooltipItemPayloads),Rse=ie([Ise,wh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),i5=gi("touchMove"),a5=fh();a5.startListening({actionCreator:i5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=$x(r,r.tooltip.settings.shared);if(i==="axis"){var s=lT(r,uT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(r6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0],f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(PW),m=(l=f.getAttribute(NW))!==null&&l!==void 0?l:void 0,g=Rse(e.getState(),d,m);e.dispatch(rte({activeDataKey:m,activeIndex:d,activeCoordinate:g}))}}});var Pse=TM({brush:xie,cartesianAxis:$ae,chartData:bne,errorBars:mie,graphicalItems:eie,layout:rW,legend:qW,options:mne,polarAxis:Bre,polarOptions:Ose,referenceElements:Rie,rootProps:Sse,tooltip:ate}),Nse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return OY({reducer:Pse,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([Q6.middleware,Z6.middleware,cT.middleware,r5.middleware,a5.middleware]),devTools:{serialize:{replacer:Ase},name:"recharts-".concat(n)}})};function Dse(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=bi(),s=S.useRef(null);if(i)return n;s.current==null&&(s.current=Nse(e,r));var l=KE;return S.createElement(xse,{context:l,store:s.current},n)}function kse(t){var{layout:e,width:n,height:r,margin:i}=t,s=dr(),l=bi();return S.useEffect(()=>{l||(s(eW(e)),s(tW({width:n,height:r})),s(JY(i)))},[s,l,e,n,r,i]),null}function Mse(t){var e=dr();return S.useEffect(()=>{e(Cse(t))},[e,t]),null}var jse=["children"];function Lse(t,e){if(t==null)return{};var n,r,i=Vse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(null,arguments)}var Use={width:"100%",height:"100%"},Bse=S.forwardRef((t,e)=>{var n=e3(),r=t3(),i=r3();if(!lg(n)||!lg(r))return null;var{children:s,otherAttributes:l,title:c,desc:f}=t,d,m;return typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0,S.createElement(Zk,Og({},l,{title:c,desc:f,role:m,tabIndex:d,width:n,height:r,style:Use,ref:e}),s)}),zse=t=>{var{children:e}=t,n=Be(Ey);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return S.createElement(Zk,{width:r,height:i,x:l,y:s},e)},uN=S.forwardRef((t,e)=>{var{children:n}=t,r=Lse(t,jse),i=bi();return i?S.createElement(zse,null,n):S.createElement(Bse,Og({ref:e},r),n)});function Fse(){var t=dr(),[e,n]=S.useState(null),r=Be(RW);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ji(s)&&s!==r&&t(nW(s))}},[e,t,r]),n}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){$se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $se(t,e,n){return(e=Hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gse=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:_,onTouchMove:E,onTouchStart:w,style:x,width:C}=t,R=dr(),[k,q]=S.useState(null),[M,U]=S.useState(null);Ene();var P=Fse(),N=S.useCallback(ue=>{P(ue),typeof e=="function"&&e(ue),q(ue),U(ue)},[P,e,q,U]),D=S.useCallback(ue=>{R(X6(ue)),R(si({handler:s,reactEvent:ue}))},[R,s]),L=S.useCallback(ue=>{R(bw(ue)),R(si({handler:d,reactEvent:ue}))},[R,d]),z=S.useCallback(ue=>{R(n6()),R(si({handler:m,reactEvent:ue}))},[R,m]),F=S.useCallback(ue=>{R(bw(ue)),R(si({handler:g,reactEvent:ue}))},[R,g]),B=S.useCallback(()=>{R(n5())},[R]),_e=S.useCallback(ue=>{R(t5(ue.key))},[R]),me=S.useCallback(ue=>{R(si({handler:l,reactEvent:ue}))},[R,l]),te=S.useCallback(ue=>{R(si({handler:c,reactEvent:ue}))},[R,c]),he=S.useCallback(ue=>{R(si({handler:f,reactEvent:ue}))},[R,f]),ve=S.useCallback(ue=>{R(si({handler:v,reactEvent:ue}))},[R,v]),xe=S.useCallback(ue=>{R(si({handler:w,reactEvent:ue}))},[R,w]),H=S.useCallback(ue=>{R(i5(ue)),R(si({handler:E,reactEvent:ue}))},[R,E]),oe=S.useCallback(ue=>{R(si({handler:_,reactEvent:ue}))},[R,_]);return S.createElement(b6.Provider,{value:k},S.createElement(KK.Provider,{value:M},S.createElement("div",{className:pt("recharts-wrapper",r),style:qse({position:"relative",cursor:"default",width:C,height:i},x),onClick:D,onContextMenu:me,onDoubleClick:te,onFocus:B,onKeyDown:_e,onMouseDown:he,onMouseEnter:L,onMouseLeave:z,onMouseMove:F,onMouseUp:ve,onTouchEnd:oe,onTouchMove:H,onTouchStart:xe,ref:N},n)))}),Yse=["children","className","width","height","style","compact","title","desc"];function Wse(t,e){if(t==null)return{};var n,r,i=Xse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qse=S.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:l,compact:c,title:f,desc:d}=t,m=Wse(t,Yse),g=Lc(m);return c?S.createElement(uN,{otherAttributes:g,title:f,desc:d},n):S.createElement(Gse,{className:r,style:l,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(uN,{otherAttributes:g,title:f,desc:d,ref:e},S.createElement(Nie,null,n)))}),Zse=["width","height"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(null,arguments)}function Jse(t,e){if(t==null)return{};var n,r,i=eoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var toe={top:5,right:5,bottom:5,left:5},noe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:toe,reverseStackOrder:!1,syncMethod:"index"},roe=S.forwardRef(function(e,n){var r,i=Vo(e.categoricalChartProps,noe),{width:s,height:l}=i,c=Jse(i,Zse);if(!lg(s)||!lg(l))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,categoricalChartProps:v}=e,_={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return S.createElement(Dse,{preloadedState:{options:_},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},S.createElement(Eie,{chartData:v.data}),S.createElement(kse,{width:s,height:l,layout:i.layout,margin:i.margin}),S.createElement(Mse,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(Qse,_w({},c,{width:s,height:l,ref:n})))}),ioe=["axis"],aoe=S.forwardRef((t,e)=>S.createElement(roe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ioe,tooltipPayloadSearcher:dne,categoricalChartProps:t,ref:e}));const soe=({monthlyResults:t})=>{const[e,n]=S.useState(""),[r,i]=S.useState([]);S.useEffect(()=>{if(t&&t.length>0){const l=[...new Set(t.map(c=>c.month.split("-")[0]))];l.sort((c,f)=>f-c),i(l),n(l[0])}},[t]);const s=t.filter(l=>l.month.startsWith(e)).sort((l,c)=>new Date(l.month)-new Date(c.month));return A.jsxs("div",{className:"bg-white p-3 rounded shadow-sm mb-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3",children:[A.jsx("h2",{className:"text-md font-semibold mb-2 sm:mb-0",children:"الربح الشهري"}),A.jsx("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",value:e,onChange:l=>n(l.target.value),children:r.map(l=>A.jsxs("option",{value:l,children:["السنة ",l]},l))})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[A.jsx("div",{className:"overflow-x-auto pb-4",children:A.jsxs("table",{className:"w-full text-sm text-right",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[A.jsx("th",{className:"py-1 px-2",children:"الشهر"}),A.jsx("th",{className:"py-1 px-2",children:"الربح"})]})}),A.jsx("tbody",{children:s.map(l=>A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-1 px-2",children:l.month}),A.jsxs("td",{className:"py-1 px-2 text-green-700 font-medium",children:[l.profit.toLocaleString()," الف"]})]},l.month))})]})}),A.jsx("h2",{className:"text-md font-semibold mb-2 sm:mb-0",children:"الخط البياني"}),A.jsx("div",{className:"h-64",children:A.jsx(Bne,{width:"100%",height:"100%",children:A.jsxs(aoe,{data:s,children:[A.jsx(V6,{strokeDasharray:"3 3"}),A.jsx(sT,{dataKey:"month"}),A.jsx(oT,{}),A.jsx(Rne,{}),A.jsx(H6,{type:"monotone",dataKey:"profit",stroke:"#10B981",strokeWidth:2})]})})})]})]})},ooe=t=>{const e={};return t.forEach(n=>{const r=new Date(n.created_date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`,s=n.serviceId;e[i]||(e[i]={}),e[i][s]||(e[i][s]={profit:0,soldCount:0,serviceName:n.service_name,items:{}});const l=Number(n.profit),c=Number(n.sold_quantity);e[i][s].profit+=isNaN(l)?0:l,e[i][s].soldCount+=!isNaN(c)&&c>0?c:0,Array.isArray(n.consumed)&&n.consumed.forEach(f=>{!f.name||!f.count||(e[i][s].items[f.name]||(e[i][s].items[f.name]=0),e[i][s].items[f.name]+=Number(f.count))})}),e},loe=({servicePackages:t})=>{const e=ooe(t),n=Object.keys(e).sort((E,w)=>new Date(w)-new Date(E)),r=[...new Set(n.map(E=>E.split("-")[0]))].sort((E,w)=>w-E),i=Array.from(new Set(t.map(E=>E.service_name))).sort(),[s,l]=S.useState(r[0]),[c,f]=S.useState("all"),[d,m]=S.useState("all");S.useEffect(()=>{l(r[0]),f("all"),m("all")},[t]);const g=n.filter(E=>E.startsWith(s)),v=[{value:"all",label:"الكل"},...g.map(E=>{const w=Number(E.split("-")[1]);return{value:E,label:`شهر ${w}`}})],_=c==="all"?g:[c];return A.jsxs("div",{className:"bg-white p-3 rounded shadow-sm mb-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 gap-3",children:[A.jsx("h2",{className:"text-md font-semibold mb-2 sm:mb-0",children:"أرباح الخدمات"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",value:s,onChange:E=>{l(E.target.value),f("all"),m("all")},children:r.map(E=>A.jsxs("option",{value:E,children:["السنة ",E]},E))}),A.jsx("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",value:c,onChange:E=>f(E.target.value),disabled:g.length===0,children:v.map(({value:E,label:w})=>A.jsx("option",{value:E,children:w},E))}),A.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",value:d,onChange:E=>m(E.target.value),children:[A.jsx("option",{value:"all",children:"كل الخدمات"}),i.map(E=>A.jsx("option",{value:E,children:E},E))]})]})]}),_.length===0?A.jsx("p",{className:"text-gray-500 text-sm",children:"لا توجد بيانات لهذا العام."}):_.map(E=>{const w=e[E],x=d==="all"?w:Object.fromEntries(Object.entries(w).filter(([,C])=>C.serviceName===d));return A.jsxs("div",{className:"mb-5",children:[A.jsxs("h3",{className:"text-sm font-bold mb-2 text-gray-700",children:["📅"," ",new Date(E+"-01").toLocaleString("ar-EG",{month:"long",year:"numeric"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm text-right",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[A.jsx("th",{className:"py-1 px-2",children:"الخدمة"}),A.jsx("th",{className:"py-1 px-2",children:"الربح (الف)"}),A.jsx("th",{className:"py-1 px-2",children:"المرات"}),A.jsx("th",{className:"py-1 px-2",children:"المواد المستهلكة"})]})}),A.jsx("tbody",{children:Object.entries(x).length===0?A.jsx("tr",{children:A.jsx("td",{colSpan:4,className:"py-2 text-center text-gray-500",children:"لا توجد بيانات للخدمة المختارة."})}):Object.entries(x).map(([C,R])=>A.jsxs("tr",{className:"border-b bg-white",children:[A.jsx("td",{className:"py-1 px-2",children:R.serviceName}),A.jsx("td",{className:"py-1 px-2 text-green-700 font-medium",children:R.profit.toLocaleString()}),A.jsx("td",{className:"py-1 px-2",children:R.soldCount}),A.jsx("td",{className:"py-1 px-2 text-gray-600 text-xs",children:Object.entries(R.items).map(([k,q])=>`${k}: ${q}`).join("، ")||"-"})]},C))})]})})]},E)})]})},uoe=({onMonthlyTotalsChange:t})=>{const[e,n]=S.useState([]),[r,i]=S.useState([]),[s,l]=S.useState({}),[c,f]=S.useState(""),[d,m]=S.useState("all"),[g,v]=S.useState([]),[_,E]=S.useState([]),[w,x]=S.useState(!0),C=M=>{const U={};return M.forEach(P=>{var D;const N=P.item_name;(D=P==null?void 0:P.sold)==null||D.forEach(L=>{const z=new Date(L.date),F=`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}`,B=parseInt(L.count),_e=parseFloat(Number(L.price)-Number(P.bought_price))*B;U[N]||(U[N]={}),U[N][F]||(U[N][F]={count:0,total:0}),U[N][F].count+=B,U[N][F].total+=_e})}),U};S.useEffect(()=>{R(),k()},[]),S.useEffect(()=>{const M=C(e),U=C(r),P={},N={},D=new Set,L=new Set;new Set([...Object.keys(M),...Object.keys(U)]).forEach(me=>{P[me]={},L.add(me),new Set([...Object.keys(M[me]||{}),...Object.keys(U[me]||{})]).forEach(he=>{var ue,ye;D.add(he);const ve=((ue=M[me])==null?void 0:ue[he])||{count:0,total:0},xe=((ye=U[me])==null?void 0:ye[he])||{count:0,total:0},H=ve.count+xe.count,oe=ve.total+xe.total;P[me][he]={count:H,total:oe},N[he]||(N[he]=0),N[he]+=oe})}),l(P);const F=Array.from(D).sort((me,te)=>new Date(te)-new Date(me));v(F),f(F[0]||"");const B=Array.from(L).sort();E(B);const _e=Object.entries(N).map(([me,te])=>({month:me,total:te})).sort((me,te)=>new Date(te.month)-new Date(me.month));t&&t(_e)},[e,r]);const R=async()=>{x(!0);const M=new Date,U=new Date(M.getFullYear()-2,M.getMonth()-1,1),P=new Date(M.getFullYear(),M.getMonth()+1,0),N=us(Ct(Xe,"packages2"),aa("createdAt",">=",U),aa("createdAt","<=",P)),D=await Ur(N),L=[];D.forEach(z=>{L.push({id:z.id,...z.data()})}),n(L),x(!1)},k=async()=>{x(!0);const M=new Date,U=new Date(M.getFullYear()-2,M.getMonth()-1,1),P=new Date(M.getFullYear(),M.getMonth()+1,0),N=us(Ct(Xe,"consumedpackages2"),aa("createdAt",">=",U),aa("createdAt","<=",P)),D=await Ur(N),L=[];D.forEach(z=>{L.push({id:z.id,...z.data()})}),i(L),x(!1)},q=Object.entries(s).map(([M,U])=>{var P,N;if(c==="all"){const D=Object.values(U).reduce((z,F)=>z+F.count,0),L=Object.values(U).reduce((z,F)=>z+F.total,0);return{name:M,count:D,total:L}}else return{name:M,count:((P=U[c])==null?void 0:P.count)||0,total:((N=U[c])==null?void 0:N.total)||0}}).filter(M=>M.count>0).filter(M=>d==="all"||M.name===d);return A.jsxs("div",{className:"bg-white p-4 rounded shadow-sm mb-6",children:[A.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[A.jsx("h2",{className:"text-md font-semibold",children:"📦 المنتجات المباعة"}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("label",{className:"text-sm font-medium",children:"الشهر:"}),A.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:c,onChange:M=>f(M.target.value),children:[A.jsx("option",{value:"all",children:"الكل"}),g.map(M=>A.jsx("option",{value:M,children:M},M))]})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("label",{className:"text-sm font-medium",children:"المنتج:"}),A.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:d,onChange:M=>m(M.target.value),children:[A.jsx("option",{value:"all",children:"الكل"}),_.map(M=>A.jsx("option",{value:M,children:M},M))]})]})]})]}),w?A.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"جاري تحميل البيانات..."}):q.length===0?A.jsx("p",{className:"text-gray-400 text-sm",children:"لا توجد بيانات مطابقة."}):A.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300 text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 text-right",children:[A.jsx("th",{className:"p-2 border border-gray-300 w-1/2",children:"المنتج"}),A.jsx("th",{className:"p-2 border border-gray-300 w-1/4",children:"الكمية"}),A.jsx("th",{className:"p-2 border border-gray-300 w-1/4",children:"الإجمالي (الف)"})]})}),A.jsx("tbody",{children:q.map(M=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"p-2 border border-gray-300",children:M.name}),A.jsx("td",{className:"p-2 border border-gray-300",children:M.count}),A.jsx("td",{className:"p-2 border border-gray-300 text-green-700 font-medium",children:M.total.toLocaleString()})]},M.name))})]})]})},coe=async()=>{const t=new Date,e=new Date(t.getFullYear()-2,t.getMonth()-1,1),n=new Date(t.getFullYear(),t.getMonth()+1,0),r=us(Ct(Xe,"expensepackages2"),aa("createdAt",">=",e),aa("createdAt","<=",n)),i=await Ur(r),s={},l=[];return i.forEach(c=>{const f=c.data();if(!f.date||!f.price)return;const d=f.createdAt?f.createdAt.toDate():new Date(f.date),m=d.getMonth()+1,v=`${d.getFullYear()}-${m.toString().padStart(2,"0")}`,_=Number(f.price)||0;s[v]||(s[v]=0,l.push(v)),s[v]+=_}),l.sort((c,f)=>new Date(f)-new Date(c)),{monthlyExpenses:s,monthsList:l}},foe=({onExpensesChange:t})=>{const[e,n]=S.useState({}),[r,i]=S.useState([]),[s,l]=S.useState("");S.useEffect(()=>{(async()=>{const{monthlyExpenses:d,monthsList:m}=await coe();n(d),i(m);const g=[...new Set(m.map(v=>v.split("-")[0]))];if(g.sort((v,_)=>_-v),l(g[0]),t){const v=m.map(_=>({month:_,total:d[_]}));t(v)}})()},[]);const c=r.filter(f=>f.startsWith(s));return A.jsxs("div",{className:"bg-white p-3 rounded shadow-sm mb-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3",children:[A.jsx("h2",{className:"text-md font-semibold mb-2 sm:mb-0",children:"المصروفات الشهرية"}),A.jsx("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",value:s,onChange:f=>l(f.target.value),children:[...new Set(r.map(f=>f.split("-")[0]))].sort((f,d)=>d-f).map(f=>A.jsxs("option",{value:f,children:["السنة ",f]},f))})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm text-right",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[A.jsx("th",{className:"py-1 px-2",children:"الشهر"}),A.jsx("th",{className:"py-1 px-2",children:"المصروفات"})]})}),A.jsx("tbody",{children:c.map(f=>{var d;return A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-1 px-2",children:f}),A.jsxs("td",{className:"py-1 px-2 text-red-700 font-medium",children:[(d=e[f])==null?void 0:d.toLocaleString()," الف"]})]},f)})})]})})]})},doe=()=>{const[t,e]=S.useState(!0),[n,r]=S.useState([]),[i,s]=S.useState([]),[l,c]=S.useState([]),[f,d]=S.useState([]),[m,g]=S.useState(""),[v,_]=S.useState([]);S.useEffect(()=>{E(),w()},[]);const E=async()=>{e(!0);const M=new Date,U=new Date(M.getFullYear()-2,0,1),P=new Date,N=us(Ct(Xe,"servicepackages2"),aa("createdAt",">=",wt.fromDate(U)),aa("createdAt","<=",wt.fromDate(P))),L=(await Ur(N)).docs.map(z=>({id:z.id,...z.data()}));r(L),e(!1)},w=async()=>{const M=["packages2","consumedpackages2"],U=[];for(const P of M)(await Ur(Ct(Xe,P))).docs.forEach(D=>{const L=D.data();if(!L.consumed||!L.bought_price||!L.consumedAt)return;const z=L.consumedAt.toDate(),F=`${z.getFullYear()}-${(z.getMonth()+1).toString().padStart(2,"0")}`,B=Number(L.consumed)*Number(L.bought_price),_e=U.find(me=>me.month===F);_e?_e.total+=B:U.push({month:F,total:B})});d(U)};S.useEffect(()=>{const M={};n.forEach(N=>{if(!N.createdAt||N.profit==null)return;const D=N.createdAt.toDate(),L=D.getMonth()+1,F=`${D.getFullYear()}-${L.toString().padStart(2,"0")}`;M[F]||(M[F]=0),M[F]+=Number(N.profit)||0});const U=[...l.map(N=>N.month),...i.map(N=>N.month),...Object.keys(M),...f.map(N=>N.month)],P=Array.from(new Set(U.map(N=>N.split("-")[0]))).sort((N,D)=>D-N);P.length>0&&(_(P),g(P[0]))},[l,i,n,f]);const x=[],C={};n.forEach(M=>{if(!M.createdAt||M.profit==null)return;const U=M.createdAt.toDate(),P=U.getMonth()+1,D=`${U.getFullYear()}-${P.toString().padStart(2,"0")}`;C[D]||(C[D]=0),C[D]+=Number(M.profit)||0}),new Set([...l.map(M=>M.month),...i.map(M=>M.month),...Object.keys(C),...f.map(M=>M.month)]).forEach(M=>{var L,z,F;const U=((L=l.find(B=>B.month===M))==null?void 0:L.total)||0,P=((z=i.find(B=>B.month===M))==null?void 0:z.total)||0,N=C[M]||0,D=((F=f.find(B=>B.month===M))==null?void 0:F.total)||0;x.push({month:M,sales:U,servicesIncome:N,expenses:P+D,profit:U+N-(P+D)})}),x.sort((M,U)=>new Date(U.month)-new Date(M.month));const q=x.filter(M=>M.month.startsWith(m)).reduce((M,U)=>M+U.profit,0);return t?A.jsxs("div",{className:"flex items-center gap-2",children:["جاري التحميل...",A.jsx("img",{src:"https://media.tenor.com/WX_LDjYUrMsAAAAm/loading.webp",alt:"loading",className:"h-6 w-6"})]}):A.jsxs("div",{className:"p-4 space-y-6",children:[A.jsxs("div",{className:"flex flex-col p-2 shadow rounded",children:[A.jsxs("div",{className:"rounded p-4 flex justify-center items-center gap-4",children:[A.jsx("label",{className:"block mb-2 text-sm font-bold",children:"اختر السنة:"}),A.jsx("select",{value:m,onChange:M=>g(M.target.value),className:"border py-2 px-4 rounded",children:v.map(M=>A.jsx("option",{value:M,children:M},M))})]}),A.jsxs("div",{className:"bg-green-100 p-4 rounded shadow text-center text-lg font-bold",children:["الربح السنوي لسنة ",m,":"," ",A.jsxs("span",{className:"text-green-800",children:[q.toLocaleString()," الف"]})]})]}),A.jsx(soe,{monthlyResults:x}),A.jsx(foe,{onTotalChange:s}),n.length>0&&A.jsx(loe,{servicePackages:n}),A.jsx(uoe,{onMonthlyTotalsChange:c})]})},hoe=()=>{const{id:t}=bN(),[e,n]=S.useState(null),[r,i]=S.useState(null),[s,l]=S.useState(!0),{register:c,handleSubmit:f}=gs();S.useEffect(()=>{d(),m()},[]);const d=async()=>{l(!0);const v=cr(Xe,"expensepackages2",t);await ly(v).then(_=>{_.exists()?n({..._.data()}):console.log("No such document!"),l(!1)}).catch(_=>{console.error("Error fetching document:",_),l(!1)})},m=async()=>{const v=await Ur(Ct(Xe,"expense2")),_=[];v.forEach(E=>{_.push({id:E.id,name:E.data().name})}),i(_)},g=async v=>{try{console.log("بيانات النموذج:",v),await Kl(cr(Xe,"expensepackages2",t),{...v},{merge:!0}),Ae.success("تم تحديث بيانات المصروف بنجاح!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,rtl:!0})}catch(_){console.error("حدث خطأ أثناء الحفظ:",_),Ae.error(`فشل في الحفظ: ${_.message}`,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,rtl:!0})}};return s===!0?A.jsxs("div",{className:"flex",children:["Loading...",A.jsx("img",{src:"https://media.tenor.com/WX_LDjYUrMsAAAAm/loading.webp",alt:"loading",className:"h-6 w-6"})]}):A.jsx("div",{className:"rounded-lg shadow-sm p-4 border border-gray-100",children:A.jsxs("form",{onSubmit:f(g),className:"space-y-4",dir:"rtl",children:[A.jsx("h2",{className:"text-xl font-bold text-cyan-800 pb-2 border-b border-gray-200",children:"تعديل باقة المصروف"}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"itemId",className:"block text-sm font-medium text-cyan-800",children:"نوع المصروف"}),A.jsx("select",{id:"itemId",className:"w-full p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",...c("itemId",{required:!0}),children:r==null?void 0:r.map(v=>A.jsx("option",{value:v.id,children:v.name},v.id))})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-cyan-800",children:"المصروف بلألف"}),A.jsx("input",{id:"price",type:"text",className:"w-full p-2 border border-cyan-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",defaultValue:e==null?void 0:e.price,...c("price"),dir:"rtl"})]}),A.jsx("button",{type:"submit",className:"w-full bg-cyan-700 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 mt-4",children:"حفظ التغييرات"})]})})},moe=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),i=Tw(),s=async l=>{l.preventDefault();try{await P7(cy,t,n),i("/")}catch(c){Ae.error(c.message,{position:"top-center",autoClose:3e3,theme:"colored"}),console.error("خطأ في تسجيل الدخول:",c.message)}};return A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-cyan-50",children:A.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-96",children:[A.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-6 text-center",children:"تسجيل الدخول"}),A.jsxs("form",{className:"flex flex-col gap-4",onSubmit:s,children:[A.jsx("input",{type:"email",placeholder:"البريد الإلكتروني",value:t,onChange:l=>e(l.target.value),required:!0,className:"p-3 rounded-lg border border-cyan-200 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),A.jsx("input",{type:"password",placeholder:"كلمة المرور",value:n,onChange:l=>r(l.target.value),required:!0,className:"p-3 rounded-lg border border-cyan-200 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),A.jsx("button",{type:"submit",className:"bg-cyan-500 text-white py-3 rounded-lg font-semibold hover:bg-cyan-600 transition-colors",children:"تسجيل الدخول"})]})]})})},poe=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{const i=ED(cy,s=>{e(s),r(!1)});return()=>i()},[]),n?A.jsx("div",{className:"",children:"يرجى الانتظار..."}):t?A.jsx(DV,{}):A.jsx(EN,{to:"/login",replace:!0})};function goe(){const[t,e]=S.useState(null);return S.useEffect(()=>{const n=ED(cy,r=>{e(r)});return()=>n()},[]),A.jsxs("main",{className:"bg-cyan-50 min-h-dvh",children:[t&&A.jsx(dK,{}),A.jsxs("div",{className:"container mx-auto",children:[A.jsxs(MV,{children:[A.jsx(ta,{path:"/login",element:A.jsx(moe,{})}),A.jsxs(ta,{element:A.jsx(poe,{}),children:[A.jsx(ta,{path:"/",element:A.jsx(SO,{})}),A.jsx(ta,{path:"/products",element:A.jsx(ZH,{})}),A.jsx(ta,{path:"/products/:id",element:A.jsx(eK,{})}),A.jsx(ta,{path:"/expserv/:id",element:A.jsx(hoe,{})}),A.jsx(ta,{path:"/add",element:A.jsx(SO,{})}),A.jsx(ta,{path:"/accounting",element:A.jsx(doe,{})})]}),A.jsx(ta,{path:"*",element:A.jsx(EN,{to:"/login",replace:!0})})]}),A.jsx(W8,{position:"top-left",autoClose:3e3,newestOnTop:!0,closeOnClick:!0,rtl:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})]})}console.log("url "+import.meta.BASE_URL);FL.createRoot(document.getElementById("root")).render(A.jsx(S.StrictMode,{children:A.jsx(i8,{children:A.jsx(goe,{})})}));
